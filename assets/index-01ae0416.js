(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const It={};function Dg(t){It.context=t}const Lg=(t,e)=>t===e,cr=Symbol("solid-proxy"),Xa=Symbol("solid-track"),$g=Symbol("solid-dev-component"),co={equals:Lg};let Df=zf;const rn=1,fo=2,Lf={owned:null,cleanups:null,context:null,owner:null};var kt=null;let Vn=null,vt=null,Lt=null,Xr=null,Vl=0;function Js(t,e){const r=vt,n=kt,i=t.length===0,s=i?Lf:{owned:null,cleanups:null,context:null,owner:e||n},o=i?t:()=>t(()=>Gr(()=>$o(s)));kt=s,vt=null;try{return Oi(o,!0)}finally{vt=r,kt=n}}function ut(t,e){e=e?Object.assign({},co,e):co;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=i=>(typeof i=="function"&&(i=i(r.value)),Hf(r,i));return[Uf.bind(r),n]}function $f(t,e,r){const n=Lo(t,e,!0,rn);Pi(n)}function er(t,e,r){const n=Lo(t,e,!1,rn);Pi(n)}function xt(t,e,r){Df=Gg;const n=Lo(t,e,!1,rn),i=ju&&ql(kt,ju.id);i&&(n.suspense=i),n.user=!0,Xr?Xr.push(n):Pi(n)}function Se(t,e,r){r=r?Object.assign({},co,r):co;const n=Lo(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,Pi(n),Uf.bind(n)}function mi(t){return Oi(t,!1)}function Gr(t){const e=vt;vt=null;try{return t()}finally{vt=e}}function Fg(t,e,r){const n=Array.isArray(t);let i,s=r&&r.defer;return o=>{let a;if(n){a=Array(t.length);for(let c=0;c<t.length;c++)a[c]=t[c]()}else a=t();if(s){s=!1;return}const l=Gr(()=>e(a,i,o));return i=a,l}}function Za(t){xt(()=>Gr(t))}function Cs(t){return kt===null||(kt.cleanups===null?kt.cleanups=[t]:kt.cleanups.push(t)),t}function Ff(){return vt}function Wr(t,e){const r=Symbol("context");return{id:r,Provider:Vg(r),defaultValue:t}}function fr(t){let e;return(e=ql(kt,t.id))!==void 0?e:t.defaultValue}function Ug(t){const e=Se(t),r=Se(()=>el(e()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let ju;function Uf(){const t=Vn;if(this.sources&&(this.state||t))if(this.state===rn||t)Pi(this);else{const e=Lt;Lt=null,Oi(()=>go(this),!1),Lt=e}if(vt){const e=this.observers?this.observers.length:0;vt.sources?(vt.sources.push(this),vt.sourceSlots.push(e)):(vt.sources=[this],vt.sourceSlots=[e]),this.observers?(this.observers.push(vt),this.observerSlots.push(vt.sources.length-1)):(this.observers=[vt],this.observerSlots=[vt.sources.length-1])}return this.value}function Hf(t,e,r){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&Oi(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],o=Vn&&Vn.running;o&&Vn.disposed.has(s),(o&&!s.tState||!o&&!s.state)&&(s.pure?Lt.push(s):Xr.push(s),s.observers&&Gf(s)),o||(s.state=rn)}if(Lt.length>1e6)throw Lt=[],new Error},!1)),e}function Pi(t){if(!t.fn)return;$o(t);const e=kt,r=vt,n=Vl;vt=kt=t,Hg(t,t.value,n),vt=r,kt=e}function Hg(t,e,r){let n;try{n=t.fn(e)}catch(i){t.pure&&(t.state=rn,t.owned&&t.owned.forEach($o),t.owned=null),Wf(i)}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?Hf(t,n):t.value=n,t.updatedAt=r)}function Lo(t,e,r,n=rn,i){const s={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:kt,context:null,pure:r};return kt===null||kt!==Lf&&(kt.owned?kt.owned.push(s):kt.owned=[s]),s}function ho(t){const e=Vn;if(t.state===0||e)return;if(t.state===fo||e)return go(t);if(t.suspense&&Gr(t.suspense.inFallback))return t.suspense.effects.push(t);const r=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Vl);)(t.state||e)&&r.push(t);for(let n=r.length-1;n>=0;n--)if(t=r[n],t.state===rn||e)Pi(t);else if(t.state===fo||e){const i=Lt;Lt=null,Oi(()=>go(t,r[0]),!1),Lt=i}}function Oi(t,e){if(Lt)return t();let r=!1;e||(Lt=[]),Xr?r=!0:Xr=[],Vl++;try{const n=t();return zg(r),n}catch(n){Lt||(Xr=null),Lt=null,Wf(n)}}function zg(t){if(Lt&&(zf(Lt),Lt=null),t)return;const e=Xr;Xr=null,e.length&&Oi(()=>Df(e),!1)}function zf(t){for(let e=0;e<t.length;e++)ho(t[e])}function Gg(t){let e,r=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[r++]=n:ho(n)}for(It.context&&Dg(),e=0;e<r;e++)ho(t[e])}function go(t,e){const r=Vn;t.state=0;for(let n=0;n<t.sources.length;n+=1){const i=t.sources[n];i.sources&&(i.state===rn||r?i!==e&&ho(i):(i.state===fo||r)&&go(i,e))}}function Gf(t){const e=Vn;for(let r=0;r<t.observers.length;r+=1){const n=t.observers[r];(!n.state||e)&&(n.state=fo,n.pure?Lt.push(n):Xr.push(n),n.observers&&Gf(n))}}function $o(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),n=t.sourceSlots.pop(),i=r.observers;if(i&&i.length){const s=i.pop(),o=r.observerSlots.pop();n<i.length&&(s.sourceSlots[o]=n,i[n]=s,r.observerSlots[n]=o)}}if(t.owned){for(e=0;e<t.owned.length;e++)$o(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}t.state=0,t.context=null}function Wg(t){return t instanceof Error||typeof t=="string"?t:new Error("Unknown error")}function Wf(t){throw t=Wg(t),t}function ql(t,e){return t?t.context&&t.context[e]!==void 0?t.context[e]:ql(t.owner,e):void 0}function el(t){if(typeof t=="function"&&!t.length)return el(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const n=el(t[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function Vg(t,e){return function(n){let i;return er(()=>i=Gr(()=>(kt.context={[t]:n.value},Ug(()=>n.children))),void 0),i}}const qg=Symbol("fallback");function Ku(t){for(let e=0;e<t.length;e++)t[e]()}function jg(t,e,r={}){let n=[],i=[],s=[],o=0,a=e.length>1?[]:null;return Cs(()=>Ku(s)),()=>{let l=t()||[],c,h;return l[Xa],Gr(()=>{let v=l.length,E,C,_,D,k,P,$,q,F;if(v===0)o!==0&&(Ku(s),s=[],n=[],i=[],o=0,a&&(a=[])),r.fallback&&(n=[qg],i[0]=Js(V=>(s[0]=V,r.fallback())),o=1);else if(o===0){for(i=new Array(v),h=0;h<v;h++)n[h]=l[h],i[h]=Js(p);o=v}else{for(_=new Array(v),D=new Array(v),a&&(k=new Array(v)),P=0,$=Math.min(o,v);P<$&&n[P]===l[P];P++);for($=o-1,q=v-1;$>=P&&q>=P&&n[$]===l[q];$--,q--)_[q]=i[$],D[q]=s[$],a&&(k[q]=a[$]);for(E=new Map,C=new Array(q+1),h=q;h>=P;h--)F=l[h],c=E.get(F),C[h]=c===void 0?-1:c,E.set(F,h);for(c=P;c<=$;c++)F=n[c],h=E.get(F),h!==void 0&&h!==-1?(_[h]=i[c],D[h]=s[c],a&&(k[h]=a[c]),h=C[h],E.set(F,h)):s[c]();for(h=P;h<v;h++)h in _?(i[h]=_[h],s[h]=D[h],a&&(a[h]=k[h],a[h](h))):i[h]=Js(p);i=i.slice(0,o=v),n=l.slice(0)}return i});function p(v){if(s[h]=v,a){const[E,C]=ut(h);return a[h]=C,e(l[h],E)}return e(l[h])}}}function y(t,e){return Gr(()=>t(e||{}))}function Ds(){return!0}const tl={get(t,e,r){return e===cr?r:t.get(e)},has(t,e){return e===cr?!0:t.has(e)},set:Ds,deleteProperty:Ds,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Ds,deleteProperty:Ds}},ownKeys(t){return t.keys()}};function ka(t){return(t=typeof t=="function"?t():t)?t:{}}function X(...t){let e=!1;for(let n=0;n<t.length;n++){const i=t[n];e=e||!!i&&cr in i,t[n]=typeof i=="function"?(e=!0,Se(i)):i}if(e)return new Proxy({get(n){for(let i=t.length-1;i>=0;i--){const s=ka(t[i])[n];if(s!==void 0)return s}},has(n){for(let i=t.length-1;i>=0;i--)if(n in ka(t[i]))return!0;return!1},keys(){const n=[];for(let i=0;i<t.length;i++)n.push(...Object.keys(ka(t[i])));return[...new Set(n)]}},tl);const r={};for(let n=t.length-1;n>=0;n--)if(t[n]){const i=Object.getOwnPropertyDescriptors(t[n]);for(const s in i)s in r||Object.defineProperty(r,s,{enumerable:!0,get(){for(let o=t.length-1;o>=0;o--){const a=(t[o]||{})[s];if(a!==void 0)return a}}})}return r}function Bi(t,...e){const r=new Set(e.flat());if(cr in t){const i=e.map(s=>new Proxy({get(o){return s.includes(o)?t[o]:void 0},has(o){return s.includes(o)&&o in t},keys(){return s.filter(o=>o in t)}},tl));return i.push(new Proxy({get(s){return r.has(s)?void 0:t[s]},has(s){return r.has(s)?!1:s in t},keys(){return Object.keys(t).filter(s=>!r.has(s))}},tl)),i}const n=Object.getOwnPropertyDescriptors(t);return e.push(Object.keys(n).filter(i=>!r.has(i))),e.map(i=>{const s={};for(let o=0;o<i.length;o++){const a=i[o];a in t&&Object.defineProperty(s,a,n[a]?n[a]:{get(){return t[a]},set(){return!0},enumerable:!0})}return s})}let Kg=0;function Jg(){const t=It.context;return t?`${t.id}${t.count++}`:`cl-${Kg++}`}function Fo(t){const e="fallback"in t&&{fallback:()=>t.fallback};return Se(jg(()=>t.each,t.children,e||void 0))}function ne(t){let e=!1;const r=t.keyed,n=Se(()=>t.when,void 0,{equals:(i,s)=>e?i===s:!i==!s});return Se(()=>{const i=n();if(i){const s=t.children,o=typeof s=="function"&&s.length>0;return e=r||o,o?Gr(()=>s(i)):s}return t.fallback},void 0,void 0)}const Yg=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Qg=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Yg]),Xg=new Set(["innerHTML","textContent","innerText","children"]),Zg=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ju=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),e0=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),t0=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),r0={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function n0(t,e,r){let n=r.length,i=e.length,s=n,o=0,a=0,l=e[i-1].nextSibling,c=null;for(;o<i||a<s;){if(e[o]===r[a]){o++,a++;continue}for(;e[i-1]===r[s-1];)i--,s--;if(i===o){const h=s<n?a?r[a-1].nextSibling:r[s-a]:l;for(;a<s;)t.insertBefore(r[a++],h)}else if(s===a)for(;o<i;)(!c||!c.has(e[o]))&&e[o].remove(),o++;else if(e[o]===r[s-1]&&r[a]===e[i-1]){const h=e[--i].nextSibling;t.insertBefore(r[a++],e[o++].nextSibling),t.insertBefore(r[--s],h),e[i]=r[s]}else{if(!c){c=new Map;let p=a;for(;p<s;)c.set(r[p],p++)}const h=c.get(e[o]);if(h!=null)if(a<h&&h<s){let p=o,v=1,E;for(;++p<i&&p<s&&!((E=c.get(e[p]))==null||E!==h+v);)v++;if(v>h-a){const C=e[o];for(;a<h;)t.insertBefore(r[a++],C)}else t.replaceChild(r[a++],e[o++])}else o++;else e[o++].remove()}}}const Yu="_$DX_DELEGATE";function i0(t,e,r,n={}){let i;return Js(s=>{i=s,e===document?t():Zr(e,t(),e.firstChild?null:void 0,r)},n.owner),()=>{i(),e.textContent=""}}function Me(t,e,r){const n=document.createElement("template");n.innerHTML=t;let i=n.content.firstChild;return r&&(i=i.firstChild),i}function Ms(t,e=window.document){const r=e[Yu]||(e[Yu]=new Set);for(let n=0,i=t.length;n<i;n++){const s=t[n];r.has(s)||(r.add(s),e.addEventListener(s,f0))}}function jl(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function s0(t,e,r,n){n==null?t.removeAttributeNS(e,r):t.setAttributeNS(e,r,n)}function Uo(t,e){e==null?t.removeAttribute("class"):t.className=e}function o0(t,e,r,n){if(n)Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r;else if(Array.isArray(r)){const i=r[0];t.addEventListener(e,r[0]=s=>i.call(t,r[1],s))}else t.addEventListener(e,r)}function a0(t,e,r={}){const n=Object.keys(e||{}),i=Object.keys(r);let s,o;for(s=0,o=i.length;s<o;s++){const a=i[s];!a||a==="undefined"||e[a]||(Xu(t,a,!1),delete r[a])}for(s=0,o=n.length;s<o;s++){const a=n[s],l=!!e[a];!a||a==="undefined"||r[a]===l||!l||(Xu(t,a,!0),r[a]=l)}return r}function rl(t,e,r){if(!e)return r?jl(t,"style"):e;const n=t.style;if(typeof e=="string")return n.cssText=e;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),e||(e={});let i,s;for(s in r)e[s]==null&&n.removeProperty(s),delete r[s];for(s in e)i=e[s],i!==r[s]&&(n.setProperty(s,i),r[s]=i);return r}function Vf(t,e={},r,n){const i={};return n||er(()=>i.children=ki(t,e.children,i.children)),er(()=>e.ref&&e.ref(t)),er(()=>l0(t,e,r,!0,i,!0)),i}function Qu(t,e,r){return Gr(()=>t(e,r))}function Zr(t,e,r,n){if(r!==void 0&&!n&&(n=[]),typeof e!="function")return ki(t,e,n,r);er(i=>ki(t,e(),i,r),n)}function l0(t,e,r,n,i={},s=!1){e||(e={});for(const o in i)if(!(o in e)){if(o==="children")continue;i[o]=Zu(t,o,null,i[o],r,s)}for(const o in e){if(o==="children"){n||ki(t,e.children);continue}const a=e[o];i[o]=Zu(t,o,a,i[o],r,s)}}function u0(t){let e,r;return!It.context||!(e=It.registry.get(r=d0()))?t.cloneNode(!0):(It.completed&&It.completed.add(e),It.registry.delete(r),e)}function c0(t){return t.toLowerCase().replace(/-([a-z])/g,(e,r)=>r.toUpperCase())}function Xu(t,e,r){const n=e.trim().split(/\s+/);for(let i=0,s=n.length;i<s;i++)t.classList.toggle(n[i],r)}function Zu(t,e,r,n,i,s){let o,a,l;if(e==="style")return rl(t,r,n);if(e==="classList")return a0(t,r,n);if(r===n)return n;if(e==="ref")s||r(t);else if(e.slice(0,3)==="on:"){const c=e.slice(3);n&&t.removeEventListener(c,n),r&&t.addEventListener(c,r)}else if(e.slice(0,10)==="oncapture:"){const c=e.slice(10);n&&t.removeEventListener(c,n,!0),r&&t.addEventListener(c,r,!0)}else if(e.slice(0,2)==="on"){const c=e.slice(2).toLowerCase(),h=e0.has(c);if(!h&&n){const p=Array.isArray(n)?n[0]:n;t.removeEventListener(c,p)}(h||r)&&(o0(t,c,r,h),h&&Ms([c]))}else if((l=Xg.has(e))||!i&&(Ju[e]||(a=Qg.has(e)))||(o=t.nodeName.includes("-")))e==="class"||e==="className"?Uo(t,r):o&&!a&&!l?t[c0(e)]=r:t[Ju[e]||e]=r;else{const c=i&&e.indexOf(":")>-1&&r0[e.split(":")[0]];c?s0(t,c,e,r):jl(t,Zg[e]||e,r)}return r}function f0(t){const e=`$$${t.type}`;let r=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==r&&Object.defineProperty(t,"target",{configurable:!0,value:r}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return r||document}}),It.registry&&!It.done&&(It.done=!0,document.querySelectorAll("[id^=pl-]").forEach(n=>{for(;n&&n.nodeType!==8&&n.nodeValue!=="pl-"+t;){let i=n.nextSibling;n.remove(),n=i}n&&n.remove()}));r;){const n=r[e];if(n&&!r.disabled){const i=r[`${e}Data`];if(i!==void 0?n.call(r,i,t):n.call(r,t),t.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function ki(t,e,r,n,i){for(It.context&&!r&&(r=[...t.childNodes]);typeof r=="function";)r=r();if(e===r)return r;const s=typeof e,o=n!==void 0;if(t=o&&r[0]&&r[0].parentNode||t,s==="string"||s==="number"){if(It.context)return r;if(s==="number"&&(e=e.toString()),o){let a=r[0];a&&a.nodeType===3?a.data=e:a=document.createTextNode(e),r=oi(t,r,n,a)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e}else if(e==null||s==="boolean"){if(It.context)return r;r=oi(t,r,n)}else{if(s==="function")return er(()=>{let a=e();for(;typeof a=="function";)a=a();r=ki(t,a,r,n)}),()=>r;if(Array.isArray(e)){const a=[],l=r&&Array.isArray(r);if(nl(a,e,r,i))return er(()=>r=ki(t,a,r,n,!0)),()=>r;if(It.context){if(!a.length)return r;for(let c=0;c<a.length;c++)if(a[c].parentNode)return r=a}if(a.length===0){if(r=oi(t,r,n),o)return r}else l?r.length===0?ec(t,a,n):n0(t,r,a):(r&&oi(t),ec(t,a));r=a}else if(e instanceof Node){if(It.context&&e.parentNode)return r=o?[e]:e;if(Array.isArray(r)){if(o)return r=oi(t,r,n,e);oi(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}}return r}function nl(t,e,r,n){let i=!1;for(let s=0,o=e.length;s<o;s++){let a=e[s],l=r&&r[s];if(a instanceof Node)t.push(a);else if(!(a==null||a===!0||a===!1))if(Array.isArray(a))i=nl(t,a,l)||i;else if(typeof a=="function")if(n){for(;typeof a=="function";)a=a();i=nl(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else t.push(a),i=!0;else{const c=String(a);l&&l.nodeType===3&&l.data===c?t.push(l):t.push(document.createTextNode(c))}}return i}function ec(t,e,r=null){for(let n=0,i=e.length;n<i;n++)t.insertBefore(e[n],r)}function oi(t,e,r,n){if(r===void 0)return t.textContent="";const i=n||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(i!==a){const l=a.parentNode===t;!s&&!o?l?t.replaceChild(i,a):t.insertBefore(i,r):l&&a.remove()}else s=!0}}else t.insertBefore(i,r);return[i]}function d0(){const t=It.context;return`${t.id}${t.count++}`}const h0=!1;const g0="_App_1d1xq_3",p0="_link_1d1xq_9",m0="_ViewContainer_1d1xq_13",y0="_ViewBox_1d1xq_19",b0="_ViewBox2_1d1xq_25",v0="_scrollable_1d1xq_36",Hi={App:g0,link:p0,ViewContainer:m0,ViewBox:y0,ViewBox2:b0,scrollable:v0};function Kl(t,e=0,r=1){return Math.min(Math.max(e,t),r)}function w0(t){t=t.substr(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Jn(t){if(typeof t!="string")return t;if(t.charAt(0)==="#")return Jn(w0(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error("MUI: Unsupported `%s` color.\nThe following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color(). "+t);const n=t.substring(e+1,t.length-1);let i,s;if(r==="color"){if(i=n.split(" "),s=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].substr(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error("MUI: unsupported `%s` color space.\nThe following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020. "+s)}else i=n.split(",");return{type:r,values:i.map(o=>parseFloat(o)),colorSpace:s}}function Ho(t){const{type:e,colorSpace:r}=t,{values:n}=t;let i;return e.indexOf("rgb")!==-1?i=n.map((s,o)=>o<3?parseInt(s.toString(),10):s).join(","):e.indexOf("hsl")!==-1&&(i=n.map((s,o)=>o===1||o===2?`${s}%`:s).join(",")),e.indexOf("color")!==-1?i=`${r} ${n.join(" ")}`:i=`${n.join(", ")}`,`${e}(${i})`}function x0(t){const e=Jn(t),{values:r}=e,n=r[0],i=r[1]/100,s=r[2]/100,o=i*Math.min(s,1-s),a=(h,p=(h+n/30)%12)=>s-o*Math.max(Math.min(p-3,9-p,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",c.push(r[3])),Ho({type:l,values:c})}function tc(t){const{type:e,values:r}=Jn(t);let n=e==="hsl"?Jn(x0(t)).values:r;return n=n.map(i=>(e!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}function A0(t,e){const r=tc(t),n=tc(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Pt(t,e){let{type:r,values:n}=Jn(t);return e=Kl(e),(r==="rgb"||r==="hsl")&&(r+="a"),r==="color"?n[3]=`/${e}`:n[3]=e,Ho({type:r,values:n})}function Jl(t,e){const r=Jn(t);if(e=Kl(e),r.type.indexOf("hsl")!==-1)r.values[2]*=1-e;else if(r.type.indexOf("rgb")!==-1||r.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)r.values[n]*=1-e;return Ho(r)}function Yl(t,e){const r=Jn(t);if(e=Kl(e),r.type.indexOf("hsl")!==-1)r.values[2]+=(100-r.values[2])*e;else if(r.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)r.values[n]+=(255-r.values[n])*e;else if(r.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)r.values[n]+=(1-r.values[n])*e;return Ho(r)}const E0={xs:0,sm:600,md:900,lg:1200,xl:1536};function zo(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const s=n.breakpoints;return e.reduce((o,a,l)=>(o={...o,...s.up(s.keys[l],r(e[l]))},o),{})}if(typeof e=="object"){const s=n.breakpoints;return Object.keys(e).reduce((a,l)=>{if(Object.keys(s.values||E0).indexOf(l)!==-1)a={...a,...s.up(l,r(e[l],l))};else{const c=l;a[c]=e[c]}return a},{})}return r(e)}function S0(t,e){const r={};if(typeof t!="object")return r;const n=Object.keys(e);return Array.isArray(t)?n.forEach((i,s)=>{s<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function Go(t){const e=t.values,r=t.base||S0(e,t.breakpoints||{}),n=Object.keys(r);if(n.length===0)return t.values;let i;return n.reduce((s,o,a)=>(Array.isArray(e)?(s[o]=e[a]!=null?e[a]:e[i],i=a):typeof e=="number"?s[o]=e:(s[o]=e[o]!=null?e[o]:e[i],i=o),s),{})}const C0=Wr({});function Ki(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function M0(t,e){for(const r of e){const n=t[r];delete t[r],t[r]=n}}function Ql(t,e,r={clone:!0}){const n=r.clone?{...t}:t,i=r.sortKeys?[]:void 0;return Ki(t)&&Ki(e)&&(Object.keys(e).forEach(s=>{if(s==="__proto__")return;i&&i.push(s);let o,a;Ki(o=e[s])&&s in t&&Ki(a=t[s])?n[s]=Ql(a,o,r):n[s]=o}),i&&M0(n,i)),n}function il(t){if(Array.isArray(t)){const e=[];for(const r of t)e.push(il(r));return e}else if(Ki(t)){const e={};for(const r in t)r!=="__proto__"&&(e[r]=il(t[r]));return e}else return t}function ks(t,...e){for(const r of e)Ql(t,il(r),{clone:!1});return t}const k0={};function _0(t){return{...ks({},k0,t??{})}}function I0(t,e=void 0,r={}){return{toolbar:{minHeight:56,[`${t.up("xs")} and (orientation: landscape)`]:{minHeight:48},[t.up("sm")]:{minHeight:64}},...r}}const Yn={black:"#000",white:"#fff"},yi={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},bi={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},vi={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},wi={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},xi={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Zi={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},T0={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},N0=()=>({text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Yn.white,default:Yn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}),R0={primary:{main:vi[700],light:vi[400],dark:vi[800]},secondary:{main:bi[500],light:bi[300],dark:bi[700]},error:{main:yi[700],light:yi[400],dark:yi[800]},info:{main:wi[700],light:wi[800],dark:wi[900]},success:{main:xi[800],light:xi[500],dark:xi[900]},warning:{main:"#ED6C02",light:Zi[500],dark:Zi[900]}},P0=()=>({text:{primary:Yn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Yn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}),O0={primary:{main:vi[200],light:vi[50],dark:vi[400]},secondary:{main:bi[200],light:bi[50],dark:bi[400]},error:{main:yi[500],light:yi[300],dark:yi[700]},info:{main:wi[400],light:wi[300],dark:wi[700]},success:{main:xi[400],light:xi[300],dark:xi[700]},warning:{main:Zi[400],light:Zi[300],dark:Zi[700]}},B0={light:N0,dark:P0};function qf(t,e){return A0(t,Yn.white)>=e?Yn.white:"rgba(0, 0, 0, 0.87)"}function rc(t,e,r,n){const i=typeof n=="number"?n:n.light,s=typeof n=="number"?n*1.5:n.dark;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=Yl(t.main,i):e==="dark"&&(t.dark=Jl(t.main,s)))}function D0(t){const e={...t.color},r=t.mainShade??500;return!t.color.main&&t.color[r]&&(e.main=t.color[r]),rc(e,"light",t.lightShade??300,t.tonalOffset),rc(e,"dark",t.darkShade??700,t.tonalOffset),e.contrastText||(e.contrastText=qf(e.main,t.contrastThreshold)),e}const L0=()=>({mode:"light",tonalOffset:.2,contrastThreshold:3,grey:T0,common:Yn});function $0(t){const e=["error","info","primary","secondary","success","warning"],r=L0(),n={...ks({},r,B0[t?.mode??r.mode](),t),isColorName(s){return e.includes(s)},getColorObject(s){return n[s]},getColor(s){return n.mode==="light"?n[s].light:n[s].dark},augmentColor(s){return D0({...s,tonalOffset:n.tonalOffset,contrastThreshold:n.contrastThreshold})},getContrastText(s){return qf(s,n.contrastThreshold)}},i=s=>n.mode==="light"?R0[s]:O0[s];return n.primary=n.augmentColor({color:n.primary||i("primary")}),n.secondary=n.augmentColor({color:n.secondary||i("secondary"),mainShade:"A400",lightShade:"A200",darkShade:"A700"}),n.error=n.augmentColor({color:n.error||i("error")}),n.warning=n.augmentColor({color:n.warning||i("warning")}),n.info=n.augmentColor({color:n.info||i("info")}),n.success=n.augmentColor({color:n.success||i("success")}),n}const _a={},F0=.2,U0=.14,H0=.12;function lt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${F0})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${U0})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${H0})`].join(",")}const z0=[()=>"none",()=>lt(0,2,1,-1,0,1,1,0,0,1,3,0),()=>lt(0,3,1,-2,0,2,2,0,0,1,5,0),()=>lt(0,3,3,-2,0,3,4,0,0,1,8,0),()=>lt(0,2,4,-1,0,4,5,0,0,1,10,0),()=>lt(0,3,5,-1,0,5,8,0,0,1,14,0),()=>lt(0,3,5,-1,0,6,10,0,0,1,18,0),()=>lt(0,4,5,-2,0,7,10,1,0,2,16,1),()=>lt(0,5,5,-3,0,8,10,1,0,3,14,2),()=>lt(0,5,6,-3,0,9,12,1,0,3,16,2),()=>lt(0,6,6,-3,0,10,14,1,0,4,18,3),()=>lt(0,6,7,-4,0,11,15,1,0,4,20,3),()=>lt(0,7,8,-4,0,12,17,2,0,5,22,4),()=>lt(0,7,8,-4,0,13,19,2,0,5,24,4),()=>lt(0,7,9,-4,0,14,21,2,0,5,26,4),()=>lt(0,8,9,-5,0,15,22,2,0,6,28,5),()=>lt(0,8,10,-5,0,16,24,2,0,6,30,5),()=>lt(0,8,11,-5,0,17,26,2,0,6,32,5),()=>lt(0,9,11,-5,0,18,28,2,0,7,34,6),()=>lt(0,9,12,-6,0,19,29,2,0,7,36,6),()=>lt(0,10,13,-6,0,20,31,3,0,8,38,7),()=>lt(0,10,13,-6,0,21,33,3,0,8,40,7),()=>lt(0,10,14,-6,0,22,35,3,0,8,42,7),()=>lt(0,11,14,-7,0,23,36,3,0,9,44,8),()=>lt(0,11,15,-7,0,24,38,3,0,9,46,8)];function G0(){return new Proxy([],{get:(t,e)=>typeof e!="string"||isNaN(Number(e))?t[e]:e in _a?_a[e]:_a[e]=z0[e]()})}const W0={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},V0={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function nc(t){return`${Math.round(t)}ms`}function q0(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function j0(t){const e={...W0,...t.easing},r={...V0,...t.duration};return{getAutoHeightDuration:q0,create:(i=["all"],s={})=>{const{duration:o=r.standard,easing:a=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof o=="string"?o:nc(o)} ${a} ${typeof l=="string"?l:nc(l)}`).join(",")},...t,easing:e,duration:r}}const Yt={light:300,regular:400,medium:500,bold:700},Ls={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,htmlFontSize:16,h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},subtitle1:{},subtitle2:{},body1:{},body2:{},button:{},caption:{},overline:{},fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:700};function K0(t){return Math.round(t*1e5)/1e5}function Qt(t,e,r,n,i,s){return{fontFamily:t.fontFamily,fontWeight:e,fontSize:t.pxToRem(r),lineHeight:`${n}`,letterSpacing:`${K0(i/r)}em`,...s?{textTransform:"uppercase"}:{}}}function J0(t={}){const e={fontFamily:t.fontFamily??Ls.fontFamily,fontSize:t.fontSize??Ls.fontSize,htmlFontSize:t?.htmlFontSize??Ls.htmlFontSize,pxToRem:r=>{const n=e.fontSize/14;return`${r/e.htmlFontSize*n}rem`}};return ks(e,{h1:Qt(e,Yt.light,96,1.167,-1.5),h2:Qt(e,Yt.light,60,1.2,-.5),h3:Qt(e,Yt.regular,48,1.167,0),h4:Qt(e,Yt.regular,34,1.235,.25),h5:Qt(e,Yt.regular,24,1.334,0),h6:Qt(e,Yt.medium,20,1.6,.15),subtitle1:Qt(e,Yt.regular,16,1.75,.15),subtitle2:Qt(e,Yt.medium,14,1.57,.1),body1:Qt(e,Yt.regular,16,1.5,.15),body2:Qt(e,Yt.regular,14,1.43,.15),button:Qt(e,Yt.medium,14,1.75,.4,!0),caption:Qt(e,Yt.regular,12,1.66,.4),overline:Qt(e,Yt.regular,12,2.66,1,!0)},Ls,t)}const Y0={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Q0(t){return{...ks({},Y0,t)}}function Ia(t,e,r="px"){let n;if(t==="up")n=`(min-width:${e}${r})`;else if(t==="down")n=`(max-width:${e}${r})`;else if(t==="between"){const[i,s]=e;n=`(max-width:${i}${r}) and (min-width:${s}${r})`}else throw new Error(`Invalid comparator: ${t}`);return`@media ${n}`}const X0={columns:12,keys:["xs","sm","md","lg","xl"],values:{xs:0,sm:600,md:900,lg:1200,xl:1536},unit:"px"};function jf(t){const e={...X0,...t??{},up:(r,n)=>{const i=Ia("up",e.resolve(r));return n?{[i]:n}:i},down:(r,n)=>{const i=Ia("down",e.resolve(r));return n?{[i]:n}:i},between:(r,n)=>{const i=Ia("between",[e.resolve(r[0]),e.resolve(r[1])]);return n?{[i]:n}:i},resolve:r=>typeof r=="number"?r:e.values[r]};return e}function Kf(t){return typeof t=="function"?t:(...r)=>r.map(n=>typeof n=="number"?`${n*(t??8)}px`:n).join(" ")}const Z0={borderRadius:4};function Jf(t){return{...ks({},Z0,t)}}function Yf(t={}){const e={direction:"ltr",...t};function r(n,i){const s=t[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!0,...typeof s=="function"?{get:s}:{value:i({[n]:s})}})}return r("breakpoints",n=>jf(n.breakpoints)),r("components",n=>_0(n.components)),r("palette",n=>$0(n.palette)),r("shape",n=>Jf(n.shape)),r("spacing",n=>Kf(n.spacing)),r("typography",n=>J0(n.typography)),r("shadows",()=>G0()),r("transitions",()=>j0({})),r("zIndex",n=>Q0(n.zIndex)),r("mixins",()=>I0(e.breakpoints)),e}function Qf(t){let e;return function(){return e||(e=t()),e}}const ep=Qf(Yf);let Xf;Xf=Wr({});const Wo=Xf;function tp(t){return{direction:"ltr",shadows:void 0,transitions:void 0,components:void 0,palette:void 0,typography:void 0,zIndex:void 0,mixins:void 0,...t,breakpoints:jf(t?.breakpoints),shape:Jf(t?.shape),spacing:Kf(t?.spacing)}}const rp=Qf(tp);function np(t){for(const e in t)return!1;return!0}function Xl(t=rp,e=Wo){const r=fr(e);if(np(r)&&t)return typeof t=="function"?t():t;if(!r)throw new Error("Theme is not defined");return r}function Zl(t=ep){return Xl(t,Wo)}function ip(t){return Xl(t,Wo)}function sp(t){const e=ip(),r=i=>i,n=typeof t.propDefaults=="function"?t.propDefaults({set:r,inProps:t.props}):t.propDefaults;return X(...n?[n]:[],()=>e.components?.[t.name]?.defaultProps||{},t.props)}function op(t){return y(Wo.Provider,{get value(){return t.theme},get children(){return t.children}})}function ap(t,e=!1){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}function Zf(t,e){const r=Se(t);return Se(()=>{const n=r();switch(typeof n){case"function":return Object.assign(n,{[$g]:!0}),Gr(()=>n(e));case"string":const i=t0.has(n),s=It.context?u0():ap(n,i);return Vf(s,e,i),s}})}function sl(t){const[e,r]=Bi(t,["$component"]);return Zf(()=>e.$component,r)}function lp(t){const e=t.reduce((r,n)=>("name"in n&&(r[`--${n.name}`]="0"),Ql(r,n,{clone:!1,sortKeys:!0}),r),{});return delete e.name,e}function ed(t){return t.startsWith("--")}function up(t){return t.startsWith("__")}function td(t){return/[^a-z-]/i.test(t)&&!ed(t)}function rd(t){return t.startsWith("@global")}function ol(t){return t.startsWith("@media")}function nd(t){return t.startsWith("@keyframes")}function ic(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function sc(t,e,r=[],n={}){const i=t.split(",").map(s=>(s=s.trim(),s.includes("&")?s:`& ${s}`));return po(e,(r.length?r:[""]).flatMap(s=>i.map(o=>o.replace(/&/g,s).trim())),{...n})}function po(t,e=[],r={}){const n=[],i=[];for(let o in t){const a=t[o];if(!up(o))if(rd(o))for(const l in a)i.push(...sc(l,a[l],[],r));else if(ol(o))i.push(...po(a,e,{...r,sublevel:!0}).map(l=>`${o} {
${l}
}`));else if(ed(o))a!=null&&n.push(`${o}: ${a};`);else if(nd(o)){const l=[];for(const c in a)l.push(...po(a[c],[/^\d+$/.test(c)?`${c}%`:c],{...r,sublevel:!0}));i.push(`${o} {
${l.join(`
`)}
}`)}else if(td(o))i.push(...sc(o,a,e,r));else if(r.extraProperties&&o in r.extraProperties){const l=r.extraProperties[o](a);for(const c in l){const h=l[c],p=r.onPropertyValue?r.onPropertyValue(c,h):h;p!=null&&n.push(`${ic(c)}: ${p};`)}}else{o=ic(o);const l=r.onPropertyValue?r.onPropertyValue(o,a):a;l!=null&&n.push(`${o}: ${l};`)}}const s=o=>{const a="	".repeat(o);return`${a}${n.join(`
${a}`)}`};if(e.length){const o=r.sublevel?"	":"",a=o+e.join(`,
${o}`);return[...n.length?[`${a} {
${s(r.sublevel?2:1)}
${o}}`]:[],...i]}else return[...n.length?[s(0)]:[],...i]}function cp(t){return t?Array.isArray(t)?t:[t]:[]}function fp(t){return typeof t=="function"&&(t=t()),t}class dp{ids=new Map;rules=new Map;create(e,r,n){let i=this.rules.get(r);if(i)return i;let s=this.ids.get(n);return typeof s=="number"&&(this.ids.set(n,++s),n+=`_${s}`),i=id(e,r,n),this.save(i,r),i}save(e,r){this.ids.set(e.id,0),this.rules.set(r,e)}delete(e){this.ids.delete(e.id),this.rules.delete(e.rules)}}function id(t,e,r){return{id:r,name:t,className:`${t}-${r}`,rules:e.replaceAll("$id",`${r}`)}}function hp(t){const e=`${t.name}-$id`,n=cp(fp(t.props)).map(i=>typeof i=="string"?`.${e} {
${i}
}`:po(i,[`.${e}`],{extraProperties:t.extraProperties}).join(`
`)).join(`
`);return t.cache?.create(t.name,n,t.componentId)||id(t.name,n,t.componentId)}function sd(t,e){"styleSheet"in t?t.styleSheet.cssText=e:(t.innerText="",t.appendChild(document.createTextNode(e)))}function gp(t,e){for(const r in e){const n=e[r];n!==void 0&&(n===null?t.removeAttribute(r):t.setAttribute(r,n))}}function pp(t,e){const r=document.createElement("style");return r.type="text/css",e&&gp(r,e),sd(r,t),r}function al(t){let e=Number(t.getAttribute("data-uses"));e++,t.setAttribute("data-uses",e.toString())}const oc="suid-injectFirst";function mp(t,e,r){Array.isArray(t)&&(t=t.join(`
`));const n=e?.id,i=document.head||document.getElementsByTagName("head")[0],s=n&&document.getElementById(n);if(s&&s instanceof HTMLStyleElement)return sd(s,t),al(s),s;{s&&s.remove();const o=pp(t,e);if(al(o),r){let a=i.querySelector(`#${oc}`);a||(a=document.createElement("style"),a.setAttribute("id",oc),i.prepend(a)),i.insertBefore(o,a)}else i.appendChild(o);return o}}function yp(t,e="css-"){if(typeof t=="string")return document.getElementById(t);const r=[...t.classList].find(n=>n.startsWith(e));if(r)return document.getElementById(r.slice(e.length))}function ac(t){let e=Number(t.getAttribute("data-uses"));e--,e<=0?t.remove():t.setAttribute("data-uses",e.toString())}function he(t){if(typeof t!="string")throw new Error("MUI: `capitalize(string)` expects a string argument.");return t.charAt(0).toUpperCase()+t.slice(1)}function bp(t,e=166){let r;function n(...i){const s=()=>{t.apply(null,i)};clearTimeout(r),r=setTimeout(s,e)}return n.clear=()=>{clearTimeout(r)},n}function vp(t){return t&&t.ownerDocument||document}function lc(t){return vp(t).defaultView||window}function eu(){return Math.random().toString(36).substring(2,15).slice(0,8)}let Vo=!0,ll=!1,uc;const wp={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function xp(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&wp[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Ap(t){t.metaKey||t.altKey||t.ctrlKey||(Vo=!0)}function Ta(){Vo=!1}function Ep(){this.visibilityState==="hidden"&&ll&&(Vo=!0)}function Sp(t){t.addEventListener("keydown",Ap,!0),t.addEventListener("mousedown",Ta,!0),t.addEventListener("pointerdown",Ta,!0),t.addEventListener("touchstart",Ta,!0),t.addEventListener("visibilitychange",Ep,!0)}function Cp(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Vo||xp(e)}function Mp(){const t=s=>{s!=null&&Sp(s.ownerDocument)},[e,r]=ut(!1);function n(){return e()?(ll=!0,window.clearTimeout(uc),uc=window.setTimeout(()=>{ll=!1},100),r(!1),!0):!1}function i(s){return Cp(s)?(r(!0),!0):!1}return{isFocusVisibleRef:{get current(){return e()}},onFocus:i,onBlur:n,ref:t}}const ul=Symbol("store-raw"),ds=Symbol("store-node"),kp=Symbol("store-name");function od(t){let e;return t!=null&&typeof t=="object"&&(t[cr]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function mo(t,e=new Set){let r,n,i,s;if(r=t!=null&&t[ul])return r;if(!od(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)i=t[o],(n=mo(i,e))!==i&&(t[o]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let l=0,c=o.length;l<c;l++)s=o[l],!a[s].get&&(i=t[s],(n=mo(i,e))!==i&&(t[s]=n))}return t}function tu(t){let e=t[ds];return e||Object.defineProperty(t,ds,{value:e={}}),e}function cl(t,e,r){return t[e]||(t[e]=ld(r))}function ad(t){if(Ff()){const e=tu(t);(e._||(e._=ld()))()}}function _p(t){return ad(t),Reflect.ownKeys(t)}function ld(t){const[e,r]=ut(t,{equals:!1,internal:!0});return e.$=r,e}function cc(t,e,r,n=!1){if(!n&&t[e]===r)return;const i=t[e],s=t.length;r===void 0?delete t[e]:t[e]=r;let o=tu(t),a;(a=cl(o,e,i))&&a.$(()=>r),Array.isArray(t)&&t.length!==s&&(a=cl(o,"length",s))&&a.$(t.length),(a=o._)&&a.$()}function Ip(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||r.set||!r.configurable||e===cr||e===ds||e===kp||(delete r.value,delete r.writable,r.get=()=>t[cr][e],r.set=n=>t[cr][e]=n),r}const Tp={get(t,e,r){if(e===ul)return t;if(e===cr)return r;if(e===Xa)return ad(t),r;const n=tu(t),i=n.hasOwnProperty(e);let s=i?n[e]():t[e];if(e===ds||e==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(t,e),a=typeof s=="function";if(Ff()&&(!a||t.hasOwnProperty(e))&&!(o&&o.get))s=cl(n,e,s)();else if(s!=null&&a&&s===Array.prototype[e])return(...l)=>mi(()=>Array.prototype[e].apply(r,l))}return od(s)?ud(s):s},has(t,e){return e===ul||e===cr||e===Xa||e===ds||e==="__proto__"?!0:(this.get(t,e,t),e in t)},set(t,e,r){return mi(()=>cc(t,e,mo(r))),!0},deleteProperty(t,e){return mi(()=>cc(t,e,void 0,!0)),!0},ownKeys:_p,getOwnPropertyDescriptor:Ip};function ud(t,e){let r=t[cr];if(!r){Object.defineProperty(t,cr,{value:r=new Proxy(t,Tp)});const n=Object.keys(t),i=Object.getOwnPropertyDescriptors(t);for(let s=0,o=n.length;s<o;s++){const a=n[s];if(i[a].get){const l=i[a].get.bind(r);Object.defineProperty(t,a,{get:l})}if(i[a].set){const l=i[a].set;Object.defineProperty(t,a,{set:h=>mi(()=>l.call(r,h))})}}}return r}function ru(t,e){const r=mo(t||{});return ud(r)}const Np=h0?void 0:new dp;function Rp(t){return t?Array.isArray(t)?t.flat(1/0).filter(e=>!!e):[t]:[]}function Pp(){if(!It.context)return eu();const t=Jg().replaceAll("-",""),e=9,r=Math.ceil(t.length/e),n=[];for(let i=1;i<=r;++i){const s=(i-1)*e,o=Number(t.slice(s,s+e));n.push(o.toString(32))}return n.join("-")}function cd(t){const e=fr(C0),[r,n]=ut(""),i=Pp();let s;return er(o=>{const a=t();let l;return a&&(l=hp({name:"css",props:lp(Rp(a)),cache:Np,componentId:i}),s=yp(l.id),s?al(s):s=mp(l.rules,{id:l.id,nonce:e.cache?.nonce},e.injectFirst),o?.styleElement&&ac(o.styleElement)),typeof l?.className=="string"?n(l.className):n(""),{className:l?.className,styleElement:s}},void 0),Cs(()=>{s&&ac(s)}),r}function di(t,e,r={}){for(const n in t){const i=t[n];if(rd(n))r[n]=di(i,e);else if(ol(n))r[n]=di(i,e);else if(nd(n)){r[n]={};for(const s in i)r[n][s]=di(i[s],e)}else if(td(n))r[n]=di(i,e);else{const s=e(n,i);if(s)for(const o in s)r[o]=ol(o)?{...r[o],...s[o]}:s[o];else r[n]=i}}return r}const Op=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","fontWeight","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function fd(t,e){if(typeof e=="number")return{[t]:Op.has(t)?e.toString():`${e}px`}}function Bp(t){return di(t,fd)}function yo(t,e,r){if(typeof r!="string")return r;const n=r.split(".");let i=t[e];for(let s=0;s<n.length&&(i=i?.[n[s]],!!i);s++);return i??r}function Dp(t,e){return!e||typeof e!="string"?null:e.split(".").reduce((r,n)=>r&&r[n]?r[n]:null,t)}function Lp(t,e,r,n){const i=Dp(t,e)||r;return typeof i=="number"?s=>typeof s=="string"?s:i*s:Array.isArray(i)?s=>typeof s=="string"?s:i[s]:typeof i=="function"?i:()=>{}}const dn={x:["Left","Right"],y:["Top","Bottom"]};function dd(t){return typeof t=="number"?`${t}px`:t}function hd(t,e){return(r,n)=>e(t,r,n)}function H(t,e){return e?(r,n)=>({[t]:e(t,r,n)}):r=>({[t]:r})}function Ji(t){return H(t,(e,r)=>dd(r))}function nr(t,e,r){const n=e.map(i=>`${t}${i}`);return r?(i,s)=>n.reduce((o,a)=>(o[a]=r(a,i,s),o),{}):i=>n.reduce((s,o)=>(s[o]=i,s),{})}function $p(){return{...Fp(),...Up(),...Hp(),...zp(),...Gp(),...Wp(),...Vp(),...jp(),...qp()}}function Fp(){return{displayPrint:hd("displayPrint",(t,e)=>({"@media print":{display:e}})),displayRaw:H("display"),overflow:H("overflow"),textOverflow:H("textOverflow"),visibility:H("visibility"),whiteSpace:H("whiteSpace")}}function Up(){return{flexBasis:H("flexBasis"),flexDirection:H("flexDirection"),flexWrap:H("flexWrap"),justifyContent:H("justifyContent"),alignItems:H("alignItems"),alignContent:H("alignContent"),order:H("order"),flex:H("flex"),flexGrow:H("flexGrow"),flexShrink:H("flexShrink"),alignSelf:H("alignSelf"),justifyItems:H("justifyItems"),justifySelf:H("justifySelf")}}function Hp(){const t=(e,r,n)=>Lp(n,"spacing",8)(r);return{gap:H("gap",t),columnGap:H("columnGap",t),rowGap:H("rowGap",t),gridColumn:H("gridColumn"),gridRow:H("gridRow"),gridAutoFlow:H("gridAutoFlow"),gridAutoColumns:H("gridAutoColumns"),gridAutoRows:H("gridAutoRows"),gridTemplateColumns:H("gridTemplateColumns"),gridTemplateRows:H("gridTemplateRows"),gridTemplateAreas:H("gridTemplateAreas"),gridArea:H("gridArea")}}function zp(){return{position:H("position"),zIndex:H("zIndex",(t,e,r)=>r.zIndex?.[t]??e),top:Ji("top"),right:Ji("right"),bottom:Ji("bottom"),left:Ji("left")}}function Gp(){const t=(e,r,n)=>yo(n,"palette",r);return{color:H("color",t),bgcolor:H("backgroundColor",t),backgroundColor:H("backgroundColor",t)}}function Wp(){const t=(e,r,n)=>(e==="maxWidth"&&(r=n.breakpoints.values[e]??r),typeof r=="number"&&(r=r>0&&r<=1?`${r*100}%`:`${r}px`),r);return{width:H("width",t),maxWidth:H("maxWidth",t),minWidth:H("minWidth",t),height:H("height",t),maxHeight:H("maxHeight",t),minHeight:H("minHeight",t),boxSizing:H("boxSizing",t)}}function Vp(){const t=(r,n)=>typeof n=="number"?`${n}px solid`:n,e=(r,n,i)=>yo(i,"palette",n);return{border:H("border",t),borderTop:H("borderTop",t),borderRight:H("borderRight",t),borderBottom:H("borderBottom",t),borderLeft:H("borderLeft",t),borderColor:H("borderColor",e),borderTopColor:H("borderTopColor",e),borderRightColor:H("borderRightColor",e),borderBottomColor:H("borderBottomColor",e),borderLeftColor:H("borderLeftColor",e),borderRadius:H("borderRadius",(r,n,i)=>typeof n=="number"?`${i.shape.borderRadius*n}px`:n)}}function qp(){const t=(e,r,n)=>yo(n,"typography",r);return{typography:hd("typography",(e,r,n)=>yo(n,"typography",r)),fontFamily:H("fontFamily",t),fontSize:H("fontSize",(e,r,n)=>dd(t(e,r,n))),fontStyle:H("fontStyle",t),fontWeight:H("fontWeight",t),letterSpacing:Ji("letterSpacing"),lineHeight:H("lineHeight"),textAlign:H("textAlign"),textTransform:H("textTransform")}}function jp(){const t=(n,i,s)=>s.spacing(i),e="margin",r="padding";return{m:H(e,t),mt:H("marginTop",t),mr:H("marginRight",t),mb:H("marginBottom",t),ml:H("marginLeft",t),mx:nr(e,dn.x,t),my:nr(e,dn.y,t),margin:H(e,t),marginTop:H("marginTop",t),marginRight:H("marginRight",t),marginBottom:H("marginBottom",t),marginLeft:H("marginLeft",t),marginX:nr(e,dn.x,t),marginY:nr(e,dn.y,t),marginInline:nr(e,["Inline","InlineStart"],t),marginInlineStart:H("marginInlineStart",t),marginInlineEnd:H("marginInlineEnd",t),marginBlock:nr(e,["BlockStart","BlockEnd"],t),marginBlockStart:H("marginBlockStart",t),marginBlockEnd:H("marginBlockEnd",t),p:H(r,t),pt:H("paddingTop",t),pr:H("paddingRight",t),pb:H("paddingBottom",t),pl:H("paddingLeft",t),px:nr(r,dn.x,t),py:nr(r,dn.y,t),padding:H(r,t),paddingTop:H("paddingTop",t),paddingRight:H("paddingRight",t),paddingBottom:H("paddingBottom",t),paddingLeft:H("paddingLeft",t),paddingX:nr(r,dn.x,t),paddingY:nr(r,dn.y,t),paddingInline:nr(r,["Inline","InlineStart"],t),paddingInlineStart:H("paddingInlineStart",t),paddingInlineEnd:H("paddingInlineEnd",t),paddingBlock:nr(r,["BlockStart","BlockEnd"],t),paddingBlockStart:H("paddingBlockStart",t),paddingBlockEnd:H("paddingBlockEnd",t)}}const nu=$p(),Kp=Object.keys(nu);function Jp(t,e,r){return nu[t](e,r)}function fc(t,e,r){return t in nu?Jp(t,e,r):fd(t,e)}function Yp(t,e){return di(t,(r,n)=>{if(typeof n=="function"&&(n=n(e)),n==null)return n;if(typeof n=="object"){const i={};for(const s of e.breakpoints.keys)i[e.breakpoints.up(s)]={};return Object.assign(i,zo({theme:e},n,s=>fc(r,s,e)??{[r]:s}))}else return fc(r,n,e)})}function gd(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=gd(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function de(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=gd(t))&&(n&&(n+=" "),n+=e);return n}function iu(t,...e){return t}const su=["ownerState","theme","sx","as"];function Qp(t,e,r,n){return Se(()=>{const i=t(),s=n.ownerState;return r.reduce((o,a)=>{let l;return typeof a=="function"?l=a({ownerState:s,theme:i,get sx(){return n.sx},get as(){return n.as},props:n}):a&&(l=a),l&&o.push({name:e,...Bp(l)}),o},[])})}function dc(t){return typeof t=="function"&&"__styled"in t&&!!t.__styled}function pd(t){return function(r,n={}){let i;if(n.name){const o=n.slot||"Root";i=`${n.name}-${o.slice(0,1).toLowerCase()+o.slice(1)}`}else i=`styled-${eu()}`;const s=dc(r);return function(...o){function a(l){const c=()=>l.theme??(t?.onUseTheme?t.onUseTheme():Xl()),[,h]=Bi(l,n.skipProps??su),p=Qp(c,n.name?i:"css",o,l),v=()=>{const k=l.sx;return k?Array.isArray(k)?k:[k]:[]},E=()=>{if(s)return r;const k=l.as;return k||r},C=s?()=>!0:Se(()=>dc(E())),_=()=>{const k=c();return[...p().map(P=>({...P,__resolved:!0})),...n.skipSx?[]:v().map(P=>P.__resolved?P:Yp(P,k))]},D=cd(()=>C()?void 0:_());return Zf(E,X(h,{get children(){return h.children},get component(){return C()?h.component:null},get as(){return s?l.as:void 0},get sx(){return C()?_():void 0},get ownerState(){return C()?l.ownerState:void 0},get class(){return de([...new Set([l.class,i,D()])])}}))}return a.__styled=!0,i&&(a.toString=()=>`.${i}`),a}}}const md=[...su,"classes"],ve=pd({onUseTheme:()=>Zl()}),hc=t=>t,Xp=()=>{let t=hc;return{configure(e){t=e},generate(e){return t(e)},reset(){t=hc}}},Zp=Xp(),em={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function ot(t,e){return em[e]||`${Zp.generate(t)}-${e}`}function at(t,e){const r={};return e.forEach(n=>{r[n]=ot(t,n)}),r}function tm(t,e,r){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,o)=>(o&&(r&&r[o]&&s.push(r[o]),s.push(e(o))),s),[]).join(" ")}),n}function rm(t){return ot("MuiPaper",t)}at("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);function nm(t){function e(r){return t(r)}return Object.defineProperty(e,"name",{value:t.name}),e.toString=t.toString,e}function Ce(){return function(t){function e(a){const l=!!t.slotClasses,c=()=>{if(!t.slotClasses)throw new Error("'slotClasses' option is not defined");if(!t.utilityClass)throw new Error("'utilityClass' option is not defined");return tm(t.slotClasses(a),t.utilityClass,a.classes??"")},h=ru({});return l&&$f(()=>{const p=c();mi(()=>{for(const v in p)h[v]=p[v]})}),h}function r(a){const[l,c]=Bi(a,t.selfPropNames);return{allProps:a,props:l,otherProps:c}}function n(a){return sp({propDefaults:t.propDefaults,...a,name:t.name})}function i(a){const l=n({props:a});return r(l)}function s(a,l=!0){return a=nm(a),a.toString=()=>`.${t.name}-root`,l&&(a.__styled=!0),a}function o(a){const l=s(function(h){const{allProps:p,otherProps:v,props:E}=i(h),C=t.autoCallUseClasses??!0?e(p):{};return a({allProps:p,otherProps:v,props:E,classes:C})});return Object.defineProperty(l,"name",{value:a.name}),l}return{name:t.name,selfPropNames:t.selfPropNames,component:o,defineComponent:s,useClasses:e,useThemeProps:n,useProps:i,splitInProps:r}}}const im=Ce()({name:"MuiPaper",selfPropNames:["children","classes","elevation","square","variant"],propDefaults:({set:t})=>t({component:"div",elevation:1,square:!1,variant:"elevation"}),utilityClass:rm,slotClasses:t=>({root:["root",t.variant,!t.square&&"rounded",t.variant==="elevation"&&`elevation${t.elevation}`]})}),gc=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Number((e/100).toFixed(2))},sm=ve("div",{name:"MuiPaper",slot:"Root"})(({theme:t,ownerState:e})=>({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow"),...!e.square&&{borderRadius:t.shape.borderRadius},...e.variant==="outlined"&&{border:`1px solid ${t.palette.divider}`},...e.variant==="elevation"&&{boxShadow:t.shadows[e.elevation],...t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Pt("#fff",gc(e.elevation))}, ${Pt("#fff",gc(e.elevation))})`}}})),ni=im.component(function({allProps:e,props:r,otherProps:n,classes:i}){return y(sm,X(n,{ownerState:e,get class(){return de(i.root,e.class)},get children(){return r.children}}))});function om(t){return ot("MuiAppBar",t)}at("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const am=Ce()({name:"MuiAppBar",selfPropNames:["classes","color","enableColorOnDark","position"],utilityClass:om,propDefaults:({set:t})=>t({component:"header",color:"primary",enableColorOnDark:!1,position:"fixed"}),slotClasses:t=>({root:["root",`color${he(t.color)}`,`position${he(t.position)}`]})}),lm=ve(ni,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>[e.root,e[`position${he(t.ownerState.position)}`],e[`color${he(t.ownerState.color)}`]]})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,...e.position==="fixed"&&{position:"fixed",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},...e.position==="absolute"&&{position:"absolute",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},...e.position==="sticky"&&{position:"sticky",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},...e.position==="static"&&{position:"static"},...e.position==="relative"&&{position:"relative"},...e.color==="default"&&{backgroundColor:r,color:t.palette.getContrastText(r)},...e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},...e.color==="inherit"&&{color:"inherit"},...t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:void 0,color:void 0},...e.color==="transparent"&&{backgroundColor:"transparent",color:"inherit",...t.palette.mode==="dark"&&{backgroundImage:"none"}}}}),um=am.component(function({allProps:e,classes:r,props:n,otherProps:i}){return y(lm,X({square:!0,ownerState:e,elevation:4,get class(){return de(r.root,{"mui-fixed":n.position==="fixed"},i.class)}},i))});function cm(t){return ot("MuiToolbar",t)}at("MuiToolbar",["root","gutters","regular","dense"]);const fm=Ce()({name:"MuiToolbar",selfPropNames:["children","classes","disableGutters","variant"],propDefaults:({set:t})=>t({component:"div",disableGutters:!1,variant:"regular"}),utilityClass:cm,slotClasses:t=>({root:["root",!t.disableGutters&&"gutters",t.variant]})}),dm=ve("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(({theme:t,ownerState:e})=>({position:"relative",display:"flex",alignItems:"center",...!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},...e.variant==="dense"&&{minHeight:48}}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),hm=fm.component(function({allProps:e,props:r,classes:n,otherProps:i}){return y(dm,X(i,{get as(){return i.component},get class(){return de(n.root,i.class)},ownerState:e,get children(){return r.children}}))});function gm(t){return ot("MuiTypography",t)}at("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);function ou(t){const[e,r]=Bi(t,Kp),n=()=>{const i=t.sx;return i?Array.isArray(i)?[e,...i]:X(e,i):e};return X(r,{get sx(){return n()}})}const pm=Ce()({name:"MuiTypography",selfPropNames:["align","children","classes","gutterBottom","noWrap","paragraph","variant","variantMapping"],propDefaults:({set:t})=>t({align:"inherit",gutterBottom:!1,noWrap:!1,paragraph:!1,variant:"body1",variantMapping:{}}),utilityClass:gm,slotClasses:t=>({root:["root",t.variant,t.align!=="inherit"&&`align${he(t.align)}`,t.gutterBottom&&"gutterBottom",t.noWrap&&"noWrap",t.paragraph&&"paragraph"]})}),mm=ve("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${he(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>({margin:0,color:e.color,...e.variant&&t.typography[e.variant],...e.align!=="inherit"&&{textAlign:e.align},...e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},...e.gutterBottom&&{marginBottom:"0.35em"},...e.paragraph&&{marginBottom:16}})),ym={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},bm={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},vm=t=>bm[t]||t,Z=pm.component(function({allProps:e,classes:r,otherProps:n,props:i}){const s=()=>n.component||(i.paragraph?"p":i.variantMapping[i.variant]||ym[i.variant])||"span",o=X(()=>{const l=vm(e.color);return l?{color:l}:{}}),a=X(e,o);return n=ou(X(n,o)),y(mm,X(n,{get as(){return s()},ownerState:a,get class(){return de(r.root,n.class)},get children(){return i.children}}))}),yd=Wr();function wm(t){const e=()=>t.states.reduce((n,i)=>(n[i]=t.props[i],t.muiFormControl&&typeof t.props[i]>"u"&&(n[i]=t.muiFormControl[i]),n),{}),r=ru({});return $f(()=>{const n=e();mi(()=>{for(const s in n)r[s]!==n[s]&&(r[s]=n[s]);const i=Object.keys(n);for(const s in r)i.includes(s)||delete r[s]})}),r}function xm(){return fr(yd)}const Am=Ce()({name:"MuiGlobalStyles",selfPropNames:["styles"]}),Em=Am.component(function({props:e}){return cd(()=>({"@global":e.styles||{}})),[]});function Sm(t){const e=t.controlled()!==void 0,[r,n]=ut(t.default()),i=Se(()=>e?t.controlled():r());return e&&xt(()=>{n(()=>i())}),[i,o=>{e||n(o)}]}function Cm(t){return ot("MuiInputBase",t)}const fl=at("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);function pc(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Mm(t,e=!1){return t&&(pc(t.value)&&t.value!==""||e&&pc(t.defaultValue)&&t.defaultValue!=="")}function km(t){let e;Cs(()=>e?.()),xt(r=>(r&&(e=void 0,r?.()),e=t()))}function hs(t){const e=r=>{if(e.ref=e.current=r,typeof t=="function"){const n=t();typeof n=="function"&&n(r)}else typeof t?.ref=="function"&&t.ref(r)};return e}const _m=Me("<textarea></textarea>"),Im=Me('<textarea aria-hidden readonly tabindex="-1"></textarea>'),Tm=Ce()({name:"MuiTextareaAutosize",selfPropNames:["ref","maxRows","minRows"]});function $s(t,e){return parseInt(t[e],10)||0}const Nm={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},Rm=Tm.defineComponent(function(t){const e=hs(t),[,r]=Bi(t,["maxRows","minRows","style","value"]),n=X({minRows:1},t);let i;const s={current:0},[o,a]=ut({}),l=()=>{const p=e.current,E=lc(p).getComputedStyle(p);if(E.width==="0px")return;i.style.width=E.width,i.value=p.value||t.placeholder||"x",i.value.slice(-1)===`
`&&(i.value+=" ");const C=E.boxSizing,_=$s(E,"paddingBottom")+$s(E,"paddingTop"),D=$s(E,"borderBottomWidth")+$s(E,"borderTopWidth"),k=i.scrollHeight;i.value="x";const P=i.scrollHeight;let $=k;n.minRows&&($=Math.max(Number(n.minRows)*P,$)),t.maxRows&&($=Math.min(Number(t.maxRows)*P,$)),$=Math.max($,P);const q=$+(C==="border-box"?_+D:0),F=Math.abs($-k)<=1;a(V=>s.current<20&&(q>0&&Math.abs((V.outerHeightStyle||0)-q)>1||V.overflow!==F)?(s.current+=1,{overflow:F,outerHeightStyle:q}):V)};km(()=>{l();const p=bp(()=>{s.current=0,l()}),v=lc(e.current);v.addEventListener("resize",p);let E;return typeof ResizeObserver<"u"&&(E=new ResizeObserver(p),E.observe(e.current)),()=>{p.clear(),v.removeEventListener("resize",p),E&&E.disconnect()}}),xt(Fg(()=>[t.value],()=>{s.current=0,l()}));const c=X({get height(){return`${o().outerHeightStyle}px`},get overflow(){return o().overflow?"hidden":null}},()=>t.style),h=X(Nm.shadow,()=>t.style,{padding:0});return[(()=>{const p=_m.cloneNode(!0);return Qu(e,p),Vf(p,X({get rows(){return n.minRows}},r),!1,!1),er(v=>rl(p,c,v)),p})(),(()=>{const p=Im.cloneNode(!0),v=i;return typeof v=="function"?Qu(v,p):i=p,er(E=>{const C=t.class,_=h;return C!==E._v$&&Uo(p,E._v$=C),E._v$2=rl(p,_,E._v$2),E},{_v$:void 0,_v$2:void 0}),p})()]},!1);function dl(t){return typeof t=="string"}const mc=Ce()({name:"MuiInputBase",propDefaults:({set:t})=>t({components:{},componentsProps:{},fullWidth:!1,inputComponent:"input",inputProps:{},multiline:!1,type:"text",disableInjectingGlobalStyles:!1}),selfPropNames:["aria-describedby","autoComplete","autoFocus","classes","color","components","componentsProps","defaultValue","disableInjectingGlobalStyles","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","required","rows","size","startAdornment","type","value"],utilityClass:Cm,autoCallUseClasses:!1,slotClasses:t=>({root:["root",`color${he(t.color)}`,!!t.disabled&&"disabled",!!t.error&&"error",!!t.fullWidth&&"fullWidth",t.focused&&"focused",!!t.formControl&&"formControl",t.size==="small"&&"sizeSmall",t.multiline&&"multiline",!!t.startAdornment&&"adornedStart",!!t.endAdornment&&"adornedEnd",!!t.hiddenLabel&&"hiddenLabel"],input:["input",!!t.disabled&&"disabled",t.type==="search"&&"inputTypeSearch",t.multiline&&"inputMultiline",t.size==="small"&&"inputSizeSmall",!!t.hiddenLabel&&"inputHiddenLabel",!!t.startAdornment&&"inputAdornedStart",!!t.endAdornment&&"inputAdornedEnd"]})}),Pm=(t,e)=>{const r=t.ownerState;return[e.root,!!r.formControl&&e.formControl,!!r.startAdornment&&e.adornedStart,!!r.endAdornment&&e.adornedEnd,!!r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${he(r.color)}`],!!r.fullWidth&&e.fullWidth,!!r.hiddenLabel&&e.hiddenLabel]},Om=(t,e)=>{const r=t.ownerState;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,!!r.startAdornment&&e.inputAdornedStart,!!r.endAdornment&&e.inputAdornedEnd,!!r.hiddenLabel&&e.inputHiddenLabel]},Bm=ve("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Pm})(({theme:t,ownerState:e})=>({...t.typography.body1,color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${fl.disabled}`]:{color:t.palette.text.disabled,cursor:"default"},...e.multiline&&{padding:"4px 0 5px",...e.size==="small"&&{paddingTop:1}},...e.fullWidth&&{width:"100%"}})),Dm=ve("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Om})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light",n={color:"currentColor",opacity:r?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},s={opacity:r?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${fl.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${fl.disabled}`]:{opacity:1,WebkitTextFillColor:t.palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"},...e.size==="small"&&{paddingTop:1},...e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},...e.type==="search"&&{MozAppearance:"textfield"}}}),Lm=()=>y(Em,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),$m=new Set(["text","search","password","tel","url"]),Fm=mc.component(function({allProps:e,otherProps:r,props:n}){const i=()=>n.inputProps.value!=null?n.inputProps.value:n.value,s=(i()??null)!==null,[o,a]=Sm({controlled:()=>i(),default:()=>n.defaultValue,name:"InputBase"}),l=hs({ref:d=>{typeof n.inputRef=="function"&&n.inputRef(d)}});let c,h=!1;Za(()=>{const d=l.ref instanceof HTMLElement;l.ref.addEventListener("input",m=>{const b=l.ref.value;if(d&&(c=l.ref.selectionStart??b.length),h=!1,typeof n.inputProps.onChange=="function"&&n.inputProps.onChange(m),a(b),typeof n.onChange=="function"&&n.onChange(m,b),s&&!h){const x=o();l.ref.value=d?x??"":x}})}),xt(d=>{if(s||d){h=!0;const m=o();if(!(l.ref instanceof HTMLElement))m!==l.ref.value&&(l.ref.value=m);else if(typeof m=="string"){const x=l.ref,M=x.type??"text",I=x.nodeName==="TEXTAREA"||$m.has(M),w=c??m.length;m!==l.ref.value&&(l.ref.value=m),I||(x.type="text"),l.ref.selectionStart!==w&&l.ref.setSelectionRange(w,w),I||(x.type=M)}}return!1},!0);const[p,v]=ut(!1),E=xm(),C=wm({props:e,muiFormControl:E,states:["color","disabled","error","hiddenLabel","size","required","filled"]}),_=X(C,{get focused(){return E?E.focused:p()}});xt(()=>{!E&&n.disabled&&p()&&(v(!1),typeof n.onBlur=="function"&&n.onBlur?.(null))});const D=()=>E&&E.onFilled,k=()=>E&&E.onEmpty,P=d=>{Mm(d)?D()?.():k()?.()};er(()=>{s&&P({value:o()})}),Za(()=>{P(l.ref)});const $=()=>n.multiline&&n.inputComponent==="input",q=()=>$()?Rm:n.inputComponent,F=Se(()=>{let d=n.inputProps;return $()&&(n.rows?d={type:void 0,minRows:n.rows,maxRows:n.rows,...d}:d={type:void 0,maxRows:n.maxRows,minRows:n.minRows,...d}),X(d,()=>n.componentsProps.input||{})});xt(()=>{E?.setAdornedStart(Boolean(n.startAdornment))});const V=X(e,{get color(){return _.color||"primary"},get disabled(){return _.disabled},get error(){return _.error},get focused(){return _.focused},get formControl(){return E},get hiddenLabel(){return _.hiddenLabel},get size(){return _.size}}),re=mc.useClasses(V),ie=()=>n.components.Root||Bm,fe=()=>n.componentsProps.root||{},At=()=>n.components.Input||Dm,Ae=X(V,()=>fe().ownerState||{}),Bt=X(V,()=>F().ownerState||{}),S=X(_,{get startAdornment(){return n.startAdornment}}),u=Se(()=>n.renderSuffix?.(S));return[Se((()=>{const d=Se(()=>!n.disableInjectingGlobalStyles);return()=>d()&&Lm()})()),y(sl,X(fe,r,{get $component(){return ie()}},()=>!dl(ie())&&{ownerState:Ae},{onClick:d=>{l.ref&&d.currentTarget===d.target&&l.ref.focus(),typeof r.onClick=="function"&&r.onClick(d)},get class(){return de(re.root,fe().class,r.class)},get children(){return[Se(()=>n.startAdornment),y(yd.Provider,{value:void 0,get children(){return y(sl,X({get $component(){return At()},ownerState:V,get["aria-invalid"](){return _.error},get["aria-describedby"](){return n["aria-describedby"]},get autocomplete(){return n.autoComplete},get autofocus(){return n.autoFocus},get disabled(){return _.disabled},get id(){return n.id},onAnimationStart:d=>{P(d.animationName==="mui-auto-fill-cancel"?l.ref:{value:"x"})},get name(){return n.name},get placeholder(){return n.placeholder},get readOnly(){return n.readOnly},get required(){return _.required}},()=>({rows:n.rows}),{get value(){return o()},get onKeyDown(){return n.onKeyDown},get onKeyUp(){return n.onKeyUp},get type(){return n.type}},F,()=>!dl(At())&&{as:q(),ownerState:Bt},{ref:l,get class(){return de(re.input,F().class)},onBlur:d=>{n.onBlur?.(d),typeof n.inputProps.onBlur=="function"&&n.inputProps.onBlur(d),E&&E.onBlur?E.onBlur():v(!1)},onInput:d=>{if(!s){const m=d.target||l.ref;if(m==null)throw new Error("MUI: Expected valid input target. Did you use a custom `inputComponent` and forget to forward refs? See https://mui.com/r/input-component-ref-interface for more info.");P({value:m.value})}},onFocus:d=>{if(_.disabled){d.stopPropagation();return}typeof n.onFocus=="function"&&n.onFocus(d),typeof n.inputProps.onFocus=="function"&&n.inputProps.onFocus(d),E&&E.onFocus?E.onFocus():v(!0)}}))}}),Se(()=>n.endAdornment),Se(()=>u())]}}))]}),Um="/delphi-view/assets/logo-d53387c4.svg";function bd(t){const[e,r]=ut();function n(o){r(o);const a=new URL(window.location.href);a.searchParams.set(t,o),window.history.pushState({},"",a)}const s=new URLSearchParams(window.location.search).get(t);return s!==null&&r(s),window.addEventListener("popstate",()=>{const a=new URLSearchParams(window.location.search).get(t);r(a!==null?a:"")}),[e,n]}const[gs,vd]=bd("input"),[Hn,Yr]=bd("input2");xt(()=>{gs()&&Hn()&&gs()===Hn()&&Yr("")});const hl=Wr();function yc(t){return t===1?gs:Hn}function Hm(t){return t===1?vd:Yr}const zm=Me('<img alt="DelphiView Logo" width="50" height="50">'),Gm=()=>y(um,{color:"primary",position:"fixed",elevation:2,get children(){return y(hm,{get children(){return[(()=>{const t=zm.cloneNode(!0);return jl(t,"src",Um),t.style.setProperty("margin","16px"),t})(),y(Z,{variant:"h4",noWrap:!0,children:"DelphiView"}),y(ni,{component:"form",sx:{p:"2px 4px",m:"16px",display:"flex",alignItems:"center",width:600},get children(){return y(Fm,{get value(){return gs()},sx:{ml:1,flex:1},placeholder:"Paste anything here",inputProps:{"aria-label":"search google maps"},onChange:t=>vd(t.currentTarget.value)})}})]}})}});const Wm=pd(),wd=Wm("div",{name:"MuiBox",slot:"Root",skipProps:[...su,"component"]})(),xd=function(e){return e=ou(e),y(wd,X(e,{get as(){return e.as??e.component}}))};xd.toString=wd.toString;const Vm=Ce()({name:"MuiBox",selfPropNames:[],utilityClass:t=>`MuiBox-${t}`,slotClasses:()=>({root:["root"]})}),be=Vm.component(function({otherProps:e,classes:r}){const n=Zl();return y(xd,X({theme:n},e,{get class(){return de(r.root,e.class)}}))}),qm=Me("<span></span>"),jm=Ce()({name:"MuiRipple",selfPropNames:["class","classes","pulsate","rippleX","rippleY","rippleSize","in","onExited","timeout"],propDefaults:({set:t})=>t({pulsate:!1,classes:{}})}),Km=jm.component(function({props:e,otherProps:r}){const[n,i]=ut(!1),s=()=>de(e.class,e.classes.ripple,e.classes.rippleVisible,e.classes.ripplePulsate&&{[e.classes.ripplePulsate]:e.pulsate}),o=()=>({width:`${e.rippleSize}px`,height:`${e.rippleSize}px`,top:`${-(e.rippleSize/2)+e.rippleY}px`,left:`${-(e.rippleSize/2)+e.rippleX}px`}),a=()=>de(e.classes.child,e.classes.childLeaving&&{[e.classes.childLeaving]:n()},e.classes.childPulsate&&{[e.classes.childPulsate]:e.pulsate});xt(()=>{!e.in&&!n()&&i(!0)});let l;return xt(()=>{!e.in&&e.onExited&&(clearTimeout(l),l=window.setTimeout(e.onExited,e.timeout))}),Cs(()=>clearTimeout(l)),y(be,{as:"span",get class(){return s()},get style(){return o()},get sx(){return r.sx},get children(){const c=qm.cloneNode(!0);return er(()=>Uo(c,a())),c}})}),ar=at("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);function qo(t){return hs(t)}const Jm=Ce()({name:"MuiTouchRipple",selfPropNames:["center","classes","ref"],propDefaults:({set:t})=>t({center:!1,classes:{}})}),gl=550,Ym=80,Qm=ve("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Xm=ve(Km,{name:"MuiTouchRipple",slot:"Ripple"})(({theme:t})=>({position:"absolute","@keyframes animation-enter-$id":{0:{transform:"scale(0)",opacity:.1},100:{transform:"scale(1)",opacity:.3}},"@keyframes animation-exit-$id":{0:{opacity:1},100:{opacity:0}},"@keyframes animation-pulsate-$id":{0:{transform:"scale(1)"},50:{transform:"scale(0.92)"},100:{transform:"scale(1)"}},[`&.${ar.rippleVisible}`]:{opacity:"0.3",transform:"scale(1)",animationName:"animation-enter-$id",animationDuration:`${gl}ms`,animationTimingFunction:t.transitions.easing.easeInOut},[`&.${ar.ripplePulsate}`]:{animationDuration:`${t.transitions.duration.shorter}ms`},[`& .${ar.child}`]:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},[`& .${ar.childLeaving}`]:{opacity:0,animationName:"animation-exit-$id",animationDuration:`${gl}ms`,animationTimingFunction:`${t.transitions.easing.easeInOut}`},[`& .${ar.childPulsate}`]:{position:"absolute",left:"0px",top:0,animationName:"animation-pulsate-$id",animationDuration:"2500ms",animationTimingFunction:`${t.transitions.easing.easeInOut}`,animationIterationCount:"infinite",animationDelay:"200ms"}})),Zm=Jm.component(function({props:e,otherProps:r}){let n=0;const[i,s]=ut([]),o=ru({});let a,l=!1,c,h;const p=qo(r);Cs(()=>{c&&clearTimeout(c)}),xt(()=>{i(),a&&(a(),a=void 0)});const v=k=>{const P=n++;o[P]=!0,s($=>[...$,{id:P,params:k}]),a=k.cb},E=(k,P={pulsate:!1,center:e.center},$)=>{if(P=X(P,{center:P.center||P.pulsate}),k.type==="mousedown"&&l){l=!1;return}k.type==="touchstart"&&(l=!0);const q=p.ref?p.ref.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,V,re;if(P.center||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)F=Math.round(q.width/2),V=Math.round(q.height/2);else{const{clientX:ie,clientY:fe}=k.touches?k.touches[0]:k;F=Math.round(ie-q.left),V=Math.round(fe-q.top)}if(P.center)re=Math.sqrt((2*q.width**2+q.height**2)/3),re%2===0&&(re+=1);else{const ie=Math.max(Math.abs((p.ref?p.ref.clientWidth:0)-F),F)*2+2,fe=Math.max(Math.abs((p.ref?p.ref.clientHeight:0)-V),V)*2+2;re=Math.sqrt(ie**2+fe**2)}k.touches?h||(h=()=>{v({pulsate:P.pulsate,rippleX:F,rippleY:V,rippleSize:re,cb:$})},c=setTimeout(()=>{h&&(h(),h=void 0)},Ym)):v({pulsate:P.pulsate,rippleX:F,rippleY:V,rippleSize:re,cb:$})},C=()=>E({},{pulsate:!0}),_=(k,P)=>{if(clearTimeout(c),k.type==="touchend"&&h){h(),h=void 0,c=setTimeout(()=>{_(k,P)});return}for(const $ in o)o[$]=!1;h=void 0,a=P},D={pulsate:C,start:E,stop:_};return typeof e.ref=="function"&&e.ref(D),y(Qm,X({get class(){return de(e.classes.root,ar.root,r.class)},ref:p},r,{get children(){return y(Fo,{get each(){return i()},children:k=>y(Xm,{get in(){return o[k.id]},onExited:()=>{s(P=>P.filter($=>$.id!==k.id)),delete o[k.id]},get classes(){return{ripple:de(e.classes.ripple,ar.ripple),rippleVisible:de(e.classes.rippleVisible,ar.rippleVisible),ripplePulsate:de(e.classes.ripplePulsate,ar.ripplePulsate),child:de(e.classes.child,ar.child),childLeaving:de(e.classes.childLeaving,ar.childLeaving),childPulsate:de(e.classes.childPulsate,ar.childPulsate)}},timeout:gl,get pulsate(){return k.params.pulsate},get rippleX(){return k.params.rippleX},get rippleY(){return k.params.rippleY},get rippleSize(){return k.params.rippleSize}})})}}))});function ey(t){return ot("MuiButtonBase",t)}const ty=at("MuiButtonBase",["root","disabled","focusVisible"]),bc=Ce()({name:"MuiButtonBase",selfPropNames:["LinkComponent","TouchRippleProps","action","centerRipple","children","classes","disableRipple","disableRipple","disableTouchRipple","disabled","focusRipple","focusVisibleClassName","onFocusVisible","tabIndex","touchRippleRef"],propDefaults:({set:t})=>t({component:"button",disabled:!1,disableRipple:!1,disableTouchRipple:!1,focusRipple:!1,LinkComponent:"a",centerRipple:!1,tabIndex:0}),autoCallUseClasses:!1,utilityClass:ey,slotClasses:t=>({root:["root",t.disabled&&"disabled",t.focusVisible&&"focusVisible"]})}),ry=ve("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ty.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ad=bc.component(function({allProps:e,props:r,otherProps:n}){const i=hs(n),s=hs(()=>r.touchRippleRef),o=Mp();let a=!1;const[l,c]=ut(!1),[h,p]=ut(!1),v=X(e,{get focusVisible(){return l()}}),E=bc.useClasses(v);Za(()=>{p(!0)}),xt(()=>{r.disabled&&l()&&c(!1)}),xt(()=>{l()&&r.focusRipple&&!r.disableRipple&&s.ref.pulsate()});function C(d,m,b=r.disableTouchRipple){return x=>(typeof m=="function"&&m(x),!b&&s.ref&&s.ref[d](x),!0)}const _=C("start",n.onMouseDown),D=C("stop",n.onContextMenu),k=C("stop",n.onDragLeave),P=C("stop",n.onMouseUp),$=C("stop",d=>{l()&&d.preventDefault(),typeof n.onMouseLeave=="function"&&n.onMouseLeave(d)}),q=C("start",n.onTouchStart),F=C("stop",n.onTouchEnd),V=C("stop",n.onTouchMove),re=C("stop",d=>{o.onBlur(d),o.isFocusVisibleRef.current===!1&&c(!1),typeof n.onFocusOut=="function"&&n.onFocusOut(d)},!1),ie=d=>{i.ref||(i.ref=d.currentTarget),o.onFocus(d),o.isFocusVisibleRef.current===!0&&(c(!0),r.onFocusVisible&&r.onFocusVisible(d)),typeof n.onFocusIn=="function"&&n.onFocusIn(d)},fe=()=>n.component&&n.component!=="button"&&!(i.ref.tagName==="A"&&i.ref.hasAttribute("href")),At=d=>{r.focusRipple&&!a&&l()&&s.ref&&d.key===" "&&(a=!0,s.ref.stop(d,()=>{s.ref.start(d)})),d.target===d.currentTarget&&fe()&&d.key===" "&&d.preventDefault(),typeof n.onKeyDown=="function"&&n.onKeyDown(d),d.target===d.currentTarget&&fe()&&d.key==="Enter"&&!r.disabled&&(d.preventDefault(),typeof n.onClick=="function"&&n.onClick(d))},Ae=d=>{r.focusRipple&&d.key===" "&&s.ref&&l()&&!d.defaultPrevented&&(a=!1,s.ref.stop(d,()=>{s.ref.pulsate(d)})),typeof n.onKeyUp=="function"&&n.onKeyUp(d),typeof n.onClick=="function"&&d.target===d.currentTarget&&fe()&&d.key===" "&&!d.defaultPrevented&&n.onClick(d)},Bt=Se(()=>{let d=n.component;return d==="button"&&(n.href||n.to)&&(d=r.LinkComponent),d}),S=Se(()=>{const d={};return Bt()==="button"?(d.type=n.type===void 0?"button":n.type,d.disabled=r.disabled):(!n.href&&!n.to&&(d.role="button"),r.disabled&&(d["aria-disabled"]=r.disabled)),d}),u=()=>h()&&!r.disableRipple&&!r.disabled;return y(ry,X(S,n,{get class(){return de(E.root,n.class)},ownerState:v,onFocusOut:re,get onClick(){return n.onClick},onContextMenu:D,onFocusIn:ie,onKeyDown:At,onKeyUp:Ae,onMouseDown:_,onMouseLeave:$,onMouseUp:P,onDragLeave:k,onTouchEnd:F,onTouchMove:V,onTouchStart:q,ref:i,get tabIndex(){return r.disabled?-1:r.tabIndex},get type(){return n.type},get as(){return Bt()},get children(){return[Se(()=>r.children),y(ne,{get when(){return u()},get children(){return y(Zm,X({ref:d=>{s(d)},get center(){return r.centerRipple}},()=>r.TouchRippleProps||{}))}})]}}))}),Ed=Wr({});function ny(t){return ot("MuiButton",t)}const Fs=at("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),iy=Ce()({name:"MuiButton",selfPropNames:["children","classes","color","disableElevation","disableFocusRipple","disabled","endIcon","fullWidth","href","size","startIcon","variant"],propDefaults:({set:t})=>{const e=fr(Ed);return t({get color(){return e.color??"primary"},component:"button",get disabled(){return e.disabled??!1},get disableElevation(){return e.disableElevation??!1},get disableFocusRipple(){return e.disableFocusRipple??!1},get fullWidth(){return e.fullWidth??!1},get size(){return e.size??"medium"},get variant(){return e.variant??"text"}})},utilityClass:ny,slotClasses:t=>({root:["root",t.variant,`${t.variant}${he(t.color)}`,`size${he(t.size)}`,`${t.variant}Size${he(t.size)}`,t.color==="inherit"&&"colorInherit",t.disableElevation&&"disableElevation",t.fullWidth&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${he(t.size)}`],endIcon:["endIcon",`iconSize${he(t.size)}`]})}),Sd=t=>({...t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},...t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},...t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}}),sy=ve(Ad,{skipProps:md.filter(t=>t!=="classes"),name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${he(r.color)}`],e[`size${he(r.size)}`],e[`${r.variant}Size${he(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>({...t.typography.button,minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Pt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},...e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:Pt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},...e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${t.palette[e.color].main}`,backgroundColor:Pt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},...e.variant==="contained"&&{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]}},...e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:t.palette[e.color].dark,"@media (hover: none)":{backgroundColor:t.palette[e.color].main}}},"&:active":{...e.variant==="contained"&&{boxShadow:t.shadows[8]}},[`&.${Fs.focusVisible}`]:{...e.variant==="contained"&&{boxShadow:t.shadows[6]}},[`&.${Fs.disabled}`]:{color:t.palette.action.disabled,...e.variant==="outlined"&&{border:`1px solid ${t.palette.action.disabledBackground}`},...e.variant==="outlined"&&e.color==="secondary"&&{border:`1px solid ${t.palette.action.disabled}`},...e.variant==="contained"&&{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},...e.variant==="text"&&{padding:"6px 8px"},...e.variant==="text"&&e.color!=="inherit"&&{color:t.palette[e.color].main},...e.variant==="outlined"&&{padding:"5px 15px",border:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},...e.variant==="outlined"&&e.color!=="inherit"&&{color:t.palette[e.color].main,border:`1px solid ${Pt(t.palette[e.color].main,.5)}`},...e.variant==="contained"&&{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2]},...e.variant==="contained"&&e.color!=="inherit"&&{color:t.palette[e.color].contrastText,backgroundColor:t.palette[e.color].main},...e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},...e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},...e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},...e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},...e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},...e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},...e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},...e.fullWidth&&{width:"100%"}}),({ownerState:t})=>({...t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Fs.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Fs.disabled}`]:{boxShadow:"none"}}})),oy=ve("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,e[`iconSize${he(r.size)}`]]}})(({ownerState:t})=>({display:"inherit",marginRight:8,marginLeft:-4,...t.size==="small"&&{marginLeft:-2},...Sd(t)})),ay=ve("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,e[`iconSize${he(r.size)}`]]}})(({ownerState:t})=>({display:"inherit",marginRight:-4,marginLeft:8,...t.size==="small"&&{marginRight:-2},...Sd(t)})),bo=iy.component(function({allProps:e,otherProps:r,props:n,classes:i}){const s=fr(Ed);return y(sy,X({ownerState:e,get class(){return de(i.root,r.class,s.class)},get disabled(){return n.disabled},get focusRipple(){return!n.disableFocusRipple},get focusVisibleClassName(){return de(n.classes?.focusVisible,r.focusVisibleClassName)},get type(){return r.type},get href(){return n.href}},r,{get classes(){return n.classes},get children(){return[y(ne,{get when(){return n.startIcon},children:o=>y(oy,{get class(){return i.startIcon},ownerState:e,get children(){return o()}})}),Se(()=>n.children),y(ne,{get when(){return n.endIcon},children:o=>y(ay,{get class(){return i.endIcon},ownerState:e,get children(){return o()}})})]}}))});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ly(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var pl={},uy={get exports(){return pl},set exports(t){pl=t}};const cy={},fy=Object.freeze(Object.defineProperty({__proto__:null,default:cy},Symbol.toStringTag,{value:"Module"})),dy=ly(fy);(function(t){(function(e,r){function n(S,u){if(!S)throw new Error(u||"Assertion failed")}function i(S,u){S.super_=u;var d=function(){};d.prototype=u.prototype,S.prototype=new d,S.prototype.constructor=S}function s(S,u,d){if(s.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(S||0,u||10,d||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=dy.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,d){return u.cmp(d)>0?u:d},s.min=function(u,d){return u.cmp(d)<0?u:d},s.prototype._init=function(u,d,m){if(typeof u=="number")return this._initNumber(u,d,m);if(typeof u=="object")return this._initArray(u,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var b=0;u[0]==="-"&&(b++,this.negative=1),b<u.length&&(d===16?this._parseHex(u,b,m):(this._parseBase(u,d,b),m==="le"&&this._initArray(this.toArray(),d,m)))},s.prototype._initNumber=function(u,d,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},s.prototype._initArray=function(u,d,m){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var x,M,I=0;if(m==="be")for(b=u.length-1,x=0;b>=0;b-=3)M=u[b]|u[b-1]<<8|u[b-2]<<16,this.words[x]|=M<<I&67108863,this.words[x+1]=M>>>26-I&67108863,I+=24,I>=26&&(I-=26,x++);else if(m==="le")for(b=0,x=0;b<u.length;b+=3)M=u[b]|u[b+1]<<8|u[b+2]<<16,this.words[x]|=M<<I&67108863,this.words[x+1]=M>>>26-I&67108863,I+=24,I>=26&&(I-=26,x++);return this._strip()};function a(S,u){var d=S.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+S)}function l(S,u,d){var m=a(S,d);return d-1>=u&&(m|=a(S,d-1)<<4),m}s.prototype._parseHex=function(u,d,m){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var x=0,M=0,I;if(m==="be")for(b=u.length-1;b>=d;b-=2)I=l(u,d,b)<<x,this.words[M]|=I&67108863,x>=18?(x-=18,M+=1,this.words[M]|=I>>>26):x+=8;else{var w=u.length-d;for(b=w%2===0?d+1:d;b<u.length;b+=2)I=l(u,d,b)<<x,this.words[M]|=I&67108863,x>=18?(x-=18,M+=1,this.words[M]|=I>>>26):x+=8}this._strip()};function c(S,u,d,m){for(var b=0,x=0,M=Math.min(S.length,d),I=u;I<M;I++){var w=S.charCodeAt(I)-48;b*=m,w>=49?x=w-49+10:w>=17?x=w-17+10:x=w,n(w>=0&&x<m,"Invalid character"),b+=x}return b}s.prototype._parseBase=function(u,d,m){this.words=[0],this.length=1;for(var b=0,x=1;x<=67108863;x*=d)b++;b--,x=x/d|0;for(var M=u.length-m,I=M%b,w=Math.min(M,M-I)+m,f=0,A=m;A<w;A+=b)f=c(u,A,A+b,d),this.imuln(x),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(I!==0){var te=1;for(f=c(u,A,u.length,d),A=0;A<I;A++)te*=d;this.imuln(te),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function h(S,u){S.words=u.words,S.length=u.length,S.negative=u.negative,S.red=u.red}if(s.prototype._move=function(u){h(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,d){u=u||10,d=d|0||1;var m;if(u===16||u==="hex"){m="";for(var b=0,x=0,M=0;M<this.length;M++){var I=this.words[M],w=((I<<b|x)&16777215).toString(16);x=I>>>24-b&16777215,b+=2,b>=26&&(b-=26,M--),x!==0||M!==this.length-1?m=v[6-w.length]+w+m:m=w+m}for(x!==0&&(m=x.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var f=E[u],A=C[u];m="";var te=this.clone();for(te.negative=0;!te.isZero();){var g=te.modrn(A).toString(u);te=te.idivn(A),te.isZero()?m=g+m:m=v[f-g.length]+g+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,d){return this.toArrayLike(o,u,d)}),s.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var _=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};s.prototype.toArrayLike=function(u,d,m){this._strip();var b=this.byteLength(),x=m||Math.max(1,b);n(b<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var M=_(u,x),I=d==="le"?"LE":"BE";return this["_toArrayLike"+I](M,b),M},s.prototype._toArrayLikeLE=function(u,d){for(var m=0,b=0,x=0,M=0;x<this.length;x++){var I=this.words[x]<<M|b;u[m++]=I&255,m<u.length&&(u[m++]=I>>8&255),m<u.length&&(u[m++]=I>>16&255),M===6?(m<u.length&&(u[m++]=I>>24&255),b=0,M=0):(b=I>>>24,M+=2)}if(m<u.length)for(u[m++]=b;m<u.length;)u[m++]=0},s.prototype._toArrayLikeBE=function(u,d){for(var m=u.length-1,b=0,x=0,M=0;x<this.length;x++){var I=this.words[x]<<M|b;u[m--]=I&255,m>=0&&(u[m--]=I>>8&255),m>=0&&(u[m--]=I>>16&255),M===6?(m>=0&&(u[m--]=I>>24&255),b=0,M=0):(b=I>>>24,M+=2)}if(m>=0)for(u[m--]=b;m>=0;)u[m--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var d=u,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},s.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,m=0;return d&8191||(m+=13,d>>>=13),d&127||(m+=7,d>>>=7),d&15||(m+=4,d>>>=4),d&3||(m+=2,d>>>=2),d&1||m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function D(S){for(var u=new Array(S.bitLength()),d=0;d<u.length;d++){var m=d/26|0,b=d%26;u[d]=S.words[m]>>>b&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=d.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var d,m;this.length>u.length?(d=this,m=u):(d=u,m=this);for(var b=0;b<m.length;b++)this.words[b]=d.words[b]^m.words[b];if(this!==d)for(;b<d.length;b++)this.words[b]=d.words[b];return this.length=d.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,m=u%26;this._expand(d),m>0&&d--;for(var b=0;b<d;b++)this.words[b]=~this.words[b]&67108863;return m>0&&(this.words[b]=~this.words[b]&67108863>>26-m),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,d){n(typeof u=="number"&&u>=0);var m=u/26|0,b=u%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<b:this.words[m]=this.words[m]&~(1<<b),this._strip()},s.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var m,b;this.length>u.length?(m=this,b=u):(m=u,b=this);for(var x=0,M=0;M<b.length;M++)d=(m.words[M]|0)+(b.words[M]|0)+x,this.words[M]=d&67108863,x=d>>>26;for(;x!==0&&M<m.length;M++)d=(m.words[M]|0)+x,this.words[M]=d&67108863,x=d>>>26;if(this.length=m.length,x!==0)this.words[this.length]=x,this.length++;else if(m!==this)for(;M<m.length;M++)this.words[M]=m.words[M];return this},s.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,x;m>0?(b=this,x=u):(b=u,x=this);for(var M=0,I=0;I<x.length;I++)d=(b.words[I]|0)-(x.words[I]|0)+M,M=d>>26,this.words[I]=d&67108863;for(;M!==0&&I<b.length;I++)d=(b.words[I]|0)+M,M=d>>26,this.words[I]=d&67108863;if(M===0&&I<b.length&&b!==this)for(;I<b.length;I++)this.words[I]=b.words[I];return this.length=Math.max(this.length,I),b!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function k(S,u,d){d.negative=u.negative^S.negative;var m=S.length+u.length|0;d.length=m,m=m-1|0;var b=S.words[0]|0,x=u.words[0]|0,M=b*x,I=M&67108863,w=M/67108864|0;d.words[0]=I;for(var f=1;f<m;f++){for(var A=w>>>26,te=w&67108863,g=Math.min(f,u.length-1),N=Math.max(0,f-S.length+1);N<=g;N++){var O=f-N|0;b=S.words[O]|0,x=u.words[N]|0,M=b*x+te,A+=M/67108864|0,te=M&67108863}d.words[f]=te|0,w=A|0}return w!==0?d.words[f]=w|0:d.length--,d._strip()}var P=function(u,d,m){var b=u.words,x=d.words,M=m.words,I=0,w,f,A,te=b[0]|0,g=te&8191,N=te>>>13,O=b[1]|0,B=O&8191,G=O>>>13,ee=b[2]|0,K=ee&8191,j=ee>>>13,ct=b[3]|0,Y=ct&8191,ae=ct>>>13,En=b[4]|0,ke=En&8191,_e=En>>>13,Sn=b[5]|0,Ie=Sn&8191,Te=Sn>>>13,Cn=b[6]|0,Ne=Cn&8191,Re=Cn>>>13,Mn=b[7]|0,Pe=Mn&8191,Oe=Mn>>>13,kn=b[8]|0,Be=kn&8191,De=kn>>>13,_n=b[9]|0,Le=_n&8191,$e=_n>>>13,In=x[0]|0,Fe=In&8191,Ue=In>>>13,Tn=x[1]|0,He=Tn&8191,ze=Tn>>>13,Nn=x[2]|0,Ge=Nn&8191,We=Nn>>>13,Rn=x[3]|0,Ve=Rn&8191,qe=Rn>>>13,Pn=x[4]|0,je=Pn&8191,Ke=Pn>>>13,On=x[5]|0,Je=On&8191,Ye=On>>>13,Bn=x[6]|0,Qe=Bn&8191,Xe=Bn>>>13,Dn=x[7]|0,Ze=Dn&8191,et=Dn>>>13,Ln=x[8]|0,tt=Ln&8191,rt=Ln>>>13,$n=x[9]|0,nt=$n&8191,it=$n>>>13;m.negative=u.negative^d.negative,m.length=19,w=Math.imul(g,Fe),f=Math.imul(g,Ue),f=f+Math.imul(N,Fe)|0,A=Math.imul(N,Ue);var an=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(an>>>26)|0,an&=67108863,w=Math.imul(B,Fe),f=Math.imul(B,Ue),f=f+Math.imul(G,Fe)|0,A=Math.imul(G,Ue),w=w+Math.imul(g,He)|0,f=f+Math.imul(g,ze)|0,f=f+Math.imul(N,He)|0,A=A+Math.imul(N,ze)|0;var ln=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(ln>>>26)|0,ln&=67108863,w=Math.imul(K,Fe),f=Math.imul(K,Ue),f=f+Math.imul(j,Fe)|0,A=Math.imul(j,Ue),w=w+Math.imul(B,He)|0,f=f+Math.imul(B,ze)|0,f=f+Math.imul(G,He)|0,A=A+Math.imul(G,ze)|0,w=w+Math.imul(g,Ge)|0,f=f+Math.imul(g,We)|0,f=f+Math.imul(N,Ge)|0,A=A+Math.imul(N,We)|0;var un=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(un>>>26)|0,un&=67108863,w=Math.imul(Y,Fe),f=Math.imul(Y,Ue),f=f+Math.imul(ae,Fe)|0,A=Math.imul(ae,Ue),w=w+Math.imul(K,He)|0,f=f+Math.imul(K,ze)|0,f=f+Math.imul(j,He)|0,A=A+Math.imul(j,ze)|0,w=w+Math.imul(B,Ge)|0,f=f+Math.imul(B,We)|0,f=f+Math.imul(G,Ge)|0,A=A+Math.imul(G,We)|0,w=w+Math.imul(g,Ve)|0,f=f+Math.imul(g,qe)|0,f=f+Math.imul(N,Ve)|0,A=A+Math.imul(N,qe)|0;var cn=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(cn>>>26)|0,cn&=67108863,w=Math.imul(ke,Fe),f=Math.imul(ke,Ue),f=f+Math.imul(_e,Fe)|0,A=Math.imul(_e,Ue),w=w+Math.imul(Y,He)|0,f=f+Math.imul(Y,ze)|0,f=f+Math.imul(ae,He)|0,A=A+Math.imul(ae,ze)|0,w=w+Math.imul(K,Ge)|0,f=f+Math.imul(K,We)|0,f=f+Math.imul(j,Ge)|0,A=A+Math.imul(j,We)|0,w=w+Math.imul(B,Ve)|0,f=f+Math.imul(B,qe)|0,f=f+Math.imul(G,Ve)|0,A=A+Math.imul(G,qe)|0,w=w+Math.imul(g,je)|0,f=f+Math.imul(g,Ke)|0,f=f+Math.imul(N,je)|0,A=A+Math.imul(N,Ke)|0;var fn=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(fn>>>26)|0,fn&=67108863,w=Math.imul(Ie,Fe),f=Math.imul(Ie,Ue),f=f+Math.imul(Te,Fe)|0,A=Math.imul(Te,Ue),w=w+Math.imul(ke,He)|0,f=f+Math.imul(ke,ze)|0,f=f+Math.imul(_e,He)|0,A=A+Math.imul(_e,ze)|0,w=w+Math.imul(Y,Ge)|0,f=f+Math.imul(Y,We)|0,f=f+Math.imul(ae,Ge)|0,A=A+Math.imul(ae,We)|0,w=w+Math.imul(K,Ve)|0,f=f+Math.imul(K,qe)|0,f=f+Math.imul(j,Ve)|0,A=A+Math.imul(j,qe)|0,w=w+Math.imul(B,je)|0,f=f+Math.imul(B,Ke)|0,f=f+Math.imul(G,je)|0,A=A+Math.imul(G,Ke)|0,w=w+Math.imul(g,Je)|0,f=f+Math.imul(g,Ye)|0,f=f+Math.imul(N,Je)|0,A=A+Math.imul(N,Ye)|0;var ha=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(ha>>>26)|0,ha&=67108863,w=Math.imul(Ne,Fe),f=Math.imul(Ne,Ue),f=f+Math.imul(Re,Fe)|0,A=Math.imul(Re,Ue),w=w+Math.imul(Ie,He)|0,f=f+Math.imul(Ie,ze)|0,f=f+Math.imul(Te,He)|0,A=A+Math.imul(Te,ze)|0,w=w+Math.imul(ke,Ge)|0,f=f+Math.imul(ke,We)|0,f=f+Math.imul(_e,Ge)|0,A=A+Math.imul(_e,We)|0,w=w+Math.imul(Y,Ve)|0,f=f+Math.imul(Y,qe)|0,f=f+Math.imul(ae,Ve)|0,A=A+Math.imul(ae,qe)|0,w=w+Math.imul(K,je)|0,f=f+Math.imul(K,Ke)|0,f=f+Math.imul(j,je)|0,A=A+Math.imul(j,Ke)|0,w=w+Math.imul(B,Je)|0,f=f+Math.imul(B,Ye)|0,f=f+Math.imul(G,Je)|0,A=A+Math.imul(G,Ye)|0,w=w+Math.imul(g,Qe)|0,f=f+Math.imul(g,Xe)|0,f=f+Math.imul(N,Qe)|0,A=A+Math.imul(N,Xe)|0;var ga=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(ga>>>26)|0,ga&=67108863,w=Math.imul(Pe,Fe),f=Math.imul(Pe,Ue),f=f+Math.imul(Oe,Fe)|0,A=Math.imul(Oe,Ue),w=w+Math.imul(Ne,He)|0,f=f+Math.imul(Ne,ze)|0,f=f+Math.imul(Re,He)|0,A=A+Math.imul(Re,ze)|0,w=w+Math.imul(Ie,Ge)|0,f=f+Math.imul(Ie,We)|0,f=f+Math.imul(Te,Ge)|0,A=A+Math.imul(Te,We)|0,w=w+Math.imul(ke,Ve)|0,f=f+Math.imul(ke,qe)|0,f=f+Math.imul(_e,Ve)|0,A=A+Math.imul(_e,qe)|0,w=w+Math.imul(Y,je)|0,f=f+Math.imul(Y,Ke)|0,f=f+Math.imul(ae,je)|0,A=A+Math.imul(ae,Ke)|0,w=w+Math.imul(K,Je)|0,f=f+Math.imul(K,Ye)|0,f=f+Math.imul(j,Je)|0,A=A+Math.imul(j,Ye)|0,w=w+Math.imul(B,Qe)|0,f=f+Math.imul(B,Xe)|0,f=f+Math.imul(G,Qe)|0,A=A+Math.imul(G,Xe)|0,w=w+Math.imul(g,Ze)|0,f=f+Math.imul(g,et)|0,f=f+Math.imul(N,Ze)|0,A=A+Math.imul(N,et)|0;var pa=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(pa>>>26)|0,pa&=67108863,w=Math.imul(Be,Fe),f=Math.imul(Be,Ue),f=f+Math.imul(De,Fe)|0,A=Math.imul(De,Ue),w=w+Math.imul(Pe,He)|0,f=f+Math.imul(Pe,ze)|0,f=f+Math.imul(Oe,He)|0,A=A+Math.imul(Oe,ze)|0,w=w+Math.imul(Ne,Ge)|0,f=f+Math.imul(Ne,We)|0,f=f+Math.imul(Re,Ge)|0,A=A+Math.imul(Re,We)|0,w=w+Math.imul(Ie,Ve)|0,f=f+Math.imul(Ie,qe)|0,f=f+Math.imul(Te,Ve)|0,A=A+Math.imul(Te,qe)|0,w=w+Math.imul(ke,je)|0,f=f+Math.imul(ke,Ke)|0,f=f+Math.imul(_e,je)|0,A=A+Math.imul(_e,Ke)|0,w=w+Math.imul(Y,Je)|0,f=f+Math.imul(Y,Ye)|0,f=f+Math.imul(ae,Je)|0,A=A+Math.imul(ae,Ye)|0,w=w+Math.imul(K,Qe)|0,f=f+Math.imul(K,Xe)|0,f=f+Math.imul(j,Qe)|0,A=A+Math.imul(j,Xe)|0,w=w+Math.imul(B,Ze)|0,f=f+Math.imul(B,et)|0,f=f+Math.imul(G,Ze)|0,A=A+Math.imul(G,et)|0,w=w+Math.imul(g,tt)|0,f=f+Math.imul(g,rt)|0,f=f+Math.imul(N,tt)|0,A=A+Math.imul(N,rt)|0;var ma=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(ma>>>26)|0,ma&=67108863,w=Math.imul(Le,Fe),f=Math.imul(Le,Ue),f=f+Math.imul($e,Fe)|0,A=Math.imul($e,Ue),w=w+Math.imul(Be,He)|0,f=f+Math.imul(Be,ze)|0,f=f+Math.imul(De,He)|0,A=A+Math.imul(De,ze)|0,w=w+Math.imul(Pe,Ge)|0,f=f+Math.imul(Pe,We)|0,f=f+Math.imul(Oe,Ge)|0,A=A+Math.imul(Oe,We)|0,w=w+Math.imul(Ne,Ve)|0,f=f+Math.imul(Ne,qe)|0,f=f+Math.imul(Re,Ve)|0,A=A+Math.imul(Re,qe)|0,w=w+Math.imul(Ie,je)|0,f=f+Math.imul(Ie,Ke)|0,f=f+Math.imul(Te,je)|0,A=A+Math.imul(Te,Ke)|0,w=w+Math.imul(ke,Je)|0,f=f+Math.imul(ke,Ye)|0,f=f+Math.imul(_e,Je)|0,A=A+Math.imul(_e,Ye)|0,w=w+Math.imul(Y,Qe)|0,f=f+Math.imul(Y,Xe)|0,f=f+Math.imul(ae,Qe)|0,A=A+Math.imul(ae,Xe)|0,w=w+Math.imul(K,Ze)|0,f=f+Math.imul(K,et)|0,f=f+Math.imul(j,Ze)|0,A=A+Math.imul(j,et)|0,w=w+Math.imul(B,tt)|0,f=f+Math.imul(B,rt)|0,f=f+Math.imul(G,tt)|0,A=A+Math.imul(G,rt)|0,w=w+Math.imul(g,nt)|0,f=f+Math.imul(g,it)|0,f=f+Math.imul(N,nt)|0,A=A+Math.imul(N,it)|0;var ya=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(ya>>>26)|0,ya&=67108863,w=Math.imul(Le,He),f=Math.imul(Le,ze),f=f+Math.imul($e,He)|0,A=Math.imul($e,ze),w=w+Math.imul(Be,Ge)|0,f=f+Math.imul(Be,We)|0,f=f+Math.imul(De,Ge)|0,A=A+Math.imul(De,We)|0,w=w+Math.imul(Pe,Ve)|0,f=f+Math.imul(Pe,qe)|0,f=f+Math.imul(Oe,Ve)|0,A=A+Math.imul(Oe,qe)|0,w=w+Math.imul(Ne,je)|0,f=f+Math.imul(Ne,Ke)|0,f=f+Math.imul(Re,je)|0,A=A+Math.imul(Re,Ke)|0,w=w+Math.imul(Ie,Je)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(Te,Je)|0,A=A+Math.imul(Te,Ye)|0,w=w+Math.imul(ke,Qe)|0,f=f+Math.imul(ke,Xe)|0,f=f+Math.imul(_e,Qe)|0,A=A+Math.imul(_e,Xe)|0,w=w+Math.imul(Y,Ze)|0,f=f+Math.imul(Y,et)|0,f=f+Math.imul(ae,Ze)|0,A=A+Math.imul(ae,et)|0,w=w+Math.imul(K,tt)|0,f=f+Math.imul(K,rt)|0,f=f+Math.imul(j,tt)|0,A=A+Math.imul(j,rt)|0,w=w+Math.imul(B,nt)|0,f=f+Math.imul(B,it)|0,f=f+Math.imul(G,nt)|0,A=A+Math.imul(G,it)|0;var ba=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(ba>>>26)|0,ba&=67108863,w=Math.imul(Le,Ge),f=Math.imul(Le,We),f=f+Math.imul($e,Ge)|0,A=Math.imul($e,We),w=w+Math.imul(Be,Ve)|0,f=f+Math.imul(Be,qe)|0,f=f+Math.imul(De,Ve)|0,A=A+Math.imul(De,qe)|0,w=w+Math.imul(Pe,je)|0,f=f+Math.imul(Pe,Ke)|0,f=f+Math.imul(Oe,je)|0,A=A+Math.imul(Oe,Ke)|0,w=w+Math.imul(Ne,Je)|0,f=f+Math.imul(Ne,Ye)|0,f=f+Math.imul(Re,Je)|0,A=A+Math.imul(Re,Ye)|0,w=w+Math.imul(Ie,Qe)|0,f=f+Math.imul(Ie,Xe)|0,f=f+Math.imul(Te,Qe)|0,A=A+Math.imul(Te,Xe)|0,w=w+Math.imul(ke,Ze)|0,f=f+Math.imul(ke,et)|0,f=f+Math.imul(_e,Ze)|0,A=A+Math.imul(_e,et)|0,w=w+Math.imul(Y,tt)|0,f=f+Math.imul(Y,rt)|0,f=f+Math.imul(ae,tt)|0,A=A+Math.imul(ae,rt)|0,w=w+Math.imul(K,nt)|0,f=f+Math.imul(K,it)|0,f=f+Math.imul(j,nt)|0,A=A+Math.imul(j,it)|0;var va=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(va>>>26)|0,va&=67108863,w=Math.imul(Le,Ve),f=Math.imul(Le,qe),f=f+Math.imul($e,Ve)|0,A=Math.imul($e,qe),w=w+Math.imul(Be,je)|0,f=f+Math.imul(Be,Ke)|0,f=f+Math.imul(De,je)|0,A=A+Math.imul(De,Ke)|0,w=w+Math.imul(Pe,Je)|0,f=f+Math.imul(Pe,Ye)|0,f=f+Math.imul(Oe,Je)|0,A=A+Math.imul(Oe,Ye)|0,w=w+Math.imul(Ne,Qe)|0,f=f+Math.imul(Ne,Xe)|0,f=f+Math.imul(Re,Qe)|0,A=A+Math.imul(Re,Xe)|0,w=w+Math.imul(Ie,Ze)|0,f=f+Math.imul(Ie,et)|0,f=f+Math.imul(Te,Ze)|0,A=A+Math.imul(Te,et)|0,w=w+Math.imul(ke,tt)|0,f=f+Math.imul(ke,rt)|0,f=f+Math.imul(_e,tt)|0,A=A+Math.imul(_e,rt)|0,w=w+Math.imul(Y,nt)|0,f=f+Math.imul(Y,it)|0,f=f+Math.imul(ae,nt)|0,A=A+Math.imul(ae,it)|0;var wa=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(wa>>>26)|0,wa&=67108863,w=Math.imul(Le,je),f=Math.imul(Le,Ke),f=f+Math.imul($e,je)|0,A=Math.imul($e,Ke),w=w+Math.imul(Be,Je)|0,f=f+Math.imul(Be,Ye)|0,f=f+Math.imul(De,Je)|0,A=A+Math.imul(De,Ye)|0,w=w+Math.imul(Pe,Qe)|0,f=f+Math.imul(Pe,Xe)|0,f=f+Math.imul(Oe,Qe)|0,A=A+Math.imul(Oe,Xe)|0,w=w+Math.imul(Ne,Ze)|0,f=f+Math.imul(Ne,et)|0,f=f+Math.imul(Re,Ze)|0,A=A+Math.imul(Re,et)|0,w=w+Math.imul(Ie,tt)|0,f=f+Math.imul(Ie,rt)|0,f=f+Math.imul(Te,tt)|0,A=A+Math.imul(Te,rt)|0,w=w+Math.imul(ke,nt)|0,f=f+Math.imul(ke,it)|0,f=f+Math.imul(_e,nt)|0,A=A+Math.imul(_e,it)|0;var xa=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(xa>>>26)|0,xa&=67108863,w=Math.imul(Le,Je),f=Math.imul(Le,Ye),f=f+Math.imul($e,Je)|0,A=Math.imul($e,Ye),w=w+Math.imul(Be,Qe)|0,f=f+Math.imul(Be,Xe)|0,f=f+Math.imul(De,Qe)|0,A=A+Math.imul(De,Xe)|0,w=w+Math.imul(Pe,Ze)|0,f=f+Math.imul(Pe,et)|0,f=f+Math.imul(Oe,Ze)|0,A=A+Math.imul(Oe,et)|0,w=w+Math.imul(Ne,tt)|0,f=f+Math.imul(Ne,rt)|0,f=f+Math.imul(Re,tt)|0,A=A+Math.imul(Re,rt)|0,w=w+Math.imul(Ie,nt)|0,f=f+Math.imul(Ie,it)|0,f=f+Math.imul(Te,nt)|0,A=A+Math.imul(Te,it)|0;var Aa=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(Aa>>>26)|0,Aa&=67108863,w=Math.imul(Le,Qe),f=Math.imul(Le,Xe),f=f+Math.imul($e,Qe)|0,A=Math.imul($e,Xe),w=w+Math.imul(Be,Ze)|0,f=f+Math.imul(Be,et)|0,f=f+Math.imul(De,Ze)|0,A=A+Math.imul(De,et)|0,w=w+Math.imul(Pe,tt)|0,f=f+Math.imul(Pe,rt)|0,f=f+Math.imul(Oe,tt)|0,A=A+Math.imul(Oe,rt)|0,w=w+Math.imul(Ne,nt)|0,f=f+Math.imul(Ne,it)|0,f=f+Math.imul(Re,nt)|0,A=A+Math.imul(Re,it)|0;var Ea=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(Ea>>>26)|0,Ea&=67108863,w=Math.imul(Le,Ze),f=Math.imul(Le,et),f=f+Math.imul($e,Ze)|0,A=Math.imul($e,et),w=w+Math.imul(Be,tt)|0,f=f+Math.imul(Be,rt)|0,f=f+Math.imul(De,tt)|0,A=A+Math.imul(De,rt)|0,w=w+Math.imul(Pe,nt)|0,f=f+Math.imul(Pe,it)|0,f=f+Math.imul(Oe,nt)|0,A=A+Math.imul(Oe,it)|0;var Sa=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(Sa>>>26)|0,Sa&=67108863,w=Math.imul(Le,tt),f=Math.imul(Le,rt),f=f+Math.imul($e,tt)|0,A=Math.imul($e,rt),w=w+Math.imul(Be,nt)|0,f=f+Math.imul(Be,it)|0,f=f+Math.imul(De,nt)|0,A=A+Math.imul(De,it)|0;var Ca=(I+w|0)+((f&8191)<<13)|0;I=(A+(f>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,w=Math.imul(Le,nt),f=Math.imul(Le,it),f=f+Math.imul($e,nt)|0,A=Math.imul($e,it);var Ma=(I+w|0)+((f&8191)<<13)|0;return I=(A+(f>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,M[0]=an,M[1]=ln,M[2]=un,M[3]=cn,M[4]=fn,M[5]=ha,M[6]=ga,M[7]=pa,M[8]=ma,M[9]=ya,M[10]=ba,M[11]=va,M[12]=wa,M[13]=xa,M[14]=Aa,M[15]=Ea,M[16]=Sa,M[17]=Ca,M[18]=Ma,I!==0&&(M[19]=I,m.length++),m};Math.imul||(P=k);function $(S,u,d){d.negative=u.negative^S.negative,d.length=S.length+u.length;for(var m=0,b=0,x=0;x<d.length-1;x++){var M=b;b=0;for(var I=m&67108863,w=Math.min(x,u.length-1),f=Math.max(0,x-S.length+1);f<=w;f++){var A=x-f,te=S.words[A]|0,g=u.words[f]|0,N=te*g,O=N&67108863;M=M+(N/67108864|0)|0,O=O+I|0,I=O&67108863,M=M+(O>>>26)|0,b+=M>>>26,M&=67108863}d.words[x]=I,m=M,M=b}return m!==0?d.words[x]=m:d.length--,d._strip()}function q(S,u,d){return $(S,u,d)}s.prototype.mulTo=function(u,d){var m,b=this.length+u.length;return this.length===10&&u.length===10?m=P(this,u,d):b<63?m=k(this,u,d):b<1024?m=$(this,u,d):m=q(this,u,d),m},s.prototype.mul=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},s.prototype.mulf=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),q(this,u,d)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var d=u<0;d&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var m=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*u,M=(x&67108863)+(m&67108863);m>>=26,m+=x/67108864|0,m+=M>>>26,this.words[b]=M&67108863}return m!==0&&(this.words[b]=m,this.length++),d?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var d=D(u);if(d.length===0)return new s(1);for(var m=this,b=0;b<d.length&&d[b]===0;b++,m=m.sqr());if(++b<d.length)for(var x=m.sqr();b<d.length;b++,x=x.sqr())d[b]!==0&&(m=m.mul(x));return m},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26,b=67108863>>>26-d<<26-d,x;if(d!==0){var M=0;for(x=0;x<this.length;x++){var I=this.words[x]&b,w=(this.words[x]|0)-I<<d;this.words[x]=w|M,M=I>>>26-d}M&&(this.words[x]=M,this.length++)}if(m!==0){for(x=this.length-1;x>=0;x--)this.words[x+m]=this.words[x];for(x=0;x<m;x++)this.words[x]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,d,m){n(typeof u=="number"&&u>=0);var b;d?b=(d-d%26)/26:b=0;var x=u%26,M=Math.min((u-x)/26,this.length),I=67108863^67108863>>>x<<x,w=m;if(b-=M,b=Math.max(0,b),w){for(var f=0;f<M;f++)w.words[f]=this.words[f];w.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var A=0;for(f=this.length-1;f>=0&&(A!==0||f>=b);f--){var te=this.words[f]|0;this.words[f]=A<<26-x|te>>>x,A=te&I}return w&&A!==0&&(w.words[w.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,d,m){return n(this.negative===0),this.iushrn(u,d,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26,b=1<<d;if(this.length<=m)return!1;var x=this.words[m];return!!(x&b)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var b=67108863^67108863>>>d<<d;this.words[this.length-1]&=b}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,d,m){var b=u.length+m,x;this._expand(b);var M,I=0;for(x=0;x<u.length;x++){M=(this.words[x+m]|0)+I;var w=(u.words[x]|0)*d;M-=w&67108863,I=(M>>26)-(w/67108864|0),this.words[x+m]=M&67108863}for(;x<this.length-m;x++)M=(this.words[x+m]|0)+I,I=M>>26,this.words[x+m]=M&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,x=0;x<this.length;x++)M=-(this.words[x]|0)+I,I=M>>26,this.words[x]=M&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,d){var m=this.length-u.length,b=this.clone(),x=u,M=x.words[x.length-1]|0,I=this._countBits(M);m=26-I,m!==0&&(x=x.ushln(m),b.iushln(m),M=x.words[x.length-1]|0);var w=b.length-x.length,f;if(d!=="mod"){f=new s(null),f.length=w+1,f.words=new Array(f.length);for(var A=0;A<f.length;A++)f.words[A]=0}var te=b.clone()._ishlnsubmul(x,1,w);te.negative===0&&(b=te,f&&(f.words[w]=1));for(var g=w-1;g>=0;g--){var N=(b.words[x.length+g]|0)*67108864+(b.words[x.length+g-1]|0);for(N=Math.min(N/M|0,67108863),b._ishlnsubmul(x,N,g);b.negative!==0;)N--,b.negative=0,b._ishlnsubmul(x,1,g),b.isZero()||(b.negative^=1);f&&(f.words[g]=N)}return f&&f._strip(),b._strip(),d!=="div"&&m!==0&&b.iushrn(m),{div:f||null,mod:b}},s.prototype.divmod=function(u,d,m){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var b,x,M;return this.negative!==0&&u.negative===0?(M=this.neg().divmod(u,d),d!=="mod"&&(b=M.div.neg()),d!=="div"&&(x=M.mod.neg(),m&&x.negative!==0&&x.iadd(u)),{div:b,mod:x}):this.negative===0&&u.negative!==0?(M=this.divmod(u.neg(),d),d!=="mod"&&(b=M.div.neg()),{div:b,mod:M.mod}):this.negative&u.negative?(M=this.neg().divmod(u.neg(),d),d!=="div"&&(x=M.mod.neg(),m&&x.negative!==0&&x.isub(u)),{div:M.div,mod:x}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,d)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(u):d.mod,b=u.ushrn(1),x=u.andln(1),M=m.cmp(b);return M<0||x===1&&M===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var m=(1<<26)%u,b=0,x=this.length-1;x>=0;x--)b=(m*b+(this.words[x]|0))%u;return d?-b:b},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var m=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+m*67108864;this.words[b]=x/u|0,m=x%u}return this._strip(),d?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var d=this,m=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var b=new s(1),x=new s(0),M=new s(0),I=new s(1),w=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++w;for(var f=m.clone(),A=d.clone();!d.isZero();){for(var te=0,g=1;!(d.words[0]&g)&&te<26;++te,g<<=1);if(te>0)for(d.iushrn(te);te-- >0;)(b.isOdd()||x.isOdd())&&(b.iadd(f),x.isub(A)),b.iushrn(1),x.iushrn(1);for(var N=0,O=1;!(m.words[0]&O)&&N<26;++N,O<<=1);if(N>0)for(m.iushrn(N);N-- >0;)(M.isOdd()||I.isOdd())&&(M.iadd(f),I.isub(A)),M.iushrn(1),I.iushrn(1);d.cmp(m)>=0?(d.isub(m),b.isub(M),x.isub(I)):(m.isub(d),M.isub(b),I.isub(x))}return{a:M,b:I,gcd:m.iushln(w)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var d=this,m=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var b=new s(1),x=new s(0),M=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var I=0,w=1;!(d.words[0]&w)&&I<26;++I,w<<=1);if(I>0)for(d.iushrn(I);I-- >0;)b.isOdd()&&b.iadd(M),b.iushrn(1);for(var f=0,A=1;!(m.words[0]&A)&&f<26;++f,A<<=1);if(f>0)for(m.iushrn(f);f-- >0;)x.isOdd()&&x.iadd(M),x.iushrn(1);d.cmp(m)>=0?(d.isub(m),b.isub(x)):(m.isub(d),x.isub(b))}var te;return d.cmpn(1)===0?te=b:te=x,te.cmpn(0)<0&&te.iadd(u),te},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),m=u.clone();d.negative=0,m.negative=0;for(var b=0;d.isEven()&&m.isEven();b++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var x=d.cmp(m);if(x<0){var M=d;d=m,m=M}else if(x===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(b)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var d=u%26,m=(u-d)/26,b=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=b,this;for(var x=b,M=m;x!==0&&M<this.length;M++){var I=this.words[M]|0;I+=x,x=I>>>26,I&=67108863,this.words[M]=I}return x!==0&&(this.words[M]=x,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(u=-u),n(u<=67108863,"Number is too big");var b=this.words[0]|0;m=b===u?0:b<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var b=this.words[m]|0,x=u.words[m]|0;if(b!==x){b<x?d=-1:b>x&&(d=1);break}}return d},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new Ae(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var F={k256:null,p224:null,p192:null,p25519:null};function V(S,u){this.name=S,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},V.prototype.ireduce=function(u){var d=u,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var b=m<this.n?-1:d.ucmp(this.p);return b===0?(d.words[0]=0,d.length=1):b>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},V.prototype.split=function(u,d){u.iushrn(this.n,0,d)},V.prototype.imulK=function(u){return u.imul(this.k)};function re(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(re,V),re.prototype.split=function(u,d){for(var m=4194303,b=Math.min(u.length,9),x=0;x<b;x++)d.words[x]=u.words[x];if(d.length=b,u.length<=9){u.words[0]=0,u.length=1;return}var M=u.words[9];for(d.words[d.length++]=M&m,x=10;x<u.length;x++){var I=u.words[x]|0;u.words[x-10]=(I&m)<<4|M>>>22,M=I}M>>>=22,u.words[x-10]=M,M===0&&u.length>10?u.length-=10:u.length-=9},re.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,m=0;m<u.length;m++){var b=u.words[m]|0;d+=b*977,u.words[m]=d&67108863,d=b*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function ie(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ie,V);function fe(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(fe,V);function At(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(At,V),At.prototype.imulK=function(u){for(var d=0,m=0;m<u.length;m++){var b=(u.words[m]|0)*19+d,x=b&67108863;b>>>=26,u.words[m]=x,d=b}return d!==0&&(u.words[u.length++]=d),u},s._prime=function(u){if(F[u])return F[u];var d;if(u==="k256")d=new re;else if(u==="p224")d=new ie;else if(u==="p192")d=new fe;else if(u==="p25519")d=new At;else throw new Error("Unknown prime "+u);return F[u]=d,d};function Ae(S){if(typeof S=="string"){var u=s._prime(S);this.m=u.p,this.prime=u}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Ae.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},Ae.prototype._verify2=function(u,d){n((u.negative|d.negative)===0,"red works only with positives"),n(u.red&&u.red===d.red,"red works only with red numbers")},Ae.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(h(u,u.umod(this.m)._forceRed(this)),u)},Ae.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Ae.prototype.add=function(u,d){this._verify2(u,d);var m=u.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Ae.prototype.iadd=function(u,d){this._verify2(u,d);var m=u.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Ae.prototype.sub=function(u,d){this._verify2(u,d);var m=u.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Ae.prototype.isub=function(u,d){this._verify2(u,d);var m=u.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Ae.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},Ae.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},Ae.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},Ae.prototype.isqr=function(u){return this.imul(u,u.clone())},Ae.prototype.sqr=function(u){return this.mul(u,u)},Ae.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var b=this.m.subn(1),x=0;!b.isZero()&&b.andln(1)===0;)x++,b.iushrn(1);n(!b.isZero());var M=new s(1).toRed(this),I=M.redNeg(),w=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,w).cmp(I)!==0;)f.redIAdd(I);for(var A=this.pow(f,b),te=this.pow(u,b.addn(1).iushrn(1)),g=this.pow(u,b),N=x;g.cmp(M)!==0;){for(var O=g,B=0;O.cmp(M)!==0;B++)O=O.redSqr();n(B<N);var G=this.pow(A,new s(1).iushln(N-B-1));te=te.redMul(G),A=G.redSqr(),g=g.redMul(A),N=B}return te},Ae.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Ae.prototype.pow=function(u,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var m=4,b=new Array(1<<m);b[0]=new s(1).toRed(this),b[1]=u;for(var x=2;x<b.length;x++)b[x]=this.mul(b[x-1],u);var M=b[0],I=0,w=0,f=d.bitLength()%26;for(f===0&&(f=26),x=d.length-1;x>=0;x--){for(var A=d.words[x],te=f-1;te>=0;te--){var g=A>>te&1;if(M!==b[0]&&(M=this.sqr(M)),g===0&&I===0){w=0;continue}I<<=1,I|=g,w++,!(w!==m&&(x!==0||te!==0))&&(M=this.mul(M,b[I]),w=0,I=0)}f=26}return M},Ae.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},Ae.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},s.mont=function(u){return new Bt(u)};function Bt(S){Ae.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Bt,Ae),Bt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Bt.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},Bt.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(d),b=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(b).iushrn(this.shift),M=x;return x.cmp(this.m)>=0?M=x.isub(this.m):x.cmpn(0)<0&&(M=x.iadd(this.m)),M._forceRed(this)},Bt.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new s(0)._forceRed(this);var m=u.mul(d),b=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(b).iushrn(this.shift),M=x;return x.cmp(this.m)>=0?M=x.isub(this.m):x.cmpn(0)<0&&(M=x.iadd(this.m)),M._forceRed(this)},Bt.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,Cd)})(uy);const le=pl,hy="logger/5.7.0";let vc=!1,wc=!1;const Ys={debug:1,default:2,info:2,warning:3,error:4,off:5};let xc=Ys.default,Na=null;function gy(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const Ac=gy();var ml;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(ml||(ml={}));var Sr;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Sr||(Sr={}));const Ec="0123456789abcdef";let T=class Ct{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Ys[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(xc>Ys[n])&&console.log.apply(console,r)}debug(...e){this._log(Ct.levels.DEBUG,e)}info(...e){this._log(Ct.levels.INFO,e)}warn(...e){this._log(Ct.levels.WARNING,e)}makeError(e,r,n){if(wc)return this.makeError("censored error",r,{});r||(r=Ct.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const c=n[l];try{if(c instanceof Uint8Array){let h="";for(let p=0;p<c.length;p++)h+=Ec[c[p]>>4],h+=Ec[c[p]&15];i.push(l+"=Uint8Array(0x"+h+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Sr.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Sr.CALL_EXCEPTION:case Sr.INSUFFICIENT_FUNDS:case Sr.MISSING_NEW:case Sr.NONCE_EXPIRED:case Sr.REPLACEMENT_UNDERPRICED:case Sr.TRANSACTION_REPLACED:case Sr.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(l){a[l]=n[l]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ct.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Ac&&this.throwError("platform missing String.prototype.normalize",Ct.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ac})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ct.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ct.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ct.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ct.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ct.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ct.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ct.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Na||(Na=new Ct(hy)),Na}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ct.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),vc){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ct.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}wc=!!e,vc=!!r}static setLogLevel(e){const r=Ys[e.toLowerCase()];if(r==null){Ct.globalLogger().warn("invalid log level - "+e);return}xc=r}static from(e){return new Ct(e)}};T.errors=Sr;T.levels=ml;const py="bytes/5.7.0",pt=new T(py);function Md(t){return!!t.toHexString}function Ai(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ai(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Qn(t){return xe(t)&&!(t.length%2)||jo(t)}function Sc(t){return typeof t=="number"&&t==t&&t%1===0}function jo(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Sc(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Sc(r)||r<0||r>=256)return!1}return!0}function z(t,e){if(e||(e={}),typeof t=="number"){pt.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ai(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Md(t)&&(t=t.toHexString()),xe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":pt.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ai(new Uint8Array(n))}return jo(t)?Ai(new Uint8Array(t)):pt.throwArgumentError("invalid arrayify value","value",t)}function Ht(t){const e=t.map(i=>z(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ai(n)}function _i(t){let e=z(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function Qs(t,e){t=z(t),t.length>e&&pt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Ai(r)}function xe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Ra="0123456789abcdef";function L(t,e){if(e||(e={}),typeof t=="number"){pt.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Ra[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Md(t))return t.toHexString();if(xe(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":pt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(jo(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Ra[(i&240)>>4]+Ra[i&15]}return r}return pt.throwArgumentError("invalid hexlify value","value",t)}function Xn(t){if(typeof t!="string")t=L(t);else if(!xe(t)||t.length%2)return null;return(t.length-2)/2}function Dt(t,e,r){return typeof t!="string"?t=L(t):(!xe(t)||t.length%2)&&pt.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Kt(t){let e="0x";return t.forEach(r=>{e+=L(r).substring(2)}),e}function au(t){const e=my(L(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function my(t){typeof t!="string"&&(t=L(t)),xe(t)||pt.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function gt(t,e){for(typeof t!="string"?t=L(t):xe(t)||pt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&pt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Ko(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Qn(t)){let r=z(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=L(r.slice(0,32)),e.s=L(r.slice(32,64))):r.length===65?(e.r=L(r.slice(0,32)),e.s=L(r.slice(32,64)),e.v=r[64]):pt.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:pt.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=L(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Qs(z(e._vs),32);e._vs=L(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&pt.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=L(i);e.s==null?e.s=o:e.s!==o&&pt.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?pt.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&pt.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!xe(e.r)?pt.throwArgumentError("signature missing or invalid r","signature",t):e.r=gt(e.r,32),e.s==null||!xe(e.s)?pt.throwArgumentError("signature missing or invalid s","signature",t):e.s=gt(e.s,32);const r=z(e.s);r[0]>=128&&pt.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=L(r);e._vs&&(xe(e._vs)||pt.throwArgumentError("signature invalid _vs","signature",t),e._vs=gt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&pt.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const yy="bignumber/5.7.0";var vo=le.BN;const qr=new T(yy),Pa={},Cc=9007199254740991;let Mc=!1;class R{constructor(e,r){e!==Pa&&qr.throwError("cannot call constructor directly; use BigNumber.from",T.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return qt(ge(this).fromTwos(e))}toTwos(e){return qt(ge(this).toTwos(e))}abs(){return this._hex[0]==="-"?R.from(this._hex.substring(1)):this}add(e){return qt(ge(this).add(ge(e)))}sub(e){return qt(ge(this).sub(ge(e)))}div(e){return R.from(e).isZero()&&ir("division-by-zero","div"),qt(ge(this).div(ge(e)))}mul(e){return qt(ge(this).mul(ge(e)))}mod(e){const r=ge(e);return r.isNeg()&&ir("division-by-zero","mod"),qt(ge(this).umod(r))}pow(e){const r=ge(e);return r.isNeg()&&ir("negative-power","pow"),qt(ge(this).pow(r))}and(e){const r=ge(e);return(this.isNegative()||r.isNeg())&&ir("unbound-bitwise-result","and"),qt(ge(this).and(r))}or(e){const r=ge(e);return(this.isNegative()||r.isNeg())&&ir("unbound-bitwise-result","or"),qt(ge(this).or(r))}xor(e){const r=ge(e);return(this.isNegative()||r.isNeg())&&ir("unbound-bitwise-result","xor"),qt(ge(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&ir("negative-width","mask"),qt(ge(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ir("negative-width","shl"),qt(ge(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ir("negative-width","shr"),qt(ge(this).shrn(e))}eq(e){return ge(this).eq(ge(e))}lt(e){return ge(this).lt(ge(e))}lte(e){return ge(this).lte(ge(e))}gt(e){return ge(this).gt(ge(e))}gte(e){return ge(this).gte(ge(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ge(this).isZero()}toNumber(){try{return ge(this).toNumber()}catch{ir("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return qr.throwError("this platform does not support BigInt",T.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Mc||(Mc=!0,qr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?qr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",T.errors.UNEXPECTED_ARGUMENT,{}):qr.throwError("BigNumber.toString does not accept parameters",T.errors.UNEXPECTED_ARGUMENT,{})),ge(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof R)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new R(Pa,ps(e)):e.match(/^-?[0-9]+$/)?new R(Pa,ps(new vo(e))):qr.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&ir("underflow","BigNumber.from",e),(e>=Cc||e<=-Cc)&&ir("overflow","BigNumber.from",e),R.from(String(e));const r=e;if(typeof r=="bigint")return R.from(r.toString());if(jo(r))return R.from(L(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return R.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(xe(n)||n[0]==="-"&&xe(n.substring(1))))return R.from(n)}return qr.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function ps(t){if(typeof t!="string")return ps(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&qr.throwArgumentError("invalid hex","value",t),t=ps(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function qt(t){return R.from(ps(t))}function ge(t){const e=R.from(t).toHexString();return e[0]==="-"?new vo("-"+e.substring(3),16):new vo(e.substring(2),16)}function ir(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),qr.throwError(t,T.errors.NUMERIC_FAULT,n)}function by(t){return new vo(t,36).toString(16)}const vy="properties/5.7.0";var wy=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const wo=new T(vy);function U(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Dr(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function mt(t){return wy(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function xy(t,e){(!t||typeof t!="object")&&wo.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||wo.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Tt(t){const e={};for(const r in t)e[r]=t[r];return e}const Ay={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function kd(t){if(t==null||Ay[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!kd(n))return!1}return!0}return wo.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Ey(t){if(kd(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Zn(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&U(e,r,Zn(n))}return e}return wo.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Zn(t){return Ey(t)}class _s{constructor(e){for(const r in e)this[r]=Zn(e[r])}}const Is="abi/5.7.0",ye=new T(Is),ei={};let kc={calldata:!0,memory:!0,storage:!0},Sy={calldata:!0,memory:!0};function Us(t,e){if(t==="bytes"||t==="string"){if(kc[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&Sy[e])return!0;return(kc[e]||e==="payable")&&ye.throwArgumentError("invalid modifier","name",e),!1}function Cy(t,e){let r=t;function n(a){ye.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let l=t[a];switch(l){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=ui(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Us(o.type,o.name)&&(o.name=""),o.type=ui(o.type);let c=o;o=o.parent,o||n(a),delete c.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Us(o.type,o.name)&&(o.name=""),o.type=ui(o.type);let h=i(o.parent);o.parent.components.push(h),delete o.parent,o=h;break;case" ":o.state.allowType&&o.type!==""&&(o.type=ui(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Us(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=l,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=l,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=l,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=l,delete o.state.allowArray):o.state.readArray?o.type+=l:n(a)}}return o.parent&&ye.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Us(o.type,o.name)&&(o.name=""),s.type=ui(s.type),s}function Xs(t,e){for(let r in e)U(t,r,e[r])}const we=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),My=new RegExp(/^(.*)\[([0-9]*)\]$/);class Nt{constructor(e,r){e!==ei&&ye.throwError("use fromString",T.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Xs(this,r);let n=this.type.match(My);n?Xs(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Nt.fromObject({type:n[1],components:this.components}),baseType:"array"}):Xs(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=we.sighash),we[e]||ye.throwArgumentError("invalid format type","format",e),e===we.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==we.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===we.full?", ":",")+")"):r+=this.type,e!==we.sighash&&(this.indexed===!0&&(r+=" indexed"),e===we.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Nt.fromString(e,r):Nt.fromObject(e)}static fromObject(e){return Nt.isParamType(e)?e:new Nt(ei,{name:e.name||null,type:ui(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Nt.fromObject):null})}static fromString(e,r){function n(i){return Nt.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(Cy(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function ms(t,e){return _y(t).map(r=>Nt.fromString(r,e))}class Qr{constructor(e,r){e!==ei&&ye.throwError("use a static from method",T.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Xs(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Qr.isFragment(e)?e:typeof e=="string"?Qr.fromString(e):Qr.fromObject(e)}static fromObject(e){if(Qr.isFragment(e))return e;switch(e.type){case"function":return Br.fromObject(e);case"event":return Jr.fromObject(e);case"constructor":return Or.fromObject(e);case"error":return pn.fromObject(e);case"fallback":case"receive":return null}return ye.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Jr.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Br.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Or.fromString(e.trim()):e.split(" ")[0]==="error"?pn.fromString(e.substring(5).trim()):ye.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Jr extends Qr{format(e){if(e||(e=we.sighash),we[e]||ye.throwArgumentError("invalid format type","format",e),e===we.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==we.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===we.full?", ":",")+") ",e!==we.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Jr.fromString(e):Jr.fromObject(e)}static fromObject(e){if(Jr.isEventFragment(e))return e;e.type!=="event"&&ye.throwArgumentError("invalid event object","value",e);const r={name:ys(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Nt.fromObject):[],type:"event"};return new Jr(ei,r)}static fromString(e){let r=e.match(bs);r||ye.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:ye.warn("unknown modifier: "+i)}}),Jr.fromObject({name:r[1].trim(),anonymous:n,inputs:ms(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function _d(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&ye.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||ye.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=R.from(r[1]),r[0]):t}function Id(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function Td(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&ye.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&ye.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&ye.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&ye.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&ye.throwArgumentError("unable to determine stateMutability","value",t),e}class Or extends Qr{format(e){if(e||(e=we.sighash),we[e]||ye.throwArgumentError("invalid format type","format",e),e===we.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===we.sighash&&ye.throwError("cannot format a constructor for sighash",T.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===we.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Or.fromString(e):Or.fromObject(e)}static fromObject(e){if(Or.isConstructorFragment(e))return e;e.type!=="constructor"&&ye.throwArgumentError("invalid constructor object","value",e);let r=Td(e);r.constant&&ye.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Nt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?R.from(e.gas):null};return new Or(ei,n)}static fromString(e){let r={type:"constructor"};e=_d(e,r);let n=e.match(bs);return(!n||n[1].trim()!=="constructor")&&ye.throwArgumentError("invalid constructor string","value",e),r.inputs=ms(n[2].trim(),!1),Id(n[3].trim(),r),Or.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Br extends Or{format(e){if(e||(e=we.sighash),we[e]||ye.throwArgumentError("invalid format type","format",e),e===we.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==we.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===we.full?", ":",")+") ",e!==we.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Br.fromString(e):Br.fromObject(e)}static fromObject(e){if(Br.isFunctionFragment(e))return e;e.type!=="function"&&ye.throwArgumentError("invalid function object","value",e);let r=Td(e);const n={type:e.type,name:ys(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Nt.fromObject):[],outputs:e.outputs?e.outputs.map(Nt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?R.from(e.gas):null};return new Br(ei,n)}static fromString(e){let r={type:"function"};e=_d(e,r);let n=e.split(" returns ");n.length>2&&ye.throwArgumentError("invalid function string","value",e);let i=n[0].match(bs);if(i||ye.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&ys(r.name),r.inputs=ms(i[2],!1),Id(i[3].trim(),r),n.length>1){let s=n[1].match(bs);(s[1].trim()!=""||s[3].trim()!="")&&ye.throwArgumentError("unexpected tokens","value",e),r.outputs=ms(s[2],!1)}else r.outputs=[];return Br.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function _c(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&ye.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class pn extends Qr{format(e){if(e||(e=we.sighash),we[e]||ye.throwArgumentError("invalid format type","format",e),e===we.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==we.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===we.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?pn.fromString(e):pn.fromObject(e)}static fromObject(e){if(pn.isErrorFragment(e))return e;e.type!=="error"&&ye.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:ys(e.name),inputs:e.inputs?e.inputs.map(Nt.fromObject):[]};return _c(new pn(ei,r))}static fromString(e){let r={type:"error"},n=e.match(bs);return n||ye.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&ys(r.name),r.inputs=ms(n[2],!1),_c(pn.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function ui(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const ky=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ys(t){return(!t||!t.match(ky))&&ye.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const bs=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function _y(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&ye.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const lu=new T(Is);function Iy(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class nn{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){lu.throwArgumentError(e,this.localName,r)}}class yl{constructor(e){U(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Kt(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Ht(e._data))}writeBytes(e){let r=z(e);const n=r.length%this.wordSize;return n&&(r=Ht([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=z(R.from(e));return r.length>this.wordSize&&lu.throwError("value out-of-bounds",T.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Ht([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class xo{constructor(e,r,n,i){U(this,"_data",z(e)),U(this,"wordSize",r||32),U(this,"_coerceFunc",n),U(this,"allowLoose",i),this._offset=0}get data(){return L(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):xo.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:lu.throwError("data out-of-bounds",T.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new xo(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return R.from(this.readBytes(this.wordSize))}}var bl={},Ty={get exports(){return bl},set exports(t){bl=t}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Cd:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],v=[1,256,65536,16777216],E=[6,1536,393216,100663296],C=[0,8,16,24],_=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],D=[224,256,384,512],k=[128,256],P=["hex","buffer","arrayBuffer","array","digest"],$={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(g){return typeof g=="object"&&g.buffer&&g.buffer.constructor===ArrayBuffer});for(var q=function(g,N,O){return function(B){return new f(g,N,g).update(B)[O]()}},F=function(g,N,O){return function(B,G){return new f(g,N,G).update(B)[O]()}},V=function(g,N,O){return function(B,G,ee,K){return u["cshake"+g].update(B,G,ee,K)[O]()}},re=function(g,N,O){return function(B,G,ee,K){return u["kmac"+g].update(B,G,ee,K)[O]()}},ie=function(g,N,O,B){for(var G=0;G<P.length;++G){var ee=P[G];g[ee]=N(O,B,ee)}return g},fe=function(g,N){var O=q(g,N,"hex");return O.create=function(){return new f(g,N,g)},O.update=function(B){return O.create().update(B)},ie(O,q,g,N)},At=function(g,N){var O=F(g,N,"hex");return O.create=function(B){return new f(g,N,B)},O.update=function(B,G){return O.create(G).update(B)},ie(O,F,g,N)},Ae=function(g,N){var O=$[g],B=V(g,N,"hex");return B.create=function(G,ee,K){return!ee&&!K?u["shake"+g].create(G):new f(g,N,G).bytepad([ee,K],O)},B.update=function(G,ee,K,j){return B.create(ee,K,j).update(G)},ie(B,V,g,N)},Bt=function(g,N){var O=$[g],B=re(g,N,"hex");return B.create=function(G,ee,K){return new A(g,N,ee).bytepad(["KMAC",K],O).bytepad([G],O)},B.update=function(G,ee,K,j){return B.create(G,K,j).update(ee)},ie(B,re,g,N)},S=[{name:"keccak",padding:v,bits:D,createMethod:fe},{name:"sha3",padding:E,bits:D,createMethod:fe},{name:"shake",padding:h,bits:k,createMethod:At},{name:"cshake",padding:p,bits:k,createMethod:Ae},{name:"kmac",padding:p,bits:k,createMethod:Bt}],u={},d=[],m=0;m<S.length;++m)for(var b=S[m],x=b.bits,M=0;M<x.length;++M){var I=b.name+"_"+x[M];if(d.push(I),u[I]=b.createMethod(x[M],b.padding),b.name!=="sha3"){var w=b.name+x[M];d.push(w),u[w]=u[I]}}function f(g,N,O){this.blocks=[],this.s=[],this.padding=N,this.outputBits=O,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(g<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=O>>5,this.extraBytes=(O&31)>>3;for(var B=0;B<50;++B)this.s[B]=0}f.prototype.update=function(g){if(this.finalized)throw new Error(r);var N,O=typeof g;if(O!=="string"){if(O==="object"){if(g===null)throw new Error(e);if(l&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!l||!ArrayBuffer.isView(g)))throw new Error(e)}else throw new Error(e);N=!0}for(var B=this.blocks,G=this.byteCount,ee=g.length,K=this.blockCount,j=0,ct=this.s,Y,ae;j<ee;){if(this.reset)for(this.reset=!1,B[0]=this.block,Y=1;Y<K+1;++Y)B[Y]=0;if(N)for(Y=this.start;j<ee&&Y<G;++j)B[Y>>2]|=g[j]<<C[Y++&3];else for(Y=this.start;j<ee&&Y<G;++j)ae=g.charCodeAt(j),ae<128?B[Y>>2]|=ae<<C[Y++&3]:ae<2048?(B[Y>>2]|=(192|ae>>6)<<C[Y++&3],B[Y>>2]|=(128|ae&63)<<C[Y++&3]):ae<55296||ae>=57344?(B[Y>>2]|=(224|ae>>12)<<C[Y++&3],B[Y>>2]|=(128|ae>>6&63)<<C[Y++&3],B[Y>>2]|=(128|ae&63)<<C[Y++&3]):(ae=65536+((ae&1023)<<10|g.charCodeAt(++j)&1023),B[Y>>2]|=(240|ae>>18)<<C[Y++&3],B[Y>>2]|=(128|ae>>12&63)<<C[Y++&3],B[Y>>2]|=(128|ae>>6&63)<<C[Y++&3],B[Y>>2]|=(128|ae&63)<<C[Y++&3]);if(this.lastByteIndex=Y,Y>=G){for(this.start=Y-G,this.block=B[K],Y=0;Y<K;++Y)ct[Y]^=B[Y];te(ct),this.reset=!0}else this.start=Y}return this},f.prototype.encode=function(g,N){var O=g&255,B=1,G=[O];for(g=g>>8,O=g&255;O>0;)G.unshift(O),g=g>>8,O=g&255,++B;return N?G.push(B):G.unshift(B),this.update(G),G.length},f.prototype.encodeString=function(g){var N,O=typeof g;if(O!=="string"){if(O==="object"){if(g===null)throw new Error(e);if(l&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!l||!ArrayBuffer.isView(g)))throw new Error(e)}else throw new Error(e);N=!0}var B=0,G=g.length;if(N)B=G;else for(var ee=0;ee<g.length;++ee){var K=g.charCodeAt(ee);K<128?B+=1:K<2048?B+=2:K<55296||K>=57344?B+=3:(K=65536+((K&1023)<<10|g.charCodeAt(++ee)&1023),B+=4)}return B+=this.encode(B*8),this.update(g),B},f.prototype.bytepad=function(g,N){for(var O=this.encode(N),B=0;B<g.length;++B)O+=this.encodeString(g[B]);var G=N-O%N,ee=[];return ee.length=G,this.update(ee),this},f.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var g=this.blocks,N=this.lastByteIndex,O=this.blockCount,B=this.s;if(g[N>>2]|=this.padding[N&3],this.lastByteIndex===this.byteCount)for(g[0]=g[O],N=1;N<O+1;++N)g[N]=0;for(g[O-1]|=2147483648,N=0;N<O;++N)B[N]^=g[N];te(B)}},f.prototype.toString=f.prototype.hex=function(){this.finalize();for(var g=this.blockCount,N=this.s,O=this.outputBlocks,B=this.extraBytes,G=0,ee=0,K="",j;ee<O;){for(G=0;G<g&&ee<O;++G,++ee)j=N[G],K+=c[j>>4&15]+c[j&15]+c[j>>12&15]+c[j>>8&15]+c[j>>20&15]+c[j>>16&15]+c[j>>28&15]+c[j>>24&15];ee%g===0&&(te(N),G=0)}return B&&(j=N[G],K+=c[j>>4&15]+c[j&15],B>1&&(K+=c[j>>12&15]+c[j>>8&15]),B>2&&(K+=c[j>>20&15]+c[j>>16&15])),K},f.prototype.arrayBuffer=function(){this.finalize();var g=this.blockCount,N=this.s,O=this.outputBlocks,B=this.extraBytes,G=0,ee=0,K=this.outputBits>>3,j;B?j=new ArrayBuffer(O+1<<2):j=new ArrayBuffer(K);for(var ct=new Uint32Array(j);ee<O;){for(G=0;G<g&&ee<O;++G,++ee)ct[ee]=N[G];ee%g===0&&te(N)}return B&&(ct[G]=N[G],j=j.slice(0,K)),j},f.prototype.buffer=f.prototype.arrayBuffer,f.prototype.digest=f.prototype.array=function(){this.finalize();for(var g=this.blockCount,N=this.s,O=this.outputBlocks,B=this.extraBytes,G=0,ee=0,K=[],j,ct;ee<O;){for(G=0;G<g&&ee<O;++G,++ee)j=ee<<2,ct=N[G],K[j]=ct&255,K[j+1]=ct>>8&255,K[j+2]=ct>>16&255,K[j+3]=ct>>24&255;ee%g===0&&te(N)}return B&&(j=ee<<2,ct=N[G],K[j]=ct&255,B>1&&(K[j+1]=ct>>8&255),B>2&&(K[j+2]=ct>>16&255)),K};function A(g,N,O){f.call(this,g,N,O)}A.prototype=new f,A.prototype.finalize=function(){return this.encode(this.outputBits,!0),f.prototype.finalize.call(this)};var te=function(g){var N,O,B,G,ee,K,j,ct,Y,ae,En,ke,_e,Sn,Ie,Te,Cn,Ne,Re,Mn,Pe,Oe,kn,Be,De,_n,Le,$e,In,Fe,Ue,Tn,He,ze,Nn,Ge,We,Rn,Ve,qe,Pn,je,Ke,On,Je,Ye,Bn,Qe,Xe,Dn,Ze,et,Ln,tt,rt,$n,nt,it,an,ln,un,cn,fn;for(B=0;B<48;B+=2)G=g[0]^g[10]^g[20]^g[30]^g[40],ee=g[1]^g[11]^g[21]^g[31]^g[41],K=g[2]^g[12]^g[22]^g[32]^g[42],j=g[3]^g[13]^g[23]^g[33]^g[43],ct=g[4]^g[14]^g[24]^g[34]^g[44],Y=g[5]^g[15]^g[25]^g[35]^g[45],ae=g[6]^g[16]^g[26]^g[36]^g[46],En=g[7]^g[17]^g[27]^g[37]^g[47],ke=g[8]^g[18]^g[28]^g[38]^g[48],_e=g[9]^g[19]^g[29]^g[39]^g[49],N=ke^(K<<1|j>>>31),O=_e^(j<<1|K>>>31),g[0]^=N,g[1]^=O,g[10]^=N,g[11]^=O,g[20]^=N,g[21]^=O,g[30]^=N,g[31]^=O,g[40]^=N,g[41]^=O,N=G^(ct<<1|Y>>>31),O=ee^(Y<<1|ct>>>31),g[2]^=N,g[3]^=O,g[12]^=N,g[13]^=O,g[22]^=N,g[23]^=O,g[32]^=N,g[33]^=O,g[42]^=N,g[43]^=O,N=K^(ae<<1|En>>>31),O=j^(En<<1|ae>>>31),g[4]^=N,g[5]^=O,g[14]^=N,g[15]^=O,g[24]^=N,g[25]^=O,g[34]^=N,g[35]^=O,g[44]^=N,g[45]^=O,N=ct^(ke<<1|_e>>>31),O=Y^(_e<<1|ke>>>31),g[6]^=N,g[7]^=O,g[16]^=N,g[17]^=O,g[26]^=N,g[27]^=O,g[36]^=N,g[37]^=O,g[46]^=N,g[47]^=O,N=ae^(G<<1|ee>>>31),O=En^(ee<<1|G>>>31),g[8]^=N,g[9]^=O,g[18]^=N,g[19]^=O,g[28]^=N,g[29]^=O,g[38]^=N,g[39]^=O,g[48]^=N,g[49]^=O,Sn=g[0],Ie=g[1],Ye=g[11]<<4|g[10]>>>28,Bn=g[10]<<4|g[11]>>>28,$e=g[20]<<3|g[21]>>>29,In=g[21]<<3|g[20]>>>29,ln=g[31]<<9|g[30]>>>23,un=g[30]<<9|g[31]>>>23,je=g[40]<<18|g[41]>>>14,Ke=g[41]<<18|g[40]>>>14,ze=g[2]<<1|g[3]>>>31,Nn=g[3]<<1|g[2]>>>31,Te=g[13]<<12|g[12]>>>20,Cn=g[12]<<12|g[13]>>>20,Qe=g[22]<<10|g[23]>>>22,Xe=g[23]<<10|g[22]>>>22,Fe=g[33]<<13|g[32]>>>19,Ue=g[32]<<13|g[33]>>>19,cn=g[42]<<2|g[43]>>>30,fn=g[43]<<2|g[42]>>>30,tt=g[5]<<30|g[4]>>>2,rt=g[4]<<30|g[5]>>>2,Ge=g[14]<<6|g[15]>>>26,We=g[15]<<6|g[14]>>>26,Ne=g[25]<<11|g[24]>>>21,Re=g[24]<<11|g[25]>>>21,Dn=g[34]<<15|g[35]>>>17,Ze=g[35]<<15|g[34]>>>17,Tn=g[45]<<29|g[44]>>>3,He=g[44]<<29|g[45]>>>3,Be=g[6]<<28|g[7]>>>4,De=g[7]<<28|g[6]>>>4,$n=g[17]<<23|g[16]>>>9,nt=g[16]<<23|g[17]>>>9,Rn=g[26]<<25|g[27]>>>7,Ve=g[27]<<25|g[26]>>>7,Mn=g[36]<<21|g[37]>>>11,Pe=g[37]<<21|g[36]>>>11,et=g[47]<<24|g[46]>>>8,Ln=g[46]<<24|g[47]>>>8,On=g[8]<<27|g[9]>>>5,Je=g[9]<<27|g[8]>>>5,_n=g[18]<<20|g[19]>>>12,Le=g[19]<<20|g[18]>>>12,it=g[29]<<7|g[28]>>>25,an=g[28]<<7|g[29]>>>25,qe=g[38]<<8|g[39]>>>24,Pn=g[39]<<8|g[38]>>>24,Oe=g[48]<<14|g[49]>>>18,kn=g[49]<<14|g[48]>>>18,g[0]=Sn^~Te&Ne,g[1]=Ie^~Cn&Re,g[10]=Be^~_n&$e,g[11]=De^~Le&In,g[20]=ze^~Ge&Rn,g[21]=Nn^~We&Ve,g[30]=On^~Ye&Qe,g[31]=Je^~Bn&Xe,g[40]=tt^~$n&it,g[41]=rt^~nt&an,g[2]=Te^~Ne&Mn,g[3]=Cn^~Re&Pe,g[12]=_n^~$e&Fe,g[13]=Le^~In&Ue,g[22]=Ge^~Rn&qe,g[23]=We^~Ve&Pn,g[32]=Ye^~Qe&Dn,g[33]=Bn^~Xe&Ze,g[42]=$n^~it&ln,g[43]=nt^~an&un,g[4]=Ne^~Mn&Oe,g[5]=Re^~Pe&kn,g[14]=$e^~Fe&Tn,g[15]=In^~Ue&He,g[24]=Rn^~qe&je,g[25]=Ve^~Pn&Ke,g[34]=Qe^~Dn&et,g[35]=Xe^~Ze&Ln,g[44]=it^~ln&cn,g[45]=an^~un&fn,g[6]=Mn^~Oe&Sn,g[7]=Pe^~kn&Ie,g[16]=Fe^~Tn&Be,g[17]=Ue^~He&De,g[26]=qe^~je&ze,g[27]=Pn^~Ke&Nn,g[36]=Dn^~et&On,g[37]=Ze^~Ln&Je,g[46]=ln^~cn&tt,g[47]=un^~fn&rt,g[8]=Oe^~Sn&Te,g[9]=kn^~Ie&Cn,g[18]=Tn^~Be&_n,g[19]=He^~De&Le,g[28]=je^~ze&Ge,g[29]=Ke^~Nn&We,g[38]=et^~On&Ye,g[39]=Ln^~Je&Bn,g[48]=cn^~tt&$n,g[49]=fn^~rt&nt,g[0]^=_[B],g[1]^=_[B+1]};if(a)t.exports=u;else for(m=0;m<d.length;++m)i[d[m]]=u[d[m]]})()})(Ty);const Ny=bl;function ue(t){return"0x"+Ny.keccak_256(z(t))}const Ry="rlp/5.7.0",Rr=new T(Ry);function Ic(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Tc(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Nd(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(Nd(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Ic(n.length);return i.unshift(247+i.length),i.concat(n)}Qn(t)||Rr.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(z(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Ic(e.length);return r.unshift(183+r.length),r.concat(e)}function Jo(t){return L(Nd(t))}function Nc(t,e,r,n){const i=[];for(;r<e+1+n;){const s=Rd(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Rr.throwError("child data too short",T.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Rd(t,e){if(t.length===0&&Rr.throwError("data too short",T.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Rr.throwError("data short segment too short",T.errors.BUFFER_OVERRUN,{});const n=Tc(t,e+1,r);return e+1+r+n>t.length&&Rr.throwError("data long segment too short",T.errors.BUFFER_OVERRUN,{}),Nc(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Rr.throwError("data array too short",T.errors.BUFFER_OVERRUN,{}),Nc(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Rr.throwError("data array too short",T.errors.BUFFER_OVERRUN,{});const n=Tc(t,e+1,r);e+1+r+n>t.length&&Rr.throwError("data array too short",T.errors.BUFFER_OVERRUN,{});const i=L(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Rr.throwError("data too short",T.errors.BUFFER_OVERRUN,{});const n=L(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:L(t[e])}}function uu(t){const e=z(t),r=Rd(e,0);return r.consumed!==e.length&&Rr.throwArgumentError("invalid rlp data","data",t),r.result}const Py="address/5.7.0",hi=new T(Py);function Rc(t){xe(t,20)||hi.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=z(ue(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Oy=9007199254740991;function By(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const cu={};for(let t=0;t<10;t++)cu[String(t)]=String(t);for(let t=0;t<26;t++)cu[String.fromCharCode(65+t)]=String(10+t);const Pc=Math.floor(By(Oy));function Dy(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>cu[n]).join("");for(;e.length>=Pc;){let n=e.substring(0,Pc);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function st(t){let e=null;if(typeof t!="string"&&hi.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Rc(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&hi.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Dy(t)&&hi.throwArgumentError("bad icap checksum","address",t),e=by(t.substring(4));e.length<40;)e="0"+e;e=Rc("0x"+e)}else hi.throwArgumentError("invalid address","address",t);return e}function vl(t){try{return st(t),!0}catch{}return!1}function Pd(t){let e=null;try{e=st(t.from)}catch{hi.throwArgumentError("missing from address","transaction",t)}const r=_i(z(R.from(t.nonce).toHexString()));return st(Dt(ue(Jo([e,r])),12))}class Ly extends nn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=st(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return st(gt(e.readValue().toHexString(),20))}}class $y extends nn{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const gi=new T(Is);function Od(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let l={};n=e.map(c=>{const h=c.localName;return h||gi.throwError("cannot encode object for signature with missing names",T.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:r}),l[h]&&gi.throwError("cannot encode object for signature with duplicate names",T.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:r}),l[h]=!0,r[h]})}else gi.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&gi.throwArgumentError("types/value length mismatch","tuple",r);let i=new yl(t.wordSize),s=new yl(t.wordSize),o=[];e.forEach((l,c)=>{let h=n[c];if(l.dynamic){let p=s.length;l.encode(s,h);let v=i.writeUpdatableValue();o.push(E=>{v(E+p)})}else l.encode(i,h)}),o.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function Bd(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),l=n.subReader(a.toNumber());try{o=s.decode(l)}catch(c){if(c.code===T.errors.BUFFER_OVERRUN)throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===T.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const l=r[o];l instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw l}}):r[a]=l});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class Fy extends nn{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),gi.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return Od(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&gi.throwError("insufficient data length",T.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new $y(this.coder));return e.coerce(this.name,Bd(e,n))}}class Uy extends nn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Dd extends nn{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=z(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Hy extends Dd{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,L(super.decode(e)))}}class zy extends nn{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=z(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,L(e.readBytes(this.size)))}}class Gy extends nn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Ld="0x0000000000000000000000000000000000000000",Wy=R.from(-1),ht=R.from(0),Vy=R.from(1),$d=R.from(2),Fd=R.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),qy="0x0000000000000000000000000000000000000000000000000000000000000000";class jy extends nn{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=R.from(r),i=Fd.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(Vy).mul(Wy)))&&this._throwError("value out-of-bounds",r)}else(n.lt(ht)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const Ky="strings/5.7.0",Ud=new T(Ky);var vs;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(vs||(vs={}));var Xt;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Xt||(Xt={}));function Jy(t,e,r,n,i){return Ud.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Hd(t,e,r,n,i){if(t===Xt.BAD_PREFIX||t===Xt.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Xt.OVERRUN?r.length-e-1:0}function Yy(t,e,r,n,i){return t===Xt.OVERLONG?(n.push(i),0):(n.push(65533),Hd(t,e,r))}const Qy=Object.freeze({error:Jy,ignore:Hd,replace:Yy});function zd(t,e){e==null&&(e=Qy.error),t=z(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Xt.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Xt.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Xt.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let c=t[n];if((c&192)!=128){n+=e(Xt.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|c&63,n++}if(a!==null){if(a>1114111){n+=e(Xt.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Xt.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Xt.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function zt(t,e=vs.current){e!=vs.current&&(Ud.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return z(r)}function Xy(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ts(t,e){return Xy(zd(t,e))}function Zy(t,e=vs.current){return zd(zt(t,e))}class eb extends Dd{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,zt(r))}decode(e){return Ts(super.decode(e))}}class Hs extends nn{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return Od(e,this.coders,r)}decode(e){return e.coerce(this.name,Bd(e,this.coders))}}const zs=new T(Is),tb=new RegExp(/^bytes([0-9]*)$/),rb=new RegExp(/^(u?int)([0-9]*)$/);class nb{constructor(e){U(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Ly(e.name);case"bool":return new Uy(e.name);case"string":return new eb(e.name);case"bytes":return new Hy(e.name);case"array":return new Fy(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Hs((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Gy(e.name)}let r=e.type.match(rb);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&zs.throwArgumentError("invalid "+r[1]+" bit length","param",e),new jy(n/8,r[1]==="int",e.name)}if(r=e.type.match(tb),r){let n=parseInt(r[1]);return(n===0||n>32)&&zs.throwArgumentError("invalid bytes length","param",e),new zy(n,e.name)}return zs.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new xo(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new yl(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Nt.from(i)));return new Hs(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&zs.throwError("types/values length mismatch",T.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Nt.from(o))),i=new Hs(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Nt.from(o)));return new Hs(i,"_").decode(this._getReader(z(r),n))}}const _r=new nb;function zn(t){return ue(zt(t))}const Gd="hash/5.7.0";function Wd(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return z(e)}function Vd(t){t=z(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function qd(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function ib(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function sb(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let F=1;F<n;F++)s.push(i+=r());let o=r(),a=e;e+=o;let l=0,c=0;function h(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const p=31,v=Math.pow(2,p),E=v>>>1,C=E>>1,_=v-1;let D=0;for(let F=0;F<p;F++)D=D<<1|h();let k=[],P=0,$=v;for(;;){let F=Math.floor(((D-P+1)*i-1)/$),V=0,re=n;for(;re-V>1;){let At=V+re>>>1;F<s[At]?re=At:V=At}if(V==0)break;k.push(V);let ie=P+Math.floor($*s[V]/i),fe=P+Math.floor($*s[V+1]/i)-1;for(;!((ie^fe)&E);)D=D<<1&_|h(),ie=ie<<1&_,fe=fe<<1&_|1;for(;ie&~fe&C;)D=D&E|D<<1&_>>>1|h(),ie=ie<<1^E,fe=(fe^E)<<1|E|1;P=ie,$=1+fe-ie}let q=n-4;return k.map(F=>{switch(F-q){case 3:return q+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return q+256+(t[a++]<<8|t[a++]);case 1:return q+t[a++];default:return F-1}})}function ob(t){let e=0;return()=>t[e++]}function ab(t){return ob(sb(t))}function lb(t){return t&1?~t>>1:t>>1}function ub(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function Oc(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function cb(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=lb(e());return r}function Ao(t,e){let r=Oc(t(),t),n=t(),i=Oc(n,t),s=ub(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function fb(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(hb(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(gb(r,t))}return ib(qd(e))}function db(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function jd(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)cb(t,r).forEach((s,o)=>n[o].push(s));return n}function hb(t,e){let r=1+e(),n=e(),i=db(e),s=jd(i.length,1+t,e);return qd(s.map((o,a)=>{const l=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((h,p)=>{let v=p*n;return[l+p*r,c.map(E=>E+v)]})}))}function gb(t,e){let r=1+e();return jd(r,1+t,e).map(i=>[i[0],i.slice(1)])}function pb(t){let e=Ao(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let c=Ao(t,e);if(c.length==0)break;n.push({set:new Set(c),node:r()})}n.sort((c,h)=>h.set.size-c.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:l}}}function mb(){return ab(Wd("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Yo=mb(),yb=new Set(Ao(Yo)),bb=new Set(Ao(Yo)),vb=fb(Yo),wb=pb(Yo),Bc=45,Dc=95;function Kd(t){return Zy(t)}function xb(t){return t.filter(e=>e!=65039)}function Jd(t){for(let e of t.split(".")){let r=Kd(e);try{for(let n=r.lastIndexOf(Dc)-1;n>=0;n--)if(r[n]!==Dc)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Bc&&r[3]===Bc)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function Ab(t){return Jd(Eb(t,xb))}function Eb(t,e){let r=Kd(t).reverse(),n=[];for(;r.length;){let i=Cb(r);if(i){n.push(...e(i));continue}let s=r.pop();if(yb.has(s)){n.push(s);continue}if(bb.has(s))continue;let o=vb[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return Jd(Sb(String.fromCodePoint(...n)))}function Sb(t){return t.normalize("NFC")}function Cb(t,e){var r;let n=wb,i,s,o=[],a=t.length;for(e&&(e.length=0);a;){let l=t[--a];if(n=(r=n.branches.find(c=>c.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;o.push(l),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const Mb=new T(Gd),Yd=new Uint8Array(32);Yd.fill(0);function Lc(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Qd(t){const e=zt(Ab(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Lc(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Lc(e.slice(n))),r}function Zs(t){typeof t!="string"&&Mb.throwArgumentError("invalid ENS name; not a string","name",t);let e=Yd;const r=Qd(t);for(;r.length;)e=ue(Ht([e,ue(r.pop())]));return L(e)}function kb(t){return L(Ht(Qd(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const _b=`Ethereum Signed Message:
`;function Ib(t){return typeof t=="string"&&(t=zt(t)),ue(Ht([zt(_b),zt(String(t.length)),t]))}var Tb=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const dt=new T(Gd),Xd=new Uint8Array(32);Xd.fill(0);const Nb=R.from(-1),Zd=R.from(0),eh=R.from(1),Rb=R.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Pb(t){const e=z(t),r=e.length%32;return r?Kt([e,Xd.slice(r)]):L(e)}const Ob=gt(eh.toHexString(),32),Bb=gt(Zd.toHexString(),32),$c={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Oa=["name","version","chainId","verifyingContract","salt"];function Fc(t){return function(e){return typeof e!="string"&&dt.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Db={name:Fc("name"),version:Fc("version"),chainId:function(t){try{return R.from(t).toString()}catch{}return dt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return st(t).toLowerCase()}catch{}return dt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=z(t);if(e.length!==32)throw new Error("bad length");return L(e)}catch{}return dt.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Ba(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&dt.throwArgumentError("invalid numeric width","type",t);const i=Rb.mask(r?n-1:n),s=r?i.add(eh).mul(Nb):Zd;return function(o){const a=R.from(o);return(a.lt(s)||a.gt(i))&&dt.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),gt(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&dt.throwArgumentError("invalid bytes width","type",t),function(n){return z(n).length!==r&&dt.throwArgumentError(`invalid length for ${t}`,"value",n),Pb(n)}}}switch(t){case"address":return function(e){return gt(st(e),32)};case"bool":return function(e){return e?Ob:Bb};case"bytes":return function(e){return ue(e)};case"string":return function(e){return zn(e)}}return null}function Uc(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class jt{constructor(e){U(this,"types",Object.freeze(Zn(e))),U(this,"_encoderCache",{}),U(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&dt.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const h=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];h===a&&dt.throwArgumentError(`circular type reference to ${JSON.stringify(h)}`,"types",e),!Ba(h)&&(n[h]||dt.throwArgumentError(`unknown type ${JSON.stringify(h)}`,"types",e),n[h].push(a),r[a][h]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?dt.throwArgumentError("missing primary type","types",e):s.length>1&&dt.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),U(this,"primaryType",s[0]);function o(a,l){l[a]&&dt.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(r[a]).forEach(c=>{n[c]&&(o(c,l),Object.keys(l).forEach(h=>{i[h][c]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=Uc(a,e[a])+l.map(c=>Uc(c,e[c])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Ba(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&dt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(ue)),ue(Kt(l))}}const n=this.types[e];if(n){const i=zn(this._types[e]);return s=>{const o=n.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return this._types[l]?ue(c):c});return o.unshift(i),Kt(o)}}return dt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||dt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return ue(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Ba(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&dt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(o,l,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,r[a],n),o),{}):dt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new jt(e)}static getPrimaryType(e){return jt.from(e).primaryType}static hashStruct(e,r,n){return jt.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=$c[n];i||dt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Oa.indexOf(n.name)-Oa.indexOf(i.name)),jt.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Kt(["0x1901",jt.hashDomain(e),jt.from(r).hash(n)])}static hash(e,r,n){return ue(jt.encode(e,r,n))}static resolveNames(e,r,n,i){return Tb(this,void 0,void 0,function*(){e=Tt(e);const s={};e.verifyingContract&&!xe(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=jt.from(r);o.visit(n,(a,l)=>(a==="address"&&!xe(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){jt.hashDomain(e);const i={},s=[];Oa.forEach(l=>{const c=e[l];c!=null&&(i[l]=Db[l](c),s.push({name:l,type:$c[l]}))});const o=jt.from(r),a=Tt(r);return a.EIP712Domain?dt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(l,c)=>{if(l.match(/^bytes(\d*)/))return L(z(c));if(l.match(/^u?int/))return R.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&dt.throwArgumentError("invalid string","value",c),c}return dt.throwArgumentError("unsupported type","type",l)})}}}const ft=new T(Is);class Lb extends _s{}class $b extends _s{}class Fb extends _s{}class wl extends _s{static isIndexed(e){return!!(e&&e._isIndexed)}}const Ub={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Hc(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Ir{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,U(this,"fragments",r.map(n=>Qr.from(n)).filter(n=>n!=null)),U(this,"_abiCoder",Dr(new.target,"getAbiCoder")()),U(this,"functions",{}),U(this,"errors",{}),U(this,"events",{}),U(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){ft.warn("duplicate definition - constructor");return}U(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){ft.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||U(this,"deploy",Or.from({payable:!1,type:"constructor"})),U(this,"_isInterface",!0)}format(e){e||(e=we.full),e===we.sighash&&ft.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===we.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return _r}static getAddress(e){return st(e)}static getSighash(e){return Dt(zn(e.format()),0,4)}static getEventTopic(e){return zn(e.format())}getFunction(e){if(xe(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];ft.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?ft.throwArgumentError("no matching function","name",n):i.length>1&&ft.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Br.fromString(e).format()];return r||ft.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(xe(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];ft.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?ft.throwArgumentError("no matching event","name",n):i.length>1&&ft.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Jr.fromString(e).format()];return r||ft.throwArgumentError("no matching event","signature",e),r}getError(e){if(xe(e)){const n=Dr(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}ft.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?ft.throwArgumentError("no matching error","name",n):i.length>1&&ft.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Br.fromString(e).format()];return r||ft.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Dr(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Dr(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=z(r);return L(n.slice(0,4))!==this.getSighash(e)&&ft.throwArgumentError(`data signature does not match error ${e.name}.`,"data",L(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),L(Ht([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=z(r);return L(n.slice(0,4))!==this.getSighash(e)&&ft.throwArgumentError(`data signature does not match function ${e.name}.`,"data",L(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),L(Ht([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=z(r),i=null,s="",o=null,a=null,l=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const c=L(n.slice(0,4)),h=Ub[c];if(h)o=this._abiCoder.decode(h.inputs,n.slice(4)),a=h.name,l=h.signature,h.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const p=this.getError(c);o=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,l=p.format()}catch{}break}}return ft.throwError("call revert exception"+s,T.errors.CALL_EXCEPTION,{method:e.format(),data:L(r),errorArgs:o,errorName:a,errorSignature:l,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),L(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&ft.throwError("too many arguments for "+e.format(),T.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?zn(o):s.type==="bytes"?ue(L(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=R.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),gt(L(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&ft.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?ft.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(l=>i(a,l))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&ft.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const l=r[a];if(o.indexed)if(o.type==="string")n.push(zn(l));else if(o.type==="bytes")n.push(ue(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let v=this.getEventTopic(e);(!xe(n[0],32)||n[0].toLowerCase()!==v)&&ft.throwError("fragment/topic mismatch",T.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:v,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((v,E)=>{v.indexed?v.type==="string"||v.type==="bytes"||v.baseType==="tuple"||v.baseType==="array"?(i.push(Nt.fromObject({type:"bytes32",name:v.name})),o.push(!0)):(i.push(v),o.push(!1)):(s.push(v),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Ht(n)):null,l=this._abiCoder.decode(s,r,!0),c=[],h=0,p=0;e.inputs.forEach((v,E)=>{if(v.indexed)if(a==null)c[E]=new wl({_isIndexed:!0,hash:null});else if(o[E])c[E]=new wl({_isIndexed:!0,hash:a[p++]});else try{c[E]=a[p++]}catch(C){c[E]=C}else try{c[E]=l[h++]}catch(C){c[E]=C}if(v.name&&c[v.name]==null){const C=c[E];C instanceof Error?Object.defineProperty(c,v.name,{enumerable:!0,get:()=>{throw Hc(`property ${JSON.stringify(v.name)}`,C)}}):c[v.name]=C}});for(let v=0;v<c.length;v++){const E=c[v];E instanceof Error&&Object.defineProperty(c,v,{enumerable:!0,get:()=>{throw Hc(`index ${v}`,E)}})}return Object.freeze(c)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new $b({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:R.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Lb({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=L(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Fb({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Hb="abstract-provider/5.7.0";var zb=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Gb=new T(Hb);class Wb extends _s{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Ns{constructor(){Gb.checkAbstract(new.target,Ns),U(this,"_isProvider",!0)}getFeeData(){return zb(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield mt({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=R.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const Vb="abstract-signer/5.7.0";var yr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const or=new T(Vb),qb=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],jb=[T.errors.INSUFFICIENT_FUNDS,T.errors.NONCE_EXPIRED,T.errors.REPLACEMENT_UNDERPRICED];let Qo=class th{constructor(){or.checkAbstract(new.target,th),U(this,"_isSigner",!0)}getBalance(e){return yr(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return yr(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return yr(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield mt(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return yr(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield mt(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return yr(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return yr(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return yr(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return yr(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return yr(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)qb.indexOf(n)===-1&&or.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Tt(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&or.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return yr(this,void 0,void 0,function*(){const r=yield mt(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>yr(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&or.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?or.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&or.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&or.throwError("network does not support EIP-1559",T.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):or.throwError("failed to get consistent fee data",T.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(jb.indexOf(i.code)>=0)throw i;return or.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",T.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&or.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield mt(r)})}_checkProvider(e){this.provider||or.throwError("missing provider",T.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}};class fu extends Qo{constructor(e,r){super(),U(this,"address",e),U(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{or.throwError(e,T.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new fu(this.address,e)}}var Cr={},me={},Rs=rh;function rh(t,e){if(!t)throw new Error(e||"Assertion failed")}rh.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var xl={},zc={get exports(){return xl},set exports(t){xl=t}};typeof Object.create=="function"?zc.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:zc.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Kb=Rs,Jb=xl;me.inherits=Jb;function Yb(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Qb(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):Yb(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}me.toArray=Qb;function Xb(t){for(var e="",r=0;r<t.length;r++)e+=ih(t[r].toString(16));return e}me.toHex=Xb;function nh(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}me.htonl=nh;function Zb(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=nh(i)),r+=sh(i.toString(16))}return r}me.toHex32=Zb;function ih(t){return t.length===1?"0"+t:t}me.zero2=ih;function sh(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}me.zero8=sh;function ev(t,e,r,n){var i=r-e;Kb(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;n==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s}me.join32=ev;function tv(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}me.split32=tv;function rv(t,e){return t>>>e|t<<32-e}me.rotr32=rv;function nv(t,e){return t<<e|t>>>32-e}me.rotl32=nv;function iv(t,e){return t+e>>>0}me.sum32=iv;function sv(t,e,r){return t+e+r>>>0}me.sum32_3=sv;function ov(t,e,r,n){return t+e+r+n>>>0}me.sum32_4=ov;function av(t,e,r,n,i){return t+e+r+n+i>>>0}me.sum32_5=av;function lv(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}me.sum64=lv;function uv(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}me.sum64_hi=uv;function cv(t,e,r,n){var i=e+n;return i>>>0}me.sum64_lo=cv;function fv(t,e,r,n,i,s,o,a){var l=0,c=e;c=c+n>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+a>>>0,l+=c<a?1:0;var h=t+r+i+o+l;return h>>>0}me.sum64_4_hi=fv;function dv(t,e,r,n,i,s,o,a){var l=e+n+s+a;return l>>>0}me.sum64_4_lo=dv;function hv(t,e,r,n,i,s,o,a,l,c){var h=0,p=e;p=p+n>>>0,h+=p<e?1:0,p=p+s>>>0,h+=p<s?1:0,p=p+a>>>0,h+=p<a?1:0,p=p+c>>>0,h+=p<c?1:0;var v=t+r+i+o+l+h;return v>>>0}me.sum64_5_hi=hv;function gv(t,e,r,n,i,s,o,a,l,c){var h=e+n+s+a+c;return h>>>0}me.sum64_5_lo=gv;function pv(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}me.rotr64_hi=pv;function mv(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}me.rotr64_lo=mv;function yv(t,e,r){return t>>>r}me.shr64_hi=yv;function bv(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}me.shr64_lo=bv;var Di={},Gc=me,vv=Rs;function Xo(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Di.BlockHash=Xo;Xo.prototype.update=function(e,r){if(e=Gc.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Gc.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Xo.prototype.digest=function(e){return this.update(this._pad()),vv(this.pending===null),this._digest(e)};Xo.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Li={},Vr={},wv=me,Lr=wv.rotr32;function xv(t,e,r,n){if(t===0)return oh(e,r,n);if(t===1||t===3)return lh(e,r,n);if(t===2)return ah(e,r,n)}Vr.ft_1=xv;function oh(t,e,r){return t&e^~t&r}Vr.ch32=oh;function ah(t,e,r){return t&e^t&r^e&r}Vr.maj32=ah;function lh(t,e,r){return t^e^r}Vr.p32=lh;function Av(t){return Lr(t,2)^Lr(t,13)^Lr(t,22)}Vr.s0_256=Av;function Ev(t){return Lr(t,6)^Lr(t,11)^Lr(t,25)}Vr.s1_256=Ev;function Sv(t){return Lr(t,7)^Lr(t,18)^t>>>3}Vr.g0_256=Sv;function Cv(t){return Lr(t,17)^Lr(t,19)^t>>>10}Vr.g1_256=Cv;var Ii=me,Mv=Di,kv=Vr,Da=Ii.rotl32,zi=Ii.sum32,_v=Ii.sum32_5,Iv=kv.ft_1,uh=Mv.BlockHash,Tv=[1518500249,1859775393,2400959708,3395469782];function Ur(){if(!(this instanceof Ur))return new Ur;uh.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ii.inherits(Ur,uh);var Nv=Ur;Ur.blockSize=512;Ur.outSize=160;Ur.hmacStrength=80;Ur.padLength=64;Ur.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Da(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var h=~~(i/20),p=_v(Da(s,5),Iv(h,o,a,l),c,n[i],Tv[h]);c=l,l=a,a=Da(o,30),o=s,s=p}this.h[0]=zi(this.h[0],s),this.h[1]=zi(this.h[1],o),this.h[2]=zi(this.h[2],a),this.h[3]=zi(this.h[3],l),this.h[4]=zi(this.h[4],c)};Ur.prototype._digest=function(e){return e==="hex"?Ii.toHex32(this.h,"big"):Ii.split32(this.h,"big")};var Ti=me,Rv=Di,$i=Vr,Pv=Rs,br=Ti.sum32,Ov=Ti.sum32_4,Bv=Ti.sum32_5,Dv=$i.ch32,Lv=$i.maj32,$v=$i.s0_256,Fv=$i.s1_256,Uv=$i.g0_256,Hv=$i.g1_256,ch=Rv.BlockHash,zv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Hr(){if(!(this instanceof Hr))return new Hr;ch.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=zv,this.W=new Array(64)}Ti.inherits(Hr,ch);var fh=Hr;Hr.blockSize=512;Hr.outSize=256;Hr.hmacStrength=192;Hr.padLength=64;Hr.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Ov(Hv(n[i-2]),n[i-7],Uv(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],h=this.h[5],p=this.h[6],v=this.h[7];for(Pv(this.k.length===n.length),i=0;i<n.length;i++){var E=Bv(v,Fv(c),Dv(c,h,p),this.k[i],n[i]),C=br($v(s),Lv(s,o,a));v=p,p=h,h=c,c=br(l,E),l=a,a=o,o=s,s=br(E,C)}this.h[0]=br(this.h[0],s),this.h[1]=br(this.h[1],o),this.h[2]=br(this.h[2],a),this.h[3]=br(this.h[3],l),this.h[4]=br(this.h[4],c),this.h[5]=br(this.h[5],h),this.h[6]=br(this.h[6],p),this.h[7]=br(this.h[7],v)};Hr.prototype._digest=function(e){return e==="hex"?Ti.toHex32(this.h,"big"):Ti.split32(this.h,"big")};var Al=me,dh=fh;function en(){if(!(this instanceof en))return new en;dh.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Al.inherits(en,dh);var Gv=en;en.blockSize=512;en.outSize=224;en.hmacStrength=192;en.padLength=64;en.prototype._digest=function(e){return e==="hex"?Al.toHex32(this.h.slice(0,7),"big"):Al.split32(this.h.slice(0,7),"big")};var Jt=me,Wv=Di,Vv=Rs,$r=Jt.rotr64_hi,Fr=Jt.rotr64_lo,hh=Jt.shr64_hi,gh=Jt.shr64_lo,hn=Jt.sum64,La=Jt.sum64_hi,$a=Jt.sum64_lo,qv=Jt.sum64_4_hi,jv=Jt.sum64_4_lo,Kv=Jt.sum64_5_hi,Jv=Jt.sum64_5_lo,ph=Wv.BlockHash,Yv=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Tr(){if(!(this instanceof Tr))return new Tr;ph.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Yv,this.W=new Array(160)}Jt.inherits(Tr,ph);var mh=Tr;Tr.blockSize=1024;Tr.outSize=512;Tr.hmacStrength=192;Tr.padLength=128;Tr.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=aw(n[i-4],n[i-3]),o=lw(n[i-4],n[i-3]),a=n[i-14],l=n[i-13],c=sw(n[i-30],n[i-29]),h=ow(n[i-30],n[i-29]),p=n[i-32],v=n[i-31];n[i]=qv(s,o,a,l,c,h,p,v),n[i+1]=jv(s,o,a,l,c,h,p,v)}};Tr.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],v=this.h[8],E=this.h[9],C=this.h[10],_=this.h[11],D=this.h[12],k=this.h[13],P=this.h[14],$=this.h[15];Vv(this.k.length===n.length);for(var q=0;q<n.length;q+=2){var F=P,V=$,re=nw(v,E),ie=iw(v,E),fe=Qv(v,E,C,_,D),At=Xv(v,E,C,_,D,k),Ae=this.k[q],Bt=this.k[q+1],S=n[q],u=n[q+1],d=Kv(F,V,re,ie,fe,At,Ae,Bt,S,u),m=Jv(F,V,re,ie,fe,At,Ae,Bt,S,u);F=tw(i,s),V=rw(i,s),re=Zv(i,s,o,a,l),ie=ew(i,s,o,a,l,c);var b=La(F,V,re,ie),x=$a(F,V,re,ie);P=D,$=k,D=C,k=_,C=v,_=E,v=La(h,p,d,m),E=$a(p,p,d,m),h=l,p=c,l=o,c=a,o=i,a=s,i=La(d,m,b,x),s=$a(d,m,b,x)}hn(this.h,0,i,s),hn(this.h,2,o,a),hn(this.h,4,l,c),hn(this.h,6,h,p),hn(this.h,8,v,E),hn(this.h,10,C,_),hn(this.h,12,D,k),hn(this.h,14,P,$)};Tr.prototype._digest=function(e){return e==="hex"?Jt.toHex32(this.h,"big"):Jt.split32(this.h,"big")};function Qv(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function Xv(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function Zv(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function ew(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function tw(t,e){var r=$r(t,e,28),n=$r(e,t,2),i=$r(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function rw(t,e){var r=Fr(t,e,28),n=Fr(e,t,2),i=Fr(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function nw(t,e){var r=$r(t,e,14),n=$r(t,e,18),i=$r(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function iw(t,e){var r=Fr(t,e,14),n=Fr(t,e,18),i=Fr(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function sw(t,e){var r=$r(t,e,1),n=$r(t,e,8),i=hh(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function ow(t,e){var r=Fr(t,e,1),n=Fr(t,e,8),i=gh(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function aw(t,e){var r=$r(t,e,19),n=$r(e,t,29),i=hh(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function lw(t,e){var r=Fr(t,e,19),n=Fr(e,t,29),i=gh(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var El=me,yh=mh;function tn(){if(!(this instanceof tn))return new tn;yh.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}El.inherits(tn,yh);var uw=tn;tn.blockSize=1024;tn.outSize=384;tn.hmacStrength=192;tn.padLength=128;tn.prototype._digest=function(e){return e==="hex"?El.toHex32(this.h.slice(0,12),"big"):El.split32(this.h.slice(0,12),"big")};Li.sha1=Nv;Li.sha224=Gv;Li.sha256=fh;Li.sha384=uw;Li.sha512=mh;var bh={},ti=me,cw=Di,Gs=ti.rotl32,Wc=ti.sum32,Gi=ti.sum32_3,Vc=ti.sum32_4,vh=cw.BlockHash;function zr(){if(!(this instanceof zr))return new zr;vh.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ti.inherits(zr,vh);bh.ripemd160=zr;zr.blockSize=512;zr.outSize=160;zr.hmacStrength=192;zr.padLength=64;zr.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=n,c=i,h=s,p=o,v=a,E=0;E<80;E++){var C=Wc(Gs(Vc(n,qc(E,i,s,o),e[hw[E]+r],fw(E)),pw[E]),a);n=a,a=o,o=Gs(s,10),s=i,i=C,C=Wc(Gs(Vc(l,qc(79-E,c,h,p),e[gw[E]+r],dw(E)),mw[E]),v),l=v,v=p,p=Gs(h,10),h=c,c=C}C=Gi(this.h[1],s,p),this.h[1]=Gi(this.h[2],o,v),this.h[2]=Gi(this.h[3],a,l),this.h[3]=Gi(this.h[4],n,c),this.h[4]=Gi(this.h[0],i,h),this.h[0]=C};zr.prototype._digest=function(e){return e==="hex"?ti.toHex32(this.h,"little"):ti.split32(this.h,"little")};function qc(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function fw(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function dw(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var hw=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],gw=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],pw=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],mw=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],yw=me,bw=Rs;function Ni(t,e,r){if(!(this instanceof Ni))return new Ni(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(yw.toArray(e,r))}var vw=Ni;Ni.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),bw(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Ni.prototype.update=function(e,r){return this.inner.update(e,r),this};Ni.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=me,e.common=Di,e.sha=Li,e.ripemd=bh,e.hmac=vw,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Cr);function Fi(t,e,r){return r={path:e,exports:{},require:function(n,i){return ww(n,i??r.path)}},t(r,r.exports),r.exports}function ww(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var du=wh;function wh(t,e){if(!t)throw new Error(e||"Assertion failed")}wh.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var kr=Fi(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=o[c]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var h=o.charCodeAt(c),p=h>>8,v=h&255;p?l.push(p,v):l.push(v)}return l}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}r.toHex=s,r.encode=function(a,l){return l==="hex"?s(a):a}}),rr=Fi(function(t,e){var r=e;r.assert=du,r.toArray=kr.toArray,r.zero2=kr.zero2,r.toHex=kr.toHex,r.encode=kr.encode;function n(l,c,h){var p=new Array(Math.max(l.bitLength(),h)+1);p.fill(0);for(var v=1<<c+1,E=l.clone(),C=0;C<p.length;C++){var _,D=E.andln(v-1);E.isOdd()?(D>(v>>1)-1?_=(v>>1)-D:_=D,E.isubn(_)):_=0,p[C]=_,E.iushrn(1)}return p}r.getNAF=n;function i(l,c){var h=[[],[]];l=l.clone(),c=c.clone();for(var p=0,v=0,E;l.cmpn(-p)>0||c.cmpn(-v)>0;){var C=l.andln(3)+p&3,_=c.andln(3)+v&3;C===3&&(C=-1),_===3&&(_=-1);var D;C&1?(E=l.andln(7)+p&7,(E===3||E===5)&&_===2?D=-C:D=C):D=0,h[0].push(D);var k;_&1?(E=c.andln(7)+v&7,(E===3||E===5)&&C===2?k=-_:k=_):k=0,h[1].push(k),2*p===D+1&&(p=1-p),2*v===k+1&&(v=1-v),l.iushrn(1),c.iushrn(1)}return h}r.getJSF=i;function s(l,c,h){var p="_"+c;l.prototype[c]=function(){return this[p]!==void 0?this[p]:this[p]=h.call(this)}}r.cachedProperty=s;function o(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=o;function a(l){return new le(l,"hex","le")}r.intFromLE=a}),Eo=rr.getNAF,xw=rr.getJSF,So=rr.assert;function xn(t,e){this.type=t,this.p=new le(e.p,16),this.red=e.prime?le.red(e.prime):le.mont(this.p),this.zero=new le(0).toRed(this.red),this.one=new le(1).toRed(this.red),this.two=new le(2).toRed(this.red),this.n=e.n&&new le(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ii=xn;xn.prototype.point=function(){throw new Error("Not implemented")};xn.prototype.validate=function(){throw new Error("Not implemented")};xn.prototype._fixedNafMul=function(e,r){So(e.precomputed);var n=e._getDoubles(),i=Eo(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=n.step){l=0;for(var c=a+n.step-1;c>=a;c--)l=(l<<1)+i[c];o.push(l)}for(var h=this.jpoint(null,null,null),p=this.jpoint(null,null,null),v=s;v>0;v--){for(a=0;a<o.length;a++)l=o[a],l===v?p=p.mixedAdd(n.points[a]):l===-v&&(p=p.mixedAdd(n.points[a].neg()));h=h.add(p)}return h.toP()};xn.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Eo(r,n,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var h=o[l];So(h!==0),e.type==="affine"?h>0?a=a.mixedAdd(s[h-1>>1]):a=a.mixedAdd(s[-h-1>>1].neg()):h>0?a=a.add(s[h-1>>1]):a=a.add(s[-h-1>>1].neg())}return e.type==="affine"?a.toP():a};xn.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,h,p,v;for(h=0;h<i;h++){v=r[h];var E=v._getNAFPoints(e);o[h]=E.wnd,a[h]=E.points}for(h=i-1;h>=1;h-=2){var C=h-1,_=h;if(o[C]!==1||o[_]!==1){l[C]=Eo(n[C],o[C],this._bitLength),l[_]=Eo(n[_],o[_],this._bitLength),c=Math.max(l[C].length,c),c=Math.max(l[_].length,c);continue}var D=[r[C],null,null,r[_]];r[C].y.cmp(r[_].y)===0?(D[1]=r[C].add(r[_]),D[2]=r[C].toJ().mixedAdd(r[_].neg())):r[C].y.cmp(r[_].y.redNeg())===0?(D[1]=r[C].toJ().mixedAdd(r[_]),D[2]=r[C].add(r[_].neg())):(D[1]=r[C].toJ().mixedAdd(r[_]),D[2]=r[C].toJ().mixedAdd(r[_].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],P=xw(n[C],n[_]);for(c=Math.max(P[0].length,c),l[C]=new Array(c),l[_]=new Array(c),p=0;p<c;p++){var $=P[0][p]|0,q=P[1][p]|0;l[C][p]=k[($+1)*3+(q+1)],l[_][p]=0,a[C]=D}}var F=this.jpoint(null,null,null),V=this._wnafT4;for(h=c;h>=0;h--){for(var re=0;h>=0;){var ie=!0;for(p=0;p<i;p++)V[p]=l[p][h]|0,V[p]!==0&&(ie=!1);if(!ie)break;re++,h--}if(h>=0&&re++,F=F.dblp(re),h<0)break;for(p=0;p<i;p++){var fe=V[p];fe!==0&&(fe>0?v=a[p][fe-1>>1]:fe<0&&(v=a[p][-fe-1>>1].neg()),v.type==="affine"?F=F.mixedAdd(v):F=F.add(v))}}for(h=0;h<i;h++)a[h]=null;return s?F:F.toP()};function pr(t,e){this.curve=t,this.type=e,this.precomputed=null}xn.BasePoint=pr;pr.prototype.eq=function(){throw new Error("Not implemented")};pr.prototype.validate=function(){return this.curve.validate(this)};xn.prototype.decodePoint=function(e,r){e=rr.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?So(e[e.length-1]%2===0):e[0]===7&&So(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};pr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};pr.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};pr.prototype.encode=function(e,r){return rr.encode(this._encode(r),e)};pr.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};pr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};pr.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};pr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};pr.prototype._getBeta=function(){return null};pr.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var hu=Fi(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),Aw=rr.assert;function mr(t){ii.call(this,"short",t),this.a=new le(t.a,16).toRed(this.red),this.b=new le(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}hu(mr,ii);var Ew=mr;mr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new le(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new le(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Aw(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new le(a.a,16),b:new le(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};mr.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:le.mont(e),n=new le(2).toRed(r).redInvm(),i=n.redNeg(),s=new le(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};mr.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new le(1),o=new le(0),a=new le(0),l=new le(1),c,h,p,v,E,C,_,D=0,k,P;n.cmpn(0)!==0;){var $=i.div(n);k=i.sub($.mul(n)),P=a.sub($.mul(s));var q=l.sub($.mul(o));if(!p&&k.cmp(r)<0)c=_.neg(),h=s,p=k.neg(),v=P;else if(p&&++D===2)break;_=k,i=n,n=k,a=s,s=P,l=o,o=q}E=k.neg(),C=P;var F=p.sqr().add(v.sqr()),V=E.sqr().add(C.sqr());return V.cmp(F)>=0&&(E=c,C=h),p.negative&&(p=p.neg(),v=v.neg()),E.negative&&(E=E.neg(),C=C.neg()),[{a:p,b:v},{a:E,b:C}]};mr.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),l=o.mul(i.a),c=s.mul(n.b),h=o.mul(i.b),p=e.sub(a).sub(l),v=c.add(h).neg();return{k1:p,k2:v}};mr.prototype.pointFromX=function(e,r){e=new le(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};mr.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};mr.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),l=e[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var h=this._wnafMulAdd(1,i,s,o*2,n),p=0;p<o*2;p++)i[p]=null,s[p]=null;return h};function Ot(t,e,r,n){ii.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new le(e,16),this.y=new le(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}hu(Ot,ii.BasePoint);mr.prototype.point=function(e,r,n){return new Ot(this,e,r,n)};mr.prototype.pointFromJSON=function(e,r){return Ot.fromJSON(this,e,r)};Ot.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Ot.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ot.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Ot.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ot.prototype.isInfinity=function(){return this.inf};Ot.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Ot.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Ot.prototype.getX=function(){return this.x.fromRed()};Ot.prototype.getY=function(){return this.y.fromRed()};Ot.prototype.mul=function(e){return e=new le(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ot.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Ot.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Ot.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ot.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Ot.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function $t(t,e,r,n){ii.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new le(0)):(this.x=new le(e,16),this.y=new le(r,16),this.z=new le(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}hu($t,ii.BasePoint);mr.prototype.jpoint=function(e,r,n){return new $t(this,e,r,n)};$t.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};$t.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};$t.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=l.redSqr(),p=h.redMul(l),v=i.redMul(h),E=c.redSqr().redIAdd(p).redISub(v).redISub(v),C=c.redMul(v.redISub(E)).redISub(o.redMul(p)),_=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(E,C,_)};$t.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),h=c.redMul(a),p=n.redMul(c),v=l.redSqr().redIAdd(h).redISub(p).redISub(p),E=l.redMul(p.redISub(v)).redISub(s.redMul(h)),C=this.z.redMul(a);return this.curve.jpoint(v,E,C)};$t.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),h=a.redAdd(a);for(r=0;r<e;r++){var p=o.redSqr(),v=h.redSqr(),E=v.redSqr(),C=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(c)),_=o.redMul(v),D=C.redSqr().redISub(_.redAdd(_)),k=_.redISub(D),P=C.redMul(k);P=P.redIAdd(P).redISub(E);var $=h.redMul(l);r+1<e&&(c=c.redMul(E)),o=D,l=$,h=P}return this.curve.jpoint(o,h.redMul(s),l)};$t.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};$t.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),e=c,r=l.redMul(a.redISub(c)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),v=this.y.redSqr(),E=v.redSqr(),C=this.x.redAdd(v).redSqr().redISub(p).redISub(E);C=C.redIAdd(C);var _=p.redAdd(p).redIAdd(p),D=_.redSqr(),k=E.redIAdd(E);k=k.redIAdd(k),k=k.redIAdd(k),e=D.redISub(C).redISub(C),r=_.redMul(C.redISub(e)).redISub(k),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};$t.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),r=l.redMul(a.redISub(c)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),v=this.y.redSqr(),E=this.x.redMul(v),C=this.x.redSub(p).redMul(this.x.redAdd(p));C=C.redAdd(C).redIAdd(C);var _=E.redIAdd(E);_=_.redIAdd(_);var D=_.redAdd(_);e=C.redSqr().redISub(D),n=this.y.redAdd(this.z).redSqr().redISub(v).redISub(p);var k=v.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),r=C.redMul(_.redISub(e)).redISub(k)}return this.curve.jpoint(e,r,n)};$t.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var h=c.redMul(a),p=l.redSqr().redISub(h.redAdd(h)),v=h.redISub(p),E=a.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var C=l.redMul(v).redISub(E),_=n.redAdd(n).redMul(i);return this.curve.jpoint(p,C,_)};$t.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var h=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),p=r.redMul(h);p=p.redIAdd(p),p=p.redIAdd(p);var v=this.x.redMul(l).redISub(p);v=v.redIAdd(v),v=v.redIAdd(v);var E=this.y.redMul(h.redMul(c.redISub(h)).redISub(a.redMul(l)));E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var C=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(v,E,C)};$t.prototype.mul=function(e,r){return e=new le(e,r),this.curve._wnafMul(this,e)};$t.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};$t.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};$t.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};$t.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var eo=Fi(function(t,e){var r=e;r.base=ii,r.short=Ew,r.mont=null,r.edwards=null}),to=Fi(function(t,e){var r=e,n=rr.assert;function i(a){a.type==="short"?this.curve=new eo.short(a):a.type==="edwards"?this.curve=new eo.edwards(a):this.curve=new eo.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,l){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Cr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Cr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Cr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Cr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Cr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cr.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Cr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function vn(t){if(!(this instanceof vn))return new vn(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=kr.toArray(t.entropy,t.entropyEnc||"hex"),r=kr.toArray(t.nonce,t.nonceEnc||"hex"),n=kr.toArray(t.pers,t.persEnc||"hex");du(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var xh=vn;vn.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};vn.prototype._hmac=function(){return new Cr.hmac(this.hash,this.K)};vn.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};vn.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=kr.toArray(e,r),n=kr.toArray(n,i),du(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};vn.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=kr.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,kr.encode(o,r)};var Sl=rr.assert;function Gt(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var gu=Gt;Gt.fromPublic=function(e,r,n){return r instanceof Gt?r:new Gt(e,{pub:r,pubEnc:n})};Gt.fromPrivate=function(e,r,n){return r instanceof Gt?r:new Gt(e,{priv:r,privEnc:n})};Gt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Gt.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Gt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Gt.prototype._importPrivate=function(e,r){this.priv=new le(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Gt.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Sl(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Sl(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Gt.prototype.derive=function(e){return e.validate()||Sl(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Gt.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Gt.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Gt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Sw=rr.assert;function Zo(t,e){if(t instanceof Zo)return t;this._importDER(t,e)||(Sw(t.r&&t.s,"Signature without r or s"),this.r=new le(t.r,16),this.s=new le(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var ea=Zo;function Cw(){this.place=0}function Fa(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function jc(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Zo.prototype._importDER=function(e,r){e=rr.toArray(e,r);var n=new Cw;if(e[n.place++]!==48)return!1;var i=Fa(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Fa(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Fa(e,n);if(a===!1||e.length!==a+n.place)return!1;var l=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new le(o),this.s=new le(l),this.recoveryParam=null,!0};function Ua(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Zo.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=jc(r),n=jc(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Ua(i,r.length),i=i.concat(r),i.push(2),Ua(i,n.length);var s=i.concat(n),o=[48];return Ua(o,s.length),o=o.concat(s),rr.encode(o,e)};var Mw=function(){throw new Error("unsupported")},Ah=rr.assert;function dr(t){if(!(this instanceof dr))return new dr(t);typeof t=="string"&&(Ah(Object.prototype.hasOwnProperty.call(to,t),"Unknown curve "+t),t=to[t]),t instanceof to.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var kw=dr;dr.prototype.keyPair=function(e){return new gu(this,e)};dr.prototype.keyFromPrivate=function(e,r){return gu.fromPrivate(this,e,r)};dr.prototype.keyFromPublic=function(e,r){return gu.fromPublic(this,e,r)};dr.prototype.genKeyPair=function(e){e||(e={});for(var r=new xh({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Mw(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new le(2));;){var s=new le(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};dr.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};dr.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new le(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),l=new xh({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new le(1)),h=0;;h++){var p=i.k?i.k(h):new le(l.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(c)>=0)){var v=this.g.mul(p);if(!v.isInfinity()){var E=v.getX(),C=E.umod(this.n);if(C.cmpn(0)!==0){var _=p.invm(this.n).mul(C.mul(r.getPrivate()).iadd(e));if(_=_.umod(this.n),_.cmpn(0)!==0){var D=(v.getY().isOdd()?1:0)|(E.cmp(C)!==0?2:0);return i.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),D^=1),new ea({r:C,s:_,recoveryParam:D})}}}}}};dr.prototype.verify=function(e,r,n,i){e=this._truncateToN(new le(e,16)),n=this.keyFromPublic(n,i),r=new ea(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),l=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(l,n.getPublic(),c),h.isInfinity()?!1:h.eqXToP(s)):(h=this.g.mulAdd(l,n.getPublic(),c),h.isInfinity()?!1:h.getX().umod(this.n).cmp(s)===0)};dr.prototype.recoverPubKey=function(t,e,r,n){Ah((3&r)===r,"The recovery param is more than two bits"),e=new ea(e,n);var i=this.n,s=new le(t),o=e.r,a=e.s,l=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var h=e.r.invm(i),p=i.sub(s).mul(h).umod(i),v=a.mul(h).umod(i);return this.g.mulAdd(p,o,v)};dr.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new ea(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var _w=Fi(function(t,e){var r=e;r.version="6.5.4",r.utils=rr,r.rand=function(){throw new Error("unsupported")},r.curve=eo,r.curves=to,r.ec=kw,r.eddsa=null}),Iw=_w.ec;const Tw="signing-key/5.7.0",Cl=new T(Tw);let Ha=null;function Pr(){return Ha||(Ha=new Iw("secp256k1")),Ha}class Nw{constructor(e){U(this,"curve","secp256k1"),U(this,"privateKey",L(e)),Xn(this.privateKey)!==32&&Cl.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Pr().keyFromPrivate(z(this.privateKey));U(this,"publicKey","0x"+r.getPublic(!1,"hex")),U(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),U(this,"_isSigningKey",!0)}_addPoint(e){const r=Pr().keyFromPublic(z(this.publicKey)),n=Pr().keyFromPublic(z(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Pr().keyFromPrivate(z(this.privateKey)),n=z(e);n.length!==32&&Cl.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Ko({recoveryParam:i.recoveryParam,r:gt("0x"+i.r.toString(16),32),s:gt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Pr().keyFromPrivate(z(this.privateKey)),n=Pr().keyFromPublic(z(Eh(e)));return gt("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Rw(t,e){const r=Ko(e),n={r:z(r.r),s:z(r.s)};return"0x"+Pr().recoverPubKey(z(t),n,r.recoveryParam).encode("hex",!1)}function Eh(t,e){const r=z(t);if(r.length===32){const n=new Nw(r);return e?"0x"+Pr().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?L(r):"0x"+Pr().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Pr().keyFromPublic(r).getPublic(!0,"hex"):L(r)}return Cl.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Pw="transactions/5.7.0",sn=new T(Pw);var Kc;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Kc||(Kc={}));function pu(t){return t==="0x"?null:st(t)}function Ut(t){return t==="0x"?ht:R.from(t)}function Ow(t){const e=Eh(t);return st(Dt(ue(Dt(e,1)),12))}function Co(t,e){return Ow(Rw(z(t),e))}function Zt(t,e){const r=_i(R.from(t).toHexString());return r.length>32&&sn.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function za(t,e){return{address:st(t),storageKeys:(e||[]).map((r,n)=>(Xn(r)!==32&&sn.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Ui(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&sn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),za(r[0],r[1])):za(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return za(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Sh(t){return Ui(t).map(e=>[e.address,e.storageKeys])}function Bw(t,e){if(t.gasPrice!=null){const n=R.from(t.gasPrice),i=R.from(t.maxFeePerGas||0);n.eq(i)||sn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Zt(t.chainId||0,"chainId"),Zt(t.nonce||0,"nonce"),Zt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Zt(t.maxFeePerGas||0,"maxFeePerGas"),Zt(t.gasLimit||0,"gasLimit"),t.to!=null?st(t.to):"0x",Zt(t.value||0,"value"),t.data||"0x",Sh(t.accessList||[])];if(e){const n=Ko(e);r.push(Zt(n.recoveryParam,"recoveryParam")),r.push(_i(n.r)),r.push(_i(n.s))}return Kt(["0x02",Jo(r)])}function Dw(t,e){const r=[Zt(t.chainId||0,"chainId"),Zt(t.nonce||0,"nonce"),Zt(t.gasPrice||0,"gasPrice"),Zt(t.gasLimit||0,"gasLimit"),t.to!=null?st(t.to):"0x",Zt(t.value||0,"value"),t.data||"0x",Sh(t.accessList||[])];if(e){const n=Ko(e);r.push(Zt(n.recoveryParam,"recoveryParam")),r.push(_i(n.r)),r.push(_i(n.s))}return Kt(["0x01",Jo(r)])}function Ch(t,e,r){try{const n=Ut(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{sn.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=gt(e[1],32),t.s=gt(e[2],32);try{const n=ue(r(t));t.from=Co(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Lw(t){const e=uu(t.slice(1));e.length!==9&&e.length!==12&&sn.throwArgumentError("invalid component count for transaction type: 2","payload",L(t));const r=Ut(e[2]),n=Ut(e[3]),i={type:2,chainId:Ut(e[0]).toNumber(),nonce:Ut(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ut(e[4]),to:pu(e[5]),value:Ut(e[6]),data:e[7],accessList:Ui(e[8])};return e.length===9||(i.hash=ue(t),Ch(i,e.slice(9),Bw)),i}function $w(t){const e=uu(t.slice(1));e.length!==8&&e.length!==11&&sn.throwArgumentError("invalid component count for transaction type: 1","payload",L(t));const r={type:1,chainId:Ut(e[0]).toNumber(),nonce:Ut(e[1]).toNumber(),gasPrice:Ut(e[2]),gasLimit:Ut(e[3]),to:pu(e[4]),value:Ut(e[5]),data:e[6],accessList:Ui(e[7])};return e.length===8||(r.hash=ue(t),Ch(r,e.slice(8),Dw)),r}function Fw(t){const e=uu(t);e.length!==9&&e.length!==6&&sn.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ut(e[0]).toNumber(),gasPrice:Ut(e[1]),gasLimit:Ut(e[2]),to:pu(e[3]),value:Ut(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=R.from(e[6]).toNumber()}catch{return r}if(r.r=gt(e[7],32),r.s=gt(e[8],32),R.from(r.r).isZero()&&R.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(L(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=ue(Jo(i));try{r.from=Co(s,{r:L(r.r),s:L(r.s),recoveryParam:n})}catch{}r.hash=ue(t)}return r.type=null,r}function Uw(t){const e=z(t);if(e[0]>127)return Fw(e);switch(e[0]){case 1:return $w(e);case 2:return Lw(e)}return sn.throwError(`unsupported transaction type: ${e[0]}`,T.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Hw="contracts/5.7.0";var ri=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const bt=new T(Hw);function Mo(t,e){return ri(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&bt.throwArgumentError("invalid address or ENS name","name",r);try{return st(r)}catch{}t||bt.throwError("a provider or signer is needed to resolve ENS names",T.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&bt.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function ro(t,e,r){return ri(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>ro(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Mo(t,e):r.type==="tuple"?yield ro(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>ro(t,n,r.arrayChildren))):Promise.reject(bt.makeError("invalid value for array",T.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function ta(t,e,r){return ri(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Tt(r.pop())),bt.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=mt({override:Mo(t.signer,n.from),signer:t.signer.getAddress()}).then(c=>ri(this,void 0,void 0,function*(){return st(c.signer)!==c.override&&bt.throwError("Contract with a Signer cannot override from",T.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):n.from=t.signer.getAddress():n.from&&(n.from=Mo(t.provider,n.from));const i=yield mt({args:ro(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:mt(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=R.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=R.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=R.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=R.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=R.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=Ui(a.accessList)),o.gasLimit==null&&e.gas!=null){let c=21e3;const h=z(s);for(let p=0;p<h.length;p++)c+=4,h[p]&&(c+=64);o.gasLimit=R.from(e.gas).add(c)}if(a.value){const c=R.from(a.value);!c.isZero()&&!e.payable&&bt.throwError("non-payable method cannot override value",T.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=c}a.customData&&(o.customData=Tt(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter(c=>n[c]!=null);return l.length&&bt.throwError(`cannot override ${l.map(c=>JSON.stringify(c)).join(",")}`,T.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o})}function zw(t,e){return function(...r){return ta(t,e,r)}}function Gw(t,e){const r=t.signer||t.provider;return function(...n){return ri(this,void 0,void 0,function*(){r||bt.throwError("estimate require a provider or signer",T.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield ta(t,e,n);return yield r.estimateGas(i)})}}function Ww(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=Zn(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(l,c)=>t.interface.decodeEventLog(a.eventFragment,l,c),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function Mh(t,e,r){const n=t.signer||t.provider;return function(...i){return ri(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=Tt(i.pop());l.blockTag!=null&&(s=yield l.blockTag),delete l.blockTag,i.push(l)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield ta(t,e,i),a=yield n.call(o,s);try{let l=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===T.errors.CALL_EXCEPTION&&(l.address=t.address,l.args=i,l.transaction=o),l}})}}function Vw(t,e){return function(...r){return ri(this,void 0,void 0,function*(){t.signer||bt.throwError("sending a transaction requires a signer",T.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield ta(t,e,r),i=yield t.signer.sendTransaction(n);return Ww(t,i),i})}}function Jc(t,e,r){return e.constant?Mh(t,e,r):Vw(t,e)}function kh(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ws{constructor(e,r){U(this,"tag",e),U(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class qw extends ws{constructor(){super("error",null)}}class Yc extends ws{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&bt.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(kh(s),s),U(this,"address",e),U(this,"interface",r),U(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=Iy(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Qc extends ws{constructor(e,r){super("*",{address:e}),U(this,"address",e),U(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class jw{constructor(e,r,n){U(this,"interface",Dr(new.target,"getInterface")(r)),n==null?(U(this,"provider",null),U(this,"signer",null)):Qo.isSigner(n)?(U(this,"provider",n.provider||null),U(this,"signer",n)):Ns.isProvider(n)?(U(this,"provider",n),U(this,"signer",null)):bt.throwArgumentError("invalid signer or provider","signerOrProvider",n),U(this,"callStatic",{}),U(this,"estimateGas",{}),U(this,"functions",{}),U(this,"populateTransaction",{}),U(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];U(this.filters,a,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,c)})),o[l.name]||(o[l.name]=[]),o[l.name].push(a)}),Object.keys(o).forEach(a=>{const l=o[a];l.length===1?U(this.filters,a,this.filters[l[0]]):bt.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(U(this,"_runningEvents",{}),U(this,"_wrappedEmits",{}),e==null&&bt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),U(this,"address",e),this.provider)U(this,"resolvedAddress",Mo(this.provider,e));else try{U(this,"resolvedAddress",Promise.resolve(st(e)))}catch{bt.throwError("provider is required to use ENS name as contract address",T.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){bt.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const l=a.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(o)}this[o]==null&&U(this,o,Jc(this,a,!0)),this.functions[o]==null&&U(this.functions,o,Jc(this,a,!1)),this.callStatic[o]==null&&U(this.callStatic,o,Mh(this,a,!0)),this.populateTransaction[o]==null&&U(this.populateTransaction,o,zw(this,a)),this.estimateGas[o]==null&&U(this.estimateGas,o,Gw(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const l=a[0];try{this[o]==null&&U(this,o,this[l])}catch{}this.functions[o]==null&&U(this.functions,o,this.functions[l]),this.callStatic[o]==null&&U(this.callStatic,o,this.callStatic[l]),this.populateTransaction[o]==null&&U(this.populateTransaction,o,this.populateTransaction[l]),this.estimateGas[o]==null&&U(this.estimateGas,o,this.estimateGas[l])})}static getContractAddress(e){return Pd(e)}static getInterface(e){return Ir.isInterface(e)?e:new Ir(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&bt.throwError("contract not deployed",T.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||bt.throwError("sending a transactions require a signer",T.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Tt(e||{});return["from","to"].forEach(function(n){r[n]!=null&&bt.throwError("cannot override "+n,T.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new fu(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&U(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return wl.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new qw);if(e==="event")return this._normalizeRunningEvent(new ws("event",null));if(e==="*")return this._normalizeRunningEvent(new Qc(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Yc(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Yc(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ws(kh(r),r))}return this._normalizeRunningEvent(new Qc(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Zn(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||bt.throwError("events require a provider or a signer with a provider",T.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=Tt(i.filter);return typeof r=="string"&&xe(r,32)?(n!=null&&bt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class mu extends jw{}class _h{constructor(e){U(this,"alphabet",e),U(this,"base",e.length),U(this,"_alphabetMap",{}),U(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=z(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return z(new Uint8Array(r.reverse()))}}new _h("abcdefghijklmnopqrstuvwxyz234567");const Ml=new _h("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Kw="sha2/5.7.0";new T(Kw);function Xc(t){return"0x"+Cr.sha256().update(z(t)).digest("hex")}const Jw="wordlists/5.7.0",Yw=new T(Jw);class Ps{constructor(e){Yw.checkAbstract(new.target,Ps),U(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return zn(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const Qw="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let es=null;function Zc(t){if(es==null&&(es=Qw.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Ps.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw es=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Xw extends Ps{constructor(){super("en")}getWord(e){return Zc(this),es[e]}getWordIndex(e){return Zc(this),es.indexOf(e)}}const Ih=new Xw;Ps.register(Ih);const Zw={en:Ih},e1="random/5.7.0",kl=new T(e1);function t1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const ef=t1();let no=ef.crypto||ef.msCrypto;(!no||!no.getRandomValues)&&(kl.warn("WARNING: Missing strong random number source"),no={getRandomValues:function(t){return kl.throwError("no secure random source avaialble",T.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function yu(t){(t<=0||t>1024||t%1||t!=t)&&kl.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return no.getRandomValues(e),z(e)}const r1="networks/5.7.1",tf=new T(r1);function n1(t){return t&&typeof t.renetwork=="function"}function Kr(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Kr(r)},e}function ko(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return ko(t,n)},r}const rf={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Kr("homestead")},nf={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Kr("ropsten")},sf={chainId:63,name:"classicMordor",_defaultProvider:ko("https://www.ethercluster.com/mordor","classicMordor")},Ws={unspecified:{chainId:0,name:"unspecified"},homestead:rf,mainnet:rf,morden:{chainId:2,name:"morden"},ropsten:nf,testnet:nf,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Kr("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Kr("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Kr("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Kr("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:ko("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:sf,classicTestnet:sf,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:ko("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Kr("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Kr("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function i1(t){if(t==null)return null;if(typeof t=="number"){for(const n in Ws){const i=Ws[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Ws[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Ws[t.name];if(!e)return typeof t.chainId!="number"&&tf.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&tf.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(n1(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const s1="web/5.7.1";var o1=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function a1(t,e){return o1(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:z(new Uint8Array(i))}})}var l1=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ar=new T(s1);function of(t){return new Promise(e=>{setTimeout(e,t)})}function gn(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Qn(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Ts(t)}catch{}return L(t)}return t}function u1(t){return zt(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function c1(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Ar.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Ar.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let h=!1,p=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Ar.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(p=t.timeout),t.headers)for(const k in t.headers)a[k.toLowerCase()]={key:k,value:String(t.headers[k])},["if-none-match","if-modified-since"].indexOf(k.toLowerCase())>=0&&(h=!0);if(c.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Ar.throwError("basic authentication requires a secure https url",T.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const k=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+Vd(zt(k))}}t.skipFetchSetup!=null&&(c.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(c.fetchOptions=Tt(t.fetchOptions))}const v=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),E=l?l.match(v):null;if(E)try{const k={statusCode:200,statusMessage:"OK",headers:{"content-type":E[1]||"text/plain"},body:E[2]?Wd(E[3]):u1(E[3])};let P=k.body;return r&&(P=r(k.body,k)),Promise.resolve(P)}catch(k){Ar.throwError("processing response error",T.errors.SERVER_ERROR,{body:gn(E[1],E[2]),error:k,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const C={};Object.keys(a).forEach(k=>{const P=a[k];C[P.key]=P.value}),c.headers=C;const _=function(){let k=null;return{promise:new Promise(function(q,F){p&&(k=setTimeout(()=>{k!=null&&(k=null,F(Ar.makeError("timeout",T.errors.TIMEOUT,{requestBody:gn(c.body,C["content-type"]),requestMethod:c.method,timeout:p,url:l})))},p))}),cancel:function(){k!=null&&(clearTimeout(k),k=null)}}}(),D=function(){return l1(this,void 0,void 0,function*(){for(let k=0;k<n;k++){let P=null;try{if(P=yield a1(l,c),k<n){if(P.statusCode===301||P.statusCode===302){const q=P.headers.location||"";if(c.method==="GET"&&q.match(/^https:/)){l=P.headers.location;continue}}else if(P.statusCode===429){let q=!0;if(i&&(q=yield i(k,l)),q){let F=0;const V=P.headers["retry-after"];typeof V=="string"&&V.match(/^[1-9][0-9]*$/)?F=parseInt(V)*1e3:F=s*parseInt(String(Math.random()*Math.pow(2,k))),yield of(F);continue}}}}catch(q){P=q.response,P==null&&(_.cancel(),Ar.throwError("missing response",T.errors.SERVER_ERROR,{requestBody:gn(c.body,C["content-type"]),requestMethod:c.method,serverError:q,url:l}))}let $=P.body;if(h&&P.statusCode===304?$=null:!o&&(P.statusCode<200||P.statusCode>=300)&&(_.cancel(),Ar.throwError("bad response",T.errors.SERVER_ERROR,{status:P.statusCode,headers:P.headers,body:gn($,P.headers?P.headers["content-type"]:null),requestBody:gn(c.body,C["content-type"]),requestMethod:c.method,url:l})),r)try{const q=yield r($,P);return _.cancel(),q}catch(q){if(q.throttleRetry&&k<n){let F=!0;if(i&&(F=yield i(k,l)),F){const V=s*parseInt(String(Math.random()*Math.pow(2,k)));yield of(V);continue}}_.cancel(),Ar.throwError("processing response error",T.errors.SERVER_ERROR,{body:gn($,P.headers?P.headers["content-type"]:null),error:q,requestBody:gn(c.body,C["content-type"]),requestMethod:c.method,url:l})}return _.cancel(),$}return Ar.throwError("failed response",T.errors.SERVER_ERROR,{requestBody:gn(c.body,C["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([_.promise,D])}function bu(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Ts(s))}catch(l){Ar.throwError("invalid JSON",T.errors.SERVER_ERROR,{body:s,error:l})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=zt(e);const s=typeof t=="string"?{url:t}:Tt(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Tt(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return c1(t,i,n)}function Yi(t,e){return e||(e={}),e=Tt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return t().then(function(h){if(h!==void 0)o()&&r(h);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(l++,l>a){o()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(c,p)}return null},function(h){o()&&n(h)})}c()})}var _o="qpzry9x8gf2tvdw0s3jn54khce6mua7l",_l={};for(var Vs=0;Vs<_o.length;Vs++){var Ga=_o.charAt(Vs);if(_l[Ga]!==void 0)throw new TypeError(Ga+" is ambiguous");_l[Ga]=Vs}function Ei(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Th(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Ei(e)^n>>5}for(e=Ei(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Ei(e)^i&31}return e}function f1(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=Th(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=Ei(n)^o,i+=_o.charAt(o)}for(s=0;s<6;++s)n=Ei(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=_o.charAt(a)}return i}function Nh(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=Th(s);if(typeof a=="string")return a;for(var l=[],c=0;c<o.length;++c){var h=o.charAt(c),p=_l[h];if(p===void 0)return"Unknown character "+h;a=Ei(a)^p,!(c+6>=o.length)&&l.push(p)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:l}}function d1(){var t=Nh.apply(null,arguments);if(typeof t=="object")return t}function h1(t){var e=Nh.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function ra(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function g1(t){var e=ra(t,8,5,!0);if(Array.isArray(e))return e}function p1(t){var e=ra(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function m1(t){var e=ra(t,5,8,!1);if(Array.isArray(e))return e}function y1(t){var e=ra(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var af={decodeUnsafe:d1,decode:h1,encode:f1,toWordsUnsafe:g1,toWords:p1,fromWordsUnsafe:m1,fromWords:y1};const na="providers/5.7.2",Wi=new T(na);class Q{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),h=p=>this.data(p,!0);return e.transaction={hash:o,type:c,accessList:Q.allowNull(this.accessList.bind(this),null),blockHash:Q.allowNull(o,null),blockNumber:Q.allowNull(l,null),transactionIndex:Q.allowNull(l,null),confirmations:Q.allowNull(l,null),from:r,gasPrice:Q.allowNull(n),maxPriorityFeePerGas:Q.allowNull(n),maxFeePerGas:Q.allowNull(n),gasLimit:n,to:Q.allowNull(r,null),value:n,nonce:l,data:s,r:Q.allowNull(this.uint256),s:Q.allowNull(this.uint256),v:Q.allowNull(l),creates:Q.allowNull(r,null),raw:Q.allowNull(s)},e.transactionRequest={from:Q.allowNull(r),nonce:Q.allowNull(l),gasLimit:Q.allowNull(n),gasPrice:Q.allowNull(n),maxPriorityFeePerGas:Q.allowNull(n),maxFeePerGas:Q.allowNull(n),to:Q.allowNull(r),value:Q.allowNull(n),data:Q.allowNull(h),type:Q.allowNull(l),accessList:Q.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:r,topics:Q.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:Q.allowNull(this.address,null),from:Q.allowNull(this.address,null),contractAddress:Q.allowNull(r,null),transactionIndex:l,root:Q.allowNull(a),gasUsed:n,logsBloom:Q.allowNull(s),blockHash:o,transactionHash:o,logs:Q.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:Q.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:Q.allowNull(n),status:Q.allowNull(l),type:c},e.block={hash:Q.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:Q.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Q.allowNull(r),extraData:s,transactions:Q.allowNull(Q.arrayOf(o)),baseFeePerGas:Q.allowNull(n)},e.blockWithTransactions=Tt(e.block),e.blockWithTransactions.transactions=Q.allowNull(Q.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Q.allowNull(i,void 0),toBlock:Q.allowNull(i,void 0),blockHash:Q.allowNull(o,void 0),address:Q.allowNull(r,void 0),topics:Q.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Q.allowNull(l),blockHash:Q.allowNull(o),transactionIndex:l,removed:Q.allowNull(this.boolean.bind(this)),address:r,data:Q.allowFalsish(s,"0x"),topics:Q.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return Ui(e||[])}number(e){return e==="0x"?0:R.from(e).toNumber()}type(e){return e==="0x"||e==null?0:R.from(e).toNumber()}bigNumber(e){return R.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),xe(e))?e.toLowerCase():Wi.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return st(e)}callAddress(e){if(!xe(e,32))return null;const r=st(Dt(e,12));return r===Ld?null:r}contractAddress(e){return Pd(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||xe(e))return au(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Xn(n)!==32?Wi.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=R.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!xe(e))throw new Error("invalid uint256");return gt(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Q.check(r,e);return i._difficulty=n==null?null:R.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Q.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&R.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Q.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;xe(n)&&(n=R.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),xe(n)&&(n=R.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return Uw(e)}receiptLog(e){return Q.check(this.formats.receiptLog,e)}receipt(e){const r=Q.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=R.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Wi.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Wi.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Wi.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Q.check(this.formats.filter,e)}filterLog(e){return Q.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var se=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const ce=new T(na),b1=10;function lf(t){return t==null?"null":(Xn(t)!==32&&ce.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function uf(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[lf(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return lf(e)}).join("&")}function v1(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function ai(t){if(typeof t=="string"){if(t=t.toLowerCase(),Xn(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+uf(t);if(Wb.isForkEvent(t))throw ce.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+uf(t.topics||[])}throw new Error("invalid event - "+t)}function Vi(){return new Date().getTime()}function cf(t){return new Promise(e=>{setTimeout(e,t)})}const w1=["block","network","pending","poll"];class x1{constructor(e,r,n){U(this,"tag",e),U(this,"listener",r),U(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=v1(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||w1.indexOf(this.tag)>=0}}const A1={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Wa(t){return gt(R.from(t).toHexString(),32)}function ff(t){return Ml.encode(Ht([t,Dt(Xc(Xc(t)),0,4)]))}const Rh=new RegExp("^(ipfs)://(.*)$","i"),df=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Rh,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function io(t,e){try{return Ts(xs(t,e))}catch{}return null}function xs(t,e){if(t==="0x")return null;const r=R.from(Dt(t,e,e+32)).toNumber(),n=R.from(Dt(t,r,r+32)).toNumber();return Dt(t,r+32,r+32+n)}function Va(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ce.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function hf(t){const e=z(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function E1(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Ph(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=z(t[n]);e[n]=hf(r),e.push(hf(i.length)),e.push(E1(i)),r+=32+Math.ceil(i.length/32)*32}return Kt(e)}class gf{constructor(e,r,n,i){U(this,"provider",e),U(this,"name",n),U(this,"address",e.formatter.address(r)),U(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>R.from(e).eq(1)).catch(e=>{if(e.code===T.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return se(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Kt([e,Zs(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Kt(["0x9061b923",Ph([kb(this.name),n.data])]));try{let s=yield this.provider.call(n);return z(s).length%32===4&&ce.throwError("resolver threw error",T.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=xs(s,0)),s}catch(s){if(s.code===T.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return se(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?xs(n,0):null})}_getAddress(e,r){const n=A1[String(e)];if(n==null&&ce.throwError(`unsupported coin type: ${e}`,T.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=z(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return ff(Ht([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return ff(Ht([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=af.toWords(i.slice(2));return a.unshift(o),af.encode(n.prefix,a)}}return null}getAddress(e){return se(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===qy?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===T.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Wa(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&ce.throwError("invalid or unsupported coin data",T.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return se(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<df.length;n++){const i=r.match(df[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:Va(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),h=gt(R.from(l[1]).toHexString(),32);if(s==="erc721"){const _=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:Kt(["0x6352211e",h])}));if(a!==_)return null;e.push({type:"owner",content:_})}else if(s==="erc1155"){const _=R.from(yield this.provider.call({to:c,data:Kt(["0x00fdd58e",gt(a,32),h])}));if(_.isZero())return null;e.push({type:"balance",content:_.toString()})}const p={to:this.provider.formatter.address(l[0]),data:Kt([o,h])};let v=io(yield this.provider.call(p),0);if(v==null)return null;e.push({type:"metadata-url-base",content:v}),s==="erc1155"&&(v=v.replace("{id}",h.substring(2)),e.push({type:"metadata-url-expanded",content:v})),v.match(/^ipfs:/i)&&(v=Va(v)),e.push({type:"metadata-url",content:v});const E=yield bu(v);if(!E)return null;e.push({type:"metadata",content:JSON.stringify(E)});let C=E.image;if(typeof C!="string")return null;if(!C.match(/^(https:\/\/|data:)/i)){if(C.match(Rh)==null)return null;e.push({type:"url-ipfs",content:C}),C=Va(C)}return e.push({type:"url",content:C}),{linkage:e,url:C}}}}}catch{}return null})}getContentHash(){return se(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+Ml.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+Ml.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+Vd("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return ce.throwError("invalid or unsupported content hash data",T.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return se(this,void 0,void 0,function*(){let r=zt(e);r=Ht([Wa(64),Wa(r.length),r]),r.length%32!==0&&(r=Ht([r,gt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",L(r));return n==null||n==="0x"?null:Ts(n)})}}let qa=null,S1=1;class C1 extends Ns{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),U(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Dr(new.target,"getNetwork")(e);r?(U(this,"_network",r),this.emit("network",r,null)):ce.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return se(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||ce.throwError("no network detected",T.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:U(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Yi(()=>this._ready().then(e=>e,e=>{if(!(e.code===T.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return qa==null&&(qa=new Q),qa}static getNetwork(e){return i1(e??"homestead")}ccipReadFetch(e,r,n){return se(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const l=n[a],c=l.replace("{sender}",i).replace("{data}",s),h=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),p=yield bu({url:c,errorPassThrough:!0},h,(E,C)=>(E.status=C.statusCode,E));if(p.data)return p.data;const v=p.message||"unknown error";if(p.status>=400&&p.status<500)return ce.throwError(`response not found during CCIP fetch: ${v}`,T.errors.SERVER_ERROR,{url:l,errorMessage:v});o.push(v)}return ce.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,T.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return se(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Vi()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Vi(),n=mt({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Vi();return i=R.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return se(this,void 0,void 0,function*(){const e=S1++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)ce.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",ce.makeError("network block skew detected",T.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return se(this,void 0,void 0,function*(){return ce.throwError("provider does not support network detection",T.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return se(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield cf(0),this._network;const n=ce.makeError("underlying network changed",T.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Vi();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Vi(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return se(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return se(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const l=[];let c=!1;const h=function(){return c?!0:(c=!0,l.forEach(v=>{v()}),!1)},p=v=>{v.confirmations<r||h()||o(v)};if(this.on(e,p),l.push(()=>{this.removeListener(e,p)}),i){let v=i.startBlock,E=null;const C=_=>se(this,void 0,void 0,function*(){c||(yield cf(1e3),this.getTransactionCount(i.from).then(D=>se(this,void 0,void 0,function*(){if(!c){if(D<=i.nonce)v=_;else{{const k=yield this.getTransaction(e);if(k&&k.blockNumber!=null)return}for(E==null&&(E=v-3,E<i.startBlock&&(E=i.startBlock));E<=_;){if(c)return;const k=yield this.getBlockWithTransactions(E);for(let P=0;P<k.transactions.length;P++){const $=k.transactions[P];if($.hash===e)return;if($.from===i.from&&$.nonce===i.nonce){if(c)return;const q=yield this.waitForTransaction($.hash,r);if(h())return;let F="replaced";$.data===i.data&&$.to===i.to&&$.value.eq(i.value)?F="repriced":$.data==="0x"&&$.from===$.to&&$.value.isZero()&&(F="cancelled"),a(ce.makeError("transaction was replaced",T.errors.TRANSACTION_REPLACED,{cancelled:F==="replaced"||F==="cancelled",reason:F,replacement:this._wrapTransaction($),hash:e,receipt:q}));return}}E++}}c||this.once("block",C)}}),D=>{c||this.once("block",C)}))});if(c)return;this.once("block",C),l.push(()=>{this.removeListener("block",C)})}if(typeof n=="number"&&n>0){const v=setTimeout(()=>{h()||a(ce.makeError("timeout exceeded",T.errors.TIMEOUT,{timeout:n}))},n);v.unref&&v.unref(),l.push(()=>{clearTimeout(v)})}})})}getBlockNumber(){return se(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return se(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return R.from(e)}catch(r){return ce.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return se(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield mt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return R.from(i)}catch(s){return ce.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return se(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield mt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return R.from(i).toNumber()}catch(s){return ce.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return se(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield mt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return L(i)}catch(s){return ce.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return se(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield mt({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>au(o))}),s=yield this.perform("getStorageAt",i);try{return L(s)}catch(o){return ce.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Xn(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&ce.throwError("Transaction hash mismatch from Provider.sendTransaction.",T.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>se(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&ce.throwError("transaction failed",T.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return se(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>L(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return se(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?R.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?L(s):null))}),this.formatter.transactionRequest(yield mt(n))})}_getFilter(e){return se(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield mt(r))})}_call(e,r,n){return se(this,void 0,void 0,function*(){n>=b1&&ce.throwError("CCIP read exceeded maximum redirections",T.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Xn(s)%32===4)try{const o=Dt(s,4),a=Dt(o,0,32);R.from(a).eq(i)||ce.throwError("CCIP Read sender did not match",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],c=R.from(Dt(o,32,64)).toNumber(),h=R.from(Dt(o,c,c+32)).toNumber(),p=Dt(o,c+32);for(let k=0;k<h;k++){const P=io(p,k*32);P==null&&ce.throwError("CCIP Read contained corrupt URL string",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(P)}const v=xs(o,64);R.from(Dt(o,100,128)).isZero()||ce.throwError("CCIP Read callback selector included junk",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const E=Dt(o,96,100),C=xs(o,128),_=yield this.ccipReadFetch(e,v,l);_==null&&ce.throwError("CCIP Read disabled or provided no URLs",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const D={to:i,data:Kt([E,Ph([_,C])])};return this._call(D,r,n+1)}catch(o){if(o.code===T.errors.SERVER_ERROR)throw o}try{return L(s)}catch(o){return ce.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return se(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield mt({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return se(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield mt({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return R.from(n)}catch(i){return ce.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return se(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&ce.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&ce.throwError("ENS name not configured",T.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return se(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(xe(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),xe(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{ce.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Yi(()=>se(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let l=0;l<s.transactions.length;l++){const c=s.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let h=o-c.blockNumber+1;h<=0&&(h=1),c.confirmations=h}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return se(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Yi(()=>se(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return se(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Yi(()=>se(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return se(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield mt({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Q.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return se(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return se(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&ce.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return se(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new gf(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return se(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||ce.throwError("network does not support ENS",T.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Zs(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return se(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(xe(e))throw n}typeof e!="string"&&ce.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return se(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=io(yield this.call({to:n,data:"0x691f3431"+Zs(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return se(this,void 0,void 0,function*(){let r=null;if(xe(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new gf(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==T.errors.CALL_EXCEPTION)throw a}try{const a=io(yield this.call({to:o,data:"0x691f3431"+Zs(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==T.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return ce.throwError(e+" not implemented",T.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new x1(ai(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=ai(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=ai(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=ai(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=ai(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=ai(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var jr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const wt=new T(na),M1=["call","estimateGas"];function ts(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=xe(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=ts(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return ts(JSON.parse(t),e)}catch{}return null}function Oh(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=ts(e,!0);if(s)return s.data;wt.throwError("missing revert data in call exception; Transaction reverted without a reason string",T.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=ts(e.body,!1);s==null&&(s=ts(e,!1)),s&&wt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",T.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===T.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&wt.throwError("insufficient funds for intrinsic transaction cost",T.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&wt.throwError("nonce has already been used",T.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&wt.throwError("replacement fee too low",T.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&wt.throwError("legacy pre-eip-155 transactions not supported",T.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),M1.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&wt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",T.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function pf(t){return new Promise(function(e){setTimeout(e,t)})}function k1(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function qi(t){return t&&t.toLowerCase()}const Il={};class Bh extends Qo{constructor(e,r,n){if(super(),e!==Il)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");U(this,"provider",r),n==null&&(n=0),typeof n=="string"?(U(this,"_address",this.provider.formatter.address(n)),U(this,"_index",null)):typeof n=="number"?(U(this,"_index",n),U(this,"_address",null)):wt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return wt.throwError("cannot alter JSON-RPC Signer connection",T.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new _1(Il,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&wt.throwError("unknown account #"+this._index,T.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Tt(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Tt(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>jr(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&wt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),mt({tx:mt(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&wt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&wt.throwError("user rejected transaction",T.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Oh("sendTransaction",o,s)))})}signTransaction(e){return wt.throwError("signing transactions is unsupported",T.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return jr(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Yi(()=>jr(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return jr(this,void 0,void 0,function*(){const r=typeof e=="string"?zt(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[L(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&wt.throwError("user rejected signing",T.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return jr(this,void 0,void 0,function*(){const r=typeof e=="string"?zt(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),L(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&wt.throwError("user rejected signing",T.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return jr(this,void 0,void 0,function*(){const i=yield jt.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(jt.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&wt.throwError("user rejected signing",T.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return jr(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class _1 extends Bh{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const I1={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};let T1=class extends C1{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Dr(this.constructor,"defaultUrl")()),typeof e=="string"?U(this,"connection",Object.freeze({url:e})):U(this,"connection",Object.freeze(Tt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return jr(this,void 0,void 0,function*(){yield pf(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Dr(this.constructor,"getNetwork");try{return r(R.from(e).toNumber())}catch(n){return wt.throwError("could not detect network",T.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return wt.throwError("could not detect network",T.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Bh(Il,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Zn(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=bu(this.connection,JSON.stringify(n),k1).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[qi(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[qi(r.address),r.blockTag]];case"getCode":return["eth_getCode",[qi(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[qi(r.address),gt(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Dr(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Dr(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=qi(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return jr(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&R.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Tt(r),r.transaction=Tt(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&wt.throwError(e+" not implemented",T.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Oh(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return pf(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Tt(I1);if(r)for(const s in r)r[s]&&(n[s]=!0);xy(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=au(R.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=L(e[s]))}),e.accessList&&(i.accessList=Ui(e.accessList)),i}};var N1=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const R1=new T(na);class Dh extends T1{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return N1(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||R1.throwError("no network detected",T.errors.UNKNOWN_ERROR,{}),this._network==null&&(U(this,"_network",r),this.emit("network",r,null))),r})}}const P1="solidity/5.7.0",O1=new RegExp("^bytes([0-9]+)$"),B1=new RegExp("^(u?int)([0-9]*)$"),D1=new RegExp("^(.*)\\[([0-9]*)\\]$"),L1="0000000000000000000000000000000000000000000000000000000000000000",ci=new T(P1);function Lh(t,e,r){switch(t){case"address":return r?Qs(e,32):z(e);case"string":return zt(e);case"bytes":return z(e);case"bool":return e=e?"0x01":"0x00",r?Qs(e,32):z(e)}let n=t.match(B1);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&ci.throwArgumentError("invalid number type","type",t),r&&(i=256),e=R.from(e).toTwos(i),Qs(e,i/8)}if(n=t.match(O1),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&ci.throwArgumentError("invalid bytes type","type",t),z(e).byteLength!==i&&ci.throwArgumentError(`invalid value for ${t}`,"value",e),r?z((e+L1).substring(0,66)):e}if(n=t.match(D1),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&ci.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(Lh(i,a,!0))}),Ht(o)}return ci.throwArgumentError("invalid type","type",t)}function pe(t,e){t.length!=e.length&&ci.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(Lh(n,e[i]))}),L(Ht(r))}function qn(t,e){return ue(pe(t,e))}const $1="ethers/5.7.2";new T($1);const $h=Wr();function F1(t){return ot("MuiGrid",t)}const U1=[0,1,2,3,4,5,6,7,8,9,10],H1=["column-reverse","column","row-reverse","row"],z1=["nowrap","wrap-reverse","wrap"],ji=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],vu=at("MuiGrid",["root","container","item","zeroMinWidth",...U1.map(t=>`spacing-xs-${t}`),...H1.map(t=>`direction-xs-${t}`),...z1.map(t=>`wrap-xs-${t}`),...ji.map(t=>`grid-xs-${t}`),...ji.map(t=>`grid-sm-${t}`),...ji.map(t=>`grid-md-${t}`),...ji.map(t=>`grid-lg-${t}`),...ji.map(t=>`grid-xl-${t}`)]),G1=Ce()({name:"MuiGrid",selfPropNames:["children","classes","columnSpacing","columns","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"],propDefaults:({set:t,inProps:e})=>t({get columns(){const r=fr($h);return e.columns||r||12},component:"div",container:!1,direction:"row",item:!1,lg:!1,md:!1,sm:!1,spacing:0,wrap:"wrap",xl:!1,xs:!1,zeroMinWidth:!1,get rowSpacing(){return e.rowSpacing??e.spacing??0},get columnSpacing(){return e.columnSpacing??e.spacing??0}}),utilityClass:F1,slotClasses:t=>({root:["root",t.container&&"container",t.item&&"item",t.zeroMinWidth&&"zeroMinWidth",...Fh(t.spacing,t.container),t.direction!=="row"&&`direction-xs-${String(t.direction)}`,t.wrap!=="wrap"&&`wrap-xs-${String(t.wrap)}`,t.xs!==!1&&`grid-xs-${String(t.xs)}`,t.sm!==!1&&`grid-sm-${String(t.sm)}`,t.md!==!1&&`grid-md-${String(t.md)}`,t.lg!==!1&&`grid-lg-${String(t.lg)}`,t.xl!==!1&&`grid-xl-${String(t.xl)}`]})});function Si(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function W1(t){const{theme:e,ownerState:r}=t;let n;return e.breakpoints.keys.reduce((i,s)=>{let o={};if(r[s]&&(n=r[s]),!n)return i;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=Go({values:r.columns,breakpoints:e.breakpoints.values}),l=typeof a=="object"?a[s]:a;if(l==null)return i;const c=`${Math.round(n/l*1e8)/1e6}%`;let h={};if(r.container&&r.item&&r.columnSpacing!==0){const p=e.spacing(r.columnSpacing);if(p!=="0px"){const v=`calc(${c} + ${Si(p)})`;h={flexBasis:v,maxWidth:v}}}o={flexBasis:c,flexGrow:0,maxWidth:c,...h}}return e.breakpoints.values[s]===0?Object.assign(i,o):i={...i,[e.breakpoints.up(s)]:o},i},{})}function V1(t){const{theme:e,ownerState:r}=t,n=Go({values:r.direction,breakpoints:e.breakpoints.values});return zo({theme:e},n,i=>{let s={flexDirection:i};return i.indexOf("column")===0&&(s={...s,[`& > .${vu.item}`]:{maxWidth:"none"}}),s})}function q1(t){const{theme:e,ownerState:r}=t,{container:n,rowSpacing:i}=r;let s={};if(n&&i!==0){const o=Go({values:i,breakpoints:e.breakpoints.values});s=zo({theme:e},o,a=>{const l=e.spacing(a);return l!=="0px"?{marginTop:`-${Si(l)}`,[`& > .${vu.item}`]:{paddingTop:Si(l)}}:{}})}return s}function j1(t){const{theme:e,ownerState:r}=t,{container:n,columnSpacing:i}=r;let s={};if(n&&i!==0){const o=Go({values:i,breakpoints:e.breakpoints.values});s=zo({theme:e},o,a=>{const l=e.spacing(a);return l!=="0px"?{width:`calc(100% + ${Si(l)})`,marginLeft:`-${Si(l)}`,[`& > .${vu.item}`]:{paddingLeft:Si(l)}}:{}})}return s}function Fh(t,e,r={}){if(!e||!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[r[`spacing-xs-${String(t)}`]||`spacing-xs-${String(t)}`];if(typeof t=="string"||Array.isArray(t))return[];const n=t.xs,i=t.sm,s=t.md,o=t.lg,a=t.xl;return[Number(n)>0&&(r[`spacing-xs-${String(n)}`]||`spacing-xs-${String(n)}`),Number(i)>0&&(r[`spacing-sm-${String(i)}`]||`spacing-sm-${String(i)}`),Number(s)>0&&(r[`spacing-md-${String(s)}`]||`spacing-md-${String(s)}`),Number(o)>0&&(r[`spacing-lg-${String(o)}`]||`spacing-lg-${String(o)}`),Number(a)>0&&(r[`spacing-xl-${String(a)}`]||`spacing-xl-${String(a)}`)]}const K1=ve("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{container:r,direction:n,item:i,lg:s,md:o,sm:a,spacing:l,wrap:c,xl:h,xs:p,zeroMinWidth:v}=t.ownerState;return[e.root,r&&e.container,i&&e.item,v&&e.zeroMinWidth,...Fh(l,r,e),n!=="row"&&e[`direction-xs-${String(n)}`],c!=="wrap"&&e[`wrap-xs-${String(c)}`],p!==!1&&e[`grid-xs-${String(p)}`],a!==!1&&e[`grid-sm-${String(a)}`],o!==!1&&e[`grid-md-${String(o)}`],s!==!1&&e[`grid-lg-${String(s)}`],h!==!1&&e[`grid-xl-${String(h)}`]]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),V1,q1,j1,W1),hr=G1.component(function({allProps:e,props:r,otherProps:n,classes:i}){n=ou(n);const s=()=>y(K1,X({ownerState:e},n,{get class(){return de(i.root,n.class)},get children(){return r.children}}));return y(ne,{get when(){return r.columns!==12},get fallback(){return y(s,{})},get children(){return y($h.Provider,{get value(){return r.columns},get children(){return y(s,{})}})}})});function J1(t){return ot("MuiLinearProgress",t)}at("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Y1=Ce()({name:"MuiLinearProgress",propDefaults:({set:t})=>t({color:"primary",variant:"indeterminate"}),selfPropNames:["classes","color","value","valueBuffer","variant"],utilityClass:J1,slotClasses:t=>({root:["root",`color${he(t.color)}`,t.variant],dashed:["dashed",`dashedColor${he(t.color)}`],bar1:["bar",`barColor${he(t.color)}`,(t.variant==="indeterminate"||t.variant==="query")&&"bar1Indeterminate",t.variant==="determinate"&&"bar1Determinate",t.variant==="buffer"&&"bar1Buffer"],bar2:["bar",t.variant!=="buffer"&&`barColor${he(t.color)}`,t.variant==="buffer"&&`color${he(t.color)}`,(t.variant==="indeterminate"||t.variant==="query")&&"bar2Indeterminate",t.variant==="buffer"&&"bar2Buffer"]})}),Tl=4,Ri=eu(),wu=(t,e)=>e==="inherit"?"currentColor":t.palette.mode==="light"?Yl(t.palette[e].main,.62):Jl(t.palette[e].main,.5),Q1=ve("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${he(r.color)}`],e[r.variant]]}})(({ownerState:t,theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:wu(e,t.color),...t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},...t.variant==="buffer"&&{backgroundColor:"transparent"},...t.variant==="query"&&{transform:"rotate(180deg)"}})),X1=ve("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.dashed,e[`dashedColor${he(r.color)}`]]}})(({ownerState:t,theme:e})=>{const r=wu(e,t.color);return{position:"absolute",marginTop:0,height:"100%",width:"100%",...t.color==="inherit"&&{opacity:.3},backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"}},{[`@keyframes buffer-${Ri}`]:{0:{opacity:1,backgroundPosition:"0 -23px"},60:{opacity:0,backgroundPosition:"0 -23px"},100:{opacity:1,backgroundPosition:"-200px -23px"}},animation:`buffer-${Ri} 3s infinite linear`}),Z1=ve("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.bar,e[`barColor${he(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&e.bar1Indeterminate,r.variant==="determinate"&&e.bar1Determinate,r.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":e.palette[t.color].main,...t.variant==="determinate"&&{transition:`transform .${Tl}s linear`},...t.variant==="buffer"&&{zIndex:1,transition:`transform .${Tl}s linear`}}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&{[`@keyframes indeterminate1-${Ri}`]:{0:{left:"-35%",right:"100%"},60:{left:"100%",right:"-90%"},100:{left:"100%",right:"-90%"}},width:"auto",animation:`indeterminate1-${Ri} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}),ex=ve("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.bar,e[`barColor${he(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&e.bar2Indeterminate,r.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",...t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":e.palette[t.color].main},...t.color==="inherit"&&{opacity:.3},...t.variant==="buffer"&&{backgroundColor:wu(e,t.color),transition:`transform .${Tl}s linear`}}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&{[`@keyframes indeterminate2-${Ri}`]:{0:{left:"-200%",right:"100%"},60:{left:"107%",right:"-8%"},100:{left:"107%",right:"-8%"}},width:"auto",animation:`indeterminate2-${Ri} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}),xu=Y1.component(function({allProps:e,classes:r,otherProps:n,props:i}){const s=Zl(),o=qo(n),[a,l]=ut({}),[c,h]=ut({});xt(()=>{if((i.variant==="determinate"||i.variant==="buffer")&&i.value!==void 0){o.ref.ariaValueNow=Math.round(i.value).toString(),o.ref.ariaValueMin="0",o.ref.ariaValueMax="100";let v=i.value-100;s.direction==="rtl"&&(v=-v),l({transform:`translateX(${v}%)`})}}),xt(()=>{if(i.variant==="buffer"&&i.valueBuffer!==void 0){let v=(i.valueBuffer||0)-100;s.direction==="rtl"&&(v=-v),h({transform:`translateX(${v}%)`})}});const p=iu(Q1,"span","div");return y(p,X({role:"progressbar"},n,{ref:o,get class(){return de(r.root,n.class)},ownerState:e,get children(){return[y(ne,{get when(){return i.variant==="buffer"},get children(){return y(X1,{get class(){return r.dashed},ownerState:e})}}),y(Z1,{get class(){return r.bar1},ownerState:e,get style(){return a()}}),y(ne,{get when(){return i.variant!=="determinate"},get children(){return y(ex,{get class(){return r.bar2},ownerState:e,get style(){return c()}})}})]}}))});function tx(t){return ot("MuiCard",t)}at("MuiCard",["root"]);const rx=Ce()({name:"MuiCard",selfPropNames:["classes","raised"],utilityClass:tx,propDefaults:({set:t})=>t({component:ni,raised:!1}),slotClasses:()=>({root:["root"]})}),nx=ve(ni,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Uh=rx.component(function({props:e,otherProps:r,classes:n}){return y(nx,X({get elevation(){return e.raised?8:void 0},get class(){return de(n.root,r.class)}},r))});function ix(t){return ot("MuiCardActions",t)}at("MuiCardActions",["root","spacing"]);const sx=Ce()({name:"MuiActions",selfPropNames:["children","classes","disableSpacing"],propDefaults:({set:t})=>t({disableSpacing:!1}),utilityClass:ix,slotClasses:t=>({root:["root",!t.disableSpacing&&"spacing"]})}),ox=ve("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})(({ownerState:t})=>({display:"flex",alignItems:"center",padding:8,...!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}}})),ax=sx.component(function({allProps:e,classes:r,otherProps:n,props:i}){return y(ox,X(n,{get class(){return de(r.root,n.class)},ownerState:e,get children(){return i.children}}))});function lx(t){return ot("MuiCardContent",t)}at("MuiCardContent",["root"]);const ux=Ce()({name:"MuiContent",selfPropNames:["children","classes"],propDefaults:({set:t})=>t({component:"div"}),utilityClass:lx,slotClasses:()=>({root:["root"]})}),cx=ve("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Hh=ux.component(function({allProps:e,classes:r,otherProps:n,props:i}){return y(cx,X(n,{ownerState:e,get class(){return de(r.root,n.class)},get children(){return i.children}}))});function fx(t){return ot("MuiDivider",t)}at("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const dx=Ce()({name:"MuiDivider",selfPropNames:["absolute","children","classes","flexItem","light","orientation","textAlign","variant"],propDefaults:({set:t,inProps:e})=>t({absolute:!1,get component(){return e.children?"div":"hr"},flexItem:!1,light:!1,orientation:"horizontal",get role(){return e.component!=="hr"?"separator":void 0},textAlign:"center",variant:"fullWidth"}),utilityClass:fx,slotClasses:t=>({root:["root",t.absolute&&"absolute",t.variant,t.light&&"light",t.orientation==="vertical"&&"vertical",t.flexItem&&"flexItem",!!t.children&&"withChildren",!!t.children&&t.orientation==="vertical"&&"withChildrenVertical",t.textAlign==="right"&&t.orientation!=="vertical"&&"textAlignRight",t.textAlign==="left"&&t.orientation!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",t.orientation==="vertical"&&"wrapperVertical"]})}),hx=ve("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin",...e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},...e.light&&{borderColor:Pt(t.palette.divider,.08)},...e.variant==="inset"&&{marginLeft:72},...e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},...e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},...e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},...e.flexItem&&{alignSelf:"stretch",height:"auto"}}),({theme:t,ownerState:e})=>({...e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${t.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}}}),({theme:t,ownerState:e})=>({...e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${t.palette.divider}`,transform:"translateX(0%)"}}}),({ownerState:t})=>({...t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},...t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}})),gx=ve("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,...e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}})),mf=dx.component(function({allProps:e,otherProps:r,classes:n}){const i=iu(hx,"div","hr");return y(i,X({get role(){return e.role},get as(){return r.component}},r,{ownerState:e,get class(){return de(n.root,e.class)},get children(){return y(ne,{get when(){return e.children},children:s=>y(gx,{get class(){return n.wrapper},ownerState:e,get children(){return s()}})})}}))}),ia=Wr({dense:!1});function Au(){return fr(ia)}function px(t){return ot("MuiList",t)}at("MuiList",["root","padding","dense","subheader"]);const mx=Ce()({name:"MuiList",selfPropNames:["children","classes","dense","disablePadding","subheader"],propDefaults:({set:t})=>t({component:"ul",dense:!1,disablePadding:!1}),utilityClass:px,slotClasses:t=>({root:["root",!t.disablePadding&&"padding",t.dense&&"dense",!!t.subheader&&"subheader"]})}),yx=ve("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})(({ownerState:t})=>({listStyle:"none",margin:0,padding:0,position:"relative",...!t.disablePadding&&{paddingTop:8,paddingBottom:8},...t.subheader&&{paddingTop:0}})),bx=mx.component(function({allProps:e,classes:r,otherProps:n,props:i}){return y(ia.Provider,{value:{get dense(){return i.dense}},get children(){return y(yx,X(n,{get class(){return de(r.root,n.class)},ownerState:e,get children(){return[Se(()=>i.subheader),Se(()=>i.children)]}}))}})});function vx(t){return ot("MuiListItemButton",t)}const fi=at("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),wx=Ce()({name:"MuiListItemButton",selfPropNames:["alignItems","autoFocus","children","classes","dense","disableGutters","disabled","divider","selected"],propDefaults:({set:t})=>t({alignItems:"center",autoFocus:!1,component:"div",dense:!1,disableGutters:!1,divider:!1,selected:!1,disabled:!1}),utilityClass:vx,slotClasses:t=>({root:["root",t.dense&&"dense",!t.disableGutters&&"gutters",t.divider&&"divider",t.disabled&&"disabled",t.alignItems==="flex-start"&&"alignItemsFlexStart",t.selected&&"selected"]})}),xx=ve(Ad,{skipProps:md.filter(t=>t!=="classes"),name:"MuiListItemButton",slot:"Root",overridesResolver:(t,e)=>[e.root,t.ownerState.dense&&e.dense,t.ownerState.alignItems==="flex-start"&&e.alignItemsFlexStart,t.ownerState.divider&&e.divider,!t.ownerState.disableGutters&&e.gutters]})(({theme:t,ownerState:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${fi.selected}`]:{backgroundColor:Pt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${fi.focusVisible}`]:{backgroundColor:Pt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${fi.selected}:hover`]:{backgroundColor:Pt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Pt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${fi.focusVisible}`]:{backgroundColor:t.palette.action.focus},[`&.${fi.disabled}`]:{opacity:t.palette.action.disabledOpacity},...e.divider&&{borderBottom:`1px solid ${t.palette.divider}`,backgroundClip:"padding-box"},...e.alignItems==="flex-start"&&{alignItems:"flex-start"},...!e.disableGutters&&{paddingLeft:16,paddingRight:16},...e.dense&&{paddingTop:4,paddingBottom:4}}));wx.component(function({allProps:e,classes:r,otherProps:n,props:i}){const s=Au(),o={get dense(){return i.dense||s.dense||!1},get alignItems(){return i.alignItems},get disableGutters(){return i.disableGutters}},a=X(e,{get dense(){return o.dense}}),l=qo(n);return xt(()=>{i.autoFocus&&l.ref&&l.ref.focus()}),y(ia.Provider,{value:o,get children(){return y(xx,X(n,{ref:l,get focusVisibleClassName(){return de(i.classes?.focusVisible,n.focusVisibleClassName)},ownerState:a,classes:r,get children(){return i.children}}))}})});function Ax(t){return ot("MuiListItemSecondaryAction",t)}at("MuiListItemSecondaryAction",["root","disableGutters"]);const yf=Ce()({name:"MuiListItemSecondaryAction",selfPropNames:["alignItems","children","classes"],propDefaults:({set:t})=>t({}),autoCallUseClasses:!1,utilityClass:Ax,slotClasses:t=>({root:["root",t.disableGutters&&"disableGutters"]})}),Ex=ve("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})(({ownerState:t})=>({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",...t.disableGutters&&{right:0}})),Sx=yf.component(function({allProps:e,otherProps:r,props:n}){const i=Au(),s=X({get disableGutters(){return!!i.disableGutters}},e),o=yf.useClasses(s);return y(Ex,X(r,{get class(){return de(o.root,r.class)},ownerState:s,get children(){return n.children}}))});function Cx(t){return ot("MuiListItem",t)}const qs=at("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Mx=Ce()({name:"MuiListItem",selfPropNames:["alignItems","autoFocus","children","classes","components","componentsProps","dense","disableGutters","disablePadding","divider","secondaryAction"],propDefaults:({set:t})=>t({component:"li",alignItems:"center",autoFocus:!1,components:{},componentsProps:{},dense:!1,disableGutters:!1,disablePadding:!1,divider:!1}),utilityClass:Cx,slotClasses:t=>({root:["root",t.dense&&"dense",!t.disableGutters&&"gutters",!t.disablePadding&&"padding",t.divider&&"divider",t.alignItems==="flex-start"&&"alignItemsFlexStart"],container:["container"]})}),kx=ve("div",{name:"MuiListItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.button&&e.button]}})(({theme:t,ownerState:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",...!e.disablePadding&&{paddingTop:8,paddingBottom:8,...e.dense&&{paddingTop:4,paddingBottom:4},...!e.disableGutters&&{paddingLeft:16,paddingRight:16},...!!e.secondaryAction&&{paddingRight:48}},...!!e.secondaryAction&&{[`& > .${fi.root}`]:{paddingRight:48}},[`&.${qs.focusVisible}`]:{backgroundColor:t.palette.action.focus},[`&.${qs.selected}`]:{backgroundColor:Pt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${qs.focusVisible}`]:{backgroundColor:Pt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${qs.disabled}`]:{opacity:t.palette.action.disabledOpacity},...e.alignItems==="flex-start"&&{alignItems:"flex-start"},...e.divider&&{borderBottom:`1px solid ${t.palette.divider}`,backgroundClip:"padding-box"}})),bf=Mx.component(function({allProps:e,classes:r,otherProps:n,props:i}){const s=qo(n),o=Au(),a={get dense(){return i.dense||o.dense||!1},get alignItems(){return i.alignItems},get disableGutters(){return i.disableGutters}};xt(()=>{i.autoFocus&&s.ref&&s.ref.focus()});const l=X(e,{get dense(){return a.dense}}),c=()=>i.components.Root||kx,h=()=>i.componentsProps.root||{},[,p]=Bi(X({get class(){return de(r.root,h().class,n.class)}},n),["component","ref"]);return y(ia.Provider,{value:a,get children(){return y(sl,X({get $component(){return c()},get as(){return n.component},ref:s,ownerState:l},()=>!dl(c())&&{ownerState:X(l,()=>h().ownerState||{})},p,{get children(){return[Se(()=>i.children),y(ne,{get when(){return i.secondaryAction},children:v=>y(Sx,{get children(){return v()}})})]}}))}})});function _x(t){return String(t).match(/[\d.\-+]*\s*(.*)/)?.[1]||""}function Ix(t){return parseFloat(t.toString())}function Tx(t){return ot("suidSkeleton",t)}at("suidSkeleton",["root","text","rectangular","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Nx=Ce()({name:"MuiSkeleton",selfPropNames:["animation","children","classes","height","variant","width"],propDefaults:({set:t})=>t({animation:"pulse",component:"span",variant:"text"}),utilityClass:Tx,slotClasses:t=>({root:["root",t.variant,t.animation,t.hasChildren&&"withChildren",t.hasChildren&&!t.width&&"fitContent",t.hasChildren&&!t.height&&"heightAuto"]})}),Rx=ve("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],r.animation!==!1&&e[r.animation],r.hasChildren&&e.withChildren,r.hasChildren&&!r.width&&e.fitContent,r.hasChildren&&!r.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const r=_x(t.shape.borderRadius)||"px",n=Ix(t.shape.borderRadius);return{display:"block",backgroundColor:Pt(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",...e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${r}/${Math.round(n/.6*10)/10}${r}`,"&:empty:before":{content:'"\\00a0"'}},...e.variant==="circular"&&{borderRadius:"50%"},...e.hasChildren&&{"& > *":{visibility:"hidden"}},...e.hasChildren&&!e.width&&{maxWidth:"fit-content"},...e.hasChildren&&!e.height&&{height:"auto"}}},({ownerState:t})=>t.animation==="pulse"&&{"@keyframes pulse-animation-$id":{0:{opacity:1},50:{opacity:.4},100:{opacity:1}},animation:"pulse-animation-$id 1.5s ease-in-out 0.5s infinite"},({ownerState:t,theme:e})=>t.animation==="wave"&&{position:"relative",overflow:"hidden","@keyframes wave-animation-$id":{0:{transform:"translateX(-100%)"},50:{transform:"translateX(100%)"},100:{transform:"translateX(100%)"}},"-webkit-mask-image":"-webkit-radial-gradient(white, black);","&::after":{animation:"wave-animation-$id 1.6s linear 0.5s infinite",background:`linear-gradient(90deg, transparent, ${e.palette.action.hover}, transparent)`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}),Nl=Nx.component(function({allProps:e,classes:r,otherProps:n,props:i}){const s=()=>typeof i.children>"u"?!1:Array.isArray(i.children)?!!i.children.length:!0,o=X(e,{get hasChildren(){return s()}});return y(Rx,X(n,{get class(){return de(r.root,n.class)},ownerState:o,get sx(){return{width:i.width,height:i.height,...n.sx||{}}}}))}),Px=Me('<a href="#"></a>'),_t=t=>{const e={green:"#4CAF50",yellow:"#FFEB3B",red:"#F44336"},r=y(Uh,{sx:{minWidth:275},get children(){return y(Hh,{sx:{textAlign:"left"},get children(){return[y(be,{sx:{display:"flex",alignItems:"center"},get children(){return[y(ne,{get when(){return t.status},get children(){return y(be,{get sx(){return{width:10,height:10,borderRadius:"50%",backgroundColor:e[t.status],marginRight:1}}})}}),y(Z,{variant:"h6",component:"div",get children(){return t.label}}),y(ne,{get when(){return t.link},keyed:!0,children:n=>y(Z,{variant:"body2",component:"div",sx:{flexGrow:1,textAlign:"right"},get children(){const i=Px.cloneNode(!0);return i.$$click=()=>n.onClick(t),Zr(i,()=>n.text),i}})})]}}),y(ne,{get when(){return t.value},get fallback(){return y(Nl,{variant:"text"})},get children(){return y(Z,{style:{},variant:"code",get children(){return t.value}})}})]}})}});return t.grid?y(hr,{item:!0,children:r}):r};Ms(["click"]);const vf="0x603a600e3d39601a805130553df3363d3d373d3d3d363d30545af43d82803e903d91601857fd5bf3",zh={[1]:{version:1,factory:"0xf9D09D634Fb818b05149329C1dcCFAeA53639d96",mainModule:"0xd01F11855bCcb95f88D7A48492F66410d4637313",mainModuleUpgradable:"0x7EFE6cE415956c5f80C6530cC6cc81b4808F6118",guestModule:"0x02390F3E6E5FD1C6786CB78FD3027C117a9955A7",walletCreationCode:vf},[2]:{version:2,factory:"0xFaA5c0b14d1bED5C888Ca655B9a8A5911F78eF4A",mainModule:"0xfBf8f1A5E00034762D928f46d438B947f5d4065d",mainModuleUpgradable:"0x4222dcA3974E39A8b41c411FeDDE9b09Ae14b911",guestModule:"0xfea230Ee243f88BC698dD8f1aE93F8301B6cdfaE",walletCreationCode:vf}},rs=2;function Io(t){return!t||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}const To=(t,e,r=null)=>{const s=ue(_r.encode(["uint256","string"],[t,e]));let o=parseInt(s.slice(2,10),16)%(256-210)+210;for(;Math.abs(o-t)<10||r!==null&&Math.abs(o-r)<10;)o=o+10,o>255&&(o=o-255+210);return o};function Rl(t){if(!t)return{address:""};if(!t.includes("#"))return{address:t};const[e,r]=t.split("#");return{address:e,selected:r}}function Ox(t,e){return e?`${t}#${e}`:t}const Bx=Wr();function Dx(t){return ot("MuiSvgIcon",t)}at("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Lx=Me("<title></title>"),$x=Ce()({name:"MuiSvgIcon",selfPropNames:["children","classes","color","fontSize","htmlColor","inheritViewBox","shapeRendering","titleAccess","viewBox"],propDefaults:({set:t})=>{const e=fr(Bx);return t({component:"svg",color:"inherit",get fontSize(){return e?.fontSize??"medium"},inheritViewBox:!1,viewBox:"0 0 24 24"})},utilityClass:Dx,slotClasses:t=>({root:["root",t.color!=="inherit"&&`color${he(t.color)}`,`fontSize${he(t.fontSize)}`]})}),Fx=ve("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${he(r.color)}`],e[`fontSize${he(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:t.transitions?.duration?.shorter}),fontSize:{inherit:"inherit",small:t.typography?.pxToRem?.(20)||"1.25rem",medium:t.typography?.pxToRem?.(24)||"1.5rem",large:t.typography?.pxToRem?.(35)||"2.1875"}[e.fontSize],color:t.palette?.[e.color]?.main??{action:t.palette?.action?.active,disabled:t.palette?.action?.disabled,inherit:void 0}[e.color]})),Ux=$x.component(function({allProps:e,props:r,otherProps:n,classes:i}){return y(Fx,X({get["aria-hidden"](){return r.titleAccess?void 0:!0},get role(){return r.titleAccess?"img":void 0},get viewBox(){return r.inheritViewBox?void 0:r.viewBox}},{focusable:"false"},{get color(){return r.htmlColor}},n,{get class(){return de(i.root,n.class)},ownerState:e,get children(){return[Se(()=>r.children),y(ne,{get when(){return r.titleAccess},children:s=>(()=>{const o=Lx.cloneNode(!0);return Zr(o,s),o})()})]}}))});function Eu(t,e){return n=>y(Ux,X({"data-testid":`${e}Icon`},n,{get children(){return t()}}))}const Hx=Me('<svg><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path></svg>',4,!0),zx=Eu(()=>Hx.cloneNode(!0),"ArrowDownward"),Gx=Me('<svg><path d="M0 0h24v24H0z" fill="none"></path></svg>',4,!0),Wx=Me('<svg><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"></path></svg>',4,!0),wf=Eu(()=>[Gx.cloneNode(!0),Wx.cloneNode(!0)],"Circle"),No=t=>y(_t,X(t,{link:{text:"[->]",onClick:n=>{Yr(n.value??"")}}})),Vx=Me('<svg><path d="M0 0h24v24H0z" fill="none"></path></svg>',4,!0),qx=Me('<svg><path d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"></path></svg>',4,!0),jx=Eu(()=>[Vx.cloneNode(!0),qx.cloneNode(!0)],"RotateLeft"),Kx=Me("<h3> details</h3>"),Jx=Me("<h3> presigned configurations</h3>"),js=Me('<a href="#">[->]</a>'),Yx=t=>{const e=fr(hl),r=()=>{const i=Rl(yc(e)());return t.store.networks.find(s=>s.chainId.toString()===i?.selected)},n=i=>{const s=Rl(yc(e)()),o=Ox(s?.address,i?.chainId?.toString());Hm(e)(o)};return y(be,{sx:{flexGrow:1},get children(){return[y(hr,{container:!0,spacing:2,get children(){return y(Fo,{get each(){return t.store.networks},children:i=>y(hr,{item:!0,xs:6,md:3,get children(){return y(Qx,{get selected(){return r()?.chainId===i.chainId},onExpand:()=>n(i),onClose:()=>n(void 0),network:i,get store(){return t.store}})}})})}}),y(ne,{get when(){return r()},get fallback(){return[]},keyed:!0,children:i=>y(Xx,{network:i,get store(){return t.store}})})]}})},Qx=t=>y(Uh,{get children(){return[y(Hh,{sx:{textAlign:"left"},get children(){return[y(Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Network"}),y(Z,{variant:"h5",component:"div",get children(){return Io(t.network.name)}}),y(ne,{get when(){return t.store.status(t.network.chainId)},get fallback(){return[y(Nl,{variant:"text",sx:{fontSize:"1rem"}}),y(Nl,{variant:"rectangular",height:120})]},keyed:!0,children:e=>[y(Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Image Hash"}),y(Z,{variant:"body2",noWrap:!0,get children(){return e.onChain.imageHash}}),y(Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Version"}),y(Z,{variant:"body2",get children(){return e.onChain.version}}),y(Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Deployed"}),y(Z,{variant:"body2",get children(){return e.onChain.deployed?"Yes":"No"}})]})]}}),y(ax,{get children(){return[y(ne,{get when(){return t.selected},get children(){return y(bo,{size:"small",onClick:()=>t.onClose(),children:"Close"})}}),y(ne,{get when(){return!t.selected},get children(){return y(bo,{size:"small",onClick:()=>t.onExpand(),children:"Select"})}})]}})]}}),Xx=t=>{ut();const e=n=>{const i=t.store.statusShort(t.network.chainId);return i?i?.presignedConfigurations.find(s=>s.nextImageHash===n.nextImageHash)===void 0:!1},r=n=>{const i=t.store.statusShort(t.network.chainId);if(!i)return;const s=i?.presignedConfigurations.find(o=>o.nextImageHash===n.nextImageHash)?.signature;if(s!==n.signature)return s};return xt(()=>{}),y(be,{sx:{flexGrow:1},get children(){return[y(ne,{get when(){return t.store.loading(t.network.chainId)},get children(){return y(xu,{})}}),y(ne,{get when(){return t.store.error(t.network.chainId)},keyed:!0,children:n=>y(Z,{variant:"h5",component:"div",get children(){return n.message}})}),y(ne,{get when(){return t.store.status(t.network.chainId)},keyed:!0,children:n=>[(()=>{const i=Kx.cloneNode(!0),s=i.firstChild;return Zr(i,()=>Io(t.network.name),s),i})(),y(hr,{container:!0,spacing:2,get children(){return[y(No,{grid:!0,label:"Image Hash (final)",get value(){return n.imageHash}}),y(No,{grid:!0,label:"Image Hash (onchain)",get value(){return n.onChain.imageHash}}),y(_t,{grid:!0,label:"Version",get value(){return n.version.toString()},get status(){return n.version===rs?"green":"yellow"}}),y(_t,{grid:!0,label:"Version (onchain)",get value(){return n.onChain.version.toString()},get status(){return n.onChain.version===rs?"green":"yellow"}}),y(_t,{grid:!0,label:"Fully migrated",get value(){return n.fullyMigrated?"Yes":"No"},get status(){return n.fullyMigrated?"green":"red"}}),y(_t,{grid:!0,label:"Deployed",get value(){return n.onChain.deployed?"Yes":"No"},get status(){return n.onChain.deployed?"green":"red"}}),y(_t,{grid:!0,label:"Can onchain validate (v2)",get value(){return n.canOnchainValidate?"Yes":"No"},get status(){return n.canOnchainValidate?"green":"red"}}),y(_t,{grid:!0,label:"Checkpoint (lazy)",get value(){return n.checkpoint.toString()}})]}}),(()=>{const i=Jx.cloneNode(!0),s=i.firstChild;return Zr(i,()=>Io(t.network.name),s),i})(),y(bx,{get children(){return[y(bf,{disableGutters:!0,get children(){return y(be,{sx:{display:"flex",alignItems:"center",marginBottom:2},get children(){return[y(wf,{fontSize:"large",style:{color:"blue "}}),y(be,{sx:{marginLeft:2},get children(){return[y(Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,get children(){return n.presignedConfigurations.length===0?"Initial Image hash":"Image hash"}}),y(Z,{variant:"code",noWrap:!0,get children(){return n.onChain.imageHash}}),y(Z,{variant:"code",ml:"0.5rem",get children(){const i=js.cloneNode(!0);return i.$$click=()=>Yr(n.onChain.imageHash),i}})]}})]}})}}),y(mf,{}),y(Fo,{get each(){return n.presignedConfigurations},children:(i,s)=>[y(bf,{disableGutters:!0,get children(){return y(be,{sx:{display:"flex",alignItems:"center",marginBottom:2},get children(){return[y(ne,{get when(){return s()!==n.presignedConfigurations.length-1},get fallback(){return y(wf,{fontSize:"large",style:{color:"green "}})},get children(){return y(ne,{get when(){return!e(i)},get fallback(){return y(jx,{style:{rotate:"220deg",color:"gray"},fontSize:"large"})},get children(){return y(zx,{fontSize:"large",style:{color:"orange"}})}})}}),y(be,{sx:{marginLeft:2},get children(){return[y(Z,{sx:{fontSize:14},color:"text.secondary",get children(){return Se(()=>s()!==n.presignedConfigurations.length-1)()?e(i)?"Skippable next image hash":"Next image hash":"Final image hash"}}),y(Z,{variant:"code",noWrap:!0,get children(){return i.nextImageHash}}),y(Z,{variant:"code",ml:"0.5rem",get children(){const o=js.cloneNode(!0);return o.$$click=()=>Yr(i.nextImageHash),o}}),y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Signature"}),y(Z,{variant:"code",style:{"overflow-wrap":"break-word"},flexWrap:"wrap",get children(){return i.signature}}),y(Z,{variant:"code",ml:"0.5rem",get children(){const o=js.cloneNode(!0);return o.$$click=()=>Yr(i.signature),o}}),y(ne,{get when(){return r(i)},keyed:!0,children:o=>[y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Skip signature"}),y(Z,{variant:"code",style:{"overflow-wrap":"break-word"},flexWrap:"wrap",children:o}),y(Z,{variant:"code",ml:"0.5rem",get children(){const a=js.cloneNode(!0);return a.$$click=()=>Yr(o),a}})]})]}})]}})}}),y(mf,{})]})]}})]})]}})};Ms(["click"]);const Zx=[{inputs:[{internalType:"bytes32",type:"bytes32"}],name:"getAlternativeSignature",outputs:[{internalType:"string",type:"string"}],stateMutability:"view",type:"function"}];var eA=Object.freeze({__proto__:null,abi:Zx});const tA=[{type:"function",name:"isValidSignature",constant:!0,inputs:[{type:"bytes32"},{type:"bytes"}],outputs:[{type:"bytes4"}],payable:!1,stateMutability:"view"}],rA={isValidSignatureBytes32:"0x1626ba7e"};var nA=Object.freeze({__proto__:null,abi:tA,returns:rA});const iA=[{type:"function",name:"deploy",constant:!1,inputs:[{type:"address"},{type:"bytes32"}],outputs:[],payable:!0,stateMutability:"payable"}];var sA=Object.freeze({__proto__:null,abi:iA});const oA=[{type:"function",name:"nonce",constant:!0,inputs:[],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"readNonce",constant:!0,inputs:[{type:"uint256"}],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"updateImplementation",constant:!1,inputs:[{type:"address"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"selfExecute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"execute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"},{type:"uint256"},{type:"bytes"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"createContract",inputs:[{type:"bytes"}],payable:!0,stateMutability:"payable"}];var aA=Object.freeze({__proto__:null,abi:oA});const lA=[{type:"function",name:"updateImageHash",constant:!0,inputs:[{type:"bytes32"}],outputs:[],payable:!1,stateMutability:"view"},{type:"function",name:"imageHash",constant:!0,inputs:[],outputs:[{type:"bytes32"}],payable:!1,stateMutability:"view"}];var uA=Object.freeze({__proto__:null,abi:lA});const cA=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_mainModule",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"_imageHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"_threshold",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_signers",type:"bytes"}],name:"RequiredConfig",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"address",name:"_signer",type:"address"}],name:"RequiredSigner",type:"event"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"callBlockhash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"callChainId",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCode",outputs:[{internalType:"bytes",name:"code",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeHash",outputs:[{internalType:"bytes32",name:"codeHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeSize",outputs:[{internalType:"uint256",name:"size",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callCoinbase",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callDifficulty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLeft",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callOrigin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"knownImageHashes",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"lastImageHashUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastSignerUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastWalletUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"delegateCall",type:"bool"},{internalType:"bool",name:"revertOnError",type:"bool"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IModuleCalls.Transaction[]",name:"_txs",type:"tuple[]"}],name:"multiCall",outputs:[{internalType:"bool[]",name:"_successes",type:"bool[]"},{internalType:"bytes[]",name:"_results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"},{components:[{internalType:"uint256",name:"weight",type:"uint256"},{internalType:"address",name:"signer",type:"address"}],internalType:"struct RequireUtils.Member[]",name:"_members",type:"tuple[]"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"uint256",name:"_sizeMembers",type:"uint256"},{internalType:"bytes",name:"_signature",type:"bytes"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishInitialSigners",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"requireMinNonce",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_expiration",type:"uint256"}],name:"requireNonExpired",outputs:[],stateMutability:"view",type:"function"}];var fA=Object.freeze({__proto__:null,abi:cA});const dA=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"requireFreshSigner",outputs:[],stateMutability:"nonpayable",type:"function"}];var hA=Object.freeze({__proto__:null,abi:dA});const tr={erc5719:eA,erc1271:nA,factory:sA,mainModule:aA,mainModuleUpgradable:uA,sequenceUtils:fA,requireFreshSigner:hA};function lr(){return lr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lr.apply(this,arguments)}var gA=Object.freeze({__proto__:null});function Os(t){return qn(["bytes","uint256","address","bytes32"],["0x1901",t.chainId,t.address,t.digest])}function Gh(t){return t.digest!==void 0&&t.chainId!==void 0&&t.address!==void 0}var pA=Object.freeze({__proto__:null,subdigestOf:Os,isSignedPayload:Gh});const mA="0x1626ba7e",yA=[{inputs:[{internalType:"bytes32",type:"bytes32"},{internalType:"bytes",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",type:"bytes4"}],stateMutability:"view",type:"function"}];async function Wh(t,e,r,n){return await new mu(t,yA,n).isValidSignature(e,r)===mA}var bA=Object.freeze({__proto__:null,isValidEIP1271Signature:Wh});let yn=function(t){return t[t.EIP712=1]="EIP712",t[t.ETH_SIGN=2]="ETH_SIGN",t[t.WALLET_BYTES32=3]="WALLET_BYTES32",t}({});function vA(t){const e=z(t),r=e[e.length-1];return r===yn.EIP712||r===yn.ETH_SIGN}function Bs(t,e){const r=z(e),n=z(t),i=r[r.length-1],s=L(r.slice(0,32)),o=L(r.slice(32,64)),a=R.from(r.slice(64,65)).toNumber(),l={r:s,s:o,v:a};if(i===yn.EIP712)return Co(n,l);if(i===yn.ETH_SIGN)return Co(Ib(n),l);throw new Error(`Unsupported signature type: ${i}`)}function Su(t,e,r,n){const i=z(r),s=i[i.length-1];if(s===yn.EIP712||s===yn.ETH_SIGN)return t===Bs(e,r);if(s===yn.WALLET_BYTES32)return Wh(t,L(e),i.slice(0,-1),n);throw new Error(`Unsupported signature type: ${s}`)}function wA(t,e){const r=z(e);if(r.length===66)try{return Bs(t,r)}catch{}}var xA=Object.freeze({__proto__:null,SigType:yn,canRecover:vA,recoverSigner:Bs,isValidSignature:Su,tryRecoverSigner:wA});let jn=function(t){return t[t.EOASignature=0]="EOASignature",t[t.Address=1]="Address",t[t.DynamicSignature=2]="DynamicSignature",t}({});function Cu(t){return t.address!==void 0&&!Vh(t)}function Vh(t){return t.signature!==void 0&&t.weight!==void 0&&t.isDynamic!==void 0}function qh(t){return t.threshold!==void 0&&t.signers!==void 0}function jh(t){const e=z(t),r=e[0]<<8|e[1],n=[];for(let i=2;i<e.length;){const s=e[i++],o=e[i++];switch(s){case jn.EOASignature:n.push({unrecovered:!0,weight:o,signature:L(e.slice(i,i+66)),isDynamic:!1}),i+=66;break;case jn.Address:n.push({weight:o,address:st(L(e.slice(i,i+20)))}),i+=20;break;case jn.DynamicSignature:const a=st(L(e.slice(i,i+20)));i+=20;const l=e[i]<<8|e[i+1];i+=2,n.push({unrecovered:!0,weight:o,signature:L(e.slice(i,i+l)),address:a,isDynamic:!0}),i+=l;break;default:throw new Error(`Unknown signature part type: ${s}`)}}return{version:1,threshold:r,signers:n}}function Mu(t){if(Qn(t))return L(t);const{signers:e,threshold:r}=qh(t)?t:t.config,n=e.map(i=>{if(Cu(i))return pe(["uint8","uint8","address"],[jn.Address,i.weight,i.address]);if(i.isDynamic){const s=z(i.signature);return pe(["uint8","uint8","address","uint16","bytes"],[jn.DynamicSignature,i.weight,i.address,s.length,s])}return pe(["uint8","uint8","bytes"],[jn.EOASignature,i.weight,i.signature])});return pe(["uint16",...new Array(n.length).fill("bytes")],[r,...n])}async function Kh(t,e,r){const n=Os(e),i=await Promise.all(t.signers.map(async s=>{if(Cu(s))return s;if(s.isDynamic){if(!s.address)throw new Error("Dynamic signature part must have address");if(!Su(s.address,n,s.signature,r))throw new Error(`Invalid dynamic signature part ${s.address}`);return{address:s.address,weight:s.weight,signature:s.signature}}else return{address:Bs(n,s.signature),weight:s.weight,signature:s.signature}}));return{version:1,payload:e,subdigest:n,config:{version:1,threshold:t.threshold,signers:i}}}function ns(t,e,r,n){if(r.length!==0)throw new Error("Explicit subdigests not supported on v1");let i=R.from(0);const s=t.signers.map(a=>{if(!e.has(a.address))return a;const l=e.get(a.address),c=z(l.signature);return i=i.add(a.weight),l.isDynamic||c.length!==66?lr({},a,{isDynamic:!0,signature:l.signature,address:a.address}):lr({},a,{isDynamic:!1,signature:l.signature})});return{encoded:Mu({version:1,threshold:t.threshold,signers:s}),weight:i}}const ku={decode:t=>jh(t),encode:t=>Mu(t),supportsNoChainId:!0,recover:(t,e,r)=>Kh(t,e,r),encodeSigners:(t,e,r,n)=>ns(t,e,r),hasEnoughSigningPower:(t,e)=>{const{weight:r}=ku.encodeSigners(t,e,[],0);return r.gte(t.threshold)},chainSignatures:(t,e)=>{throw new Error("Signature chaining not supported on v1")},hashSetImageHash:function(t){throw new Error("Image hash not supported on v1")},signaturesOf(t){return t.signers.filter(e=>e.signature!==void 0).map(e=>({address:e.address,signature:e.signature}))},signaturesOfDecoded:function(t){return t.signers.map(e=>e.signature).filter(e=>e!==void 0)}};var AA=Object.freeze({__proto__:null,SignaturePartType:jn,isAddressMember:Cu,isUnrecoveredSignatureMember:Vh,isUnrecoveredSignature:qh,decodeSignature:jh,encodeSignature:Mu,recoverSignature:Kh,encodeSigners:ns,SignatureCoder:ku});const _u={isWalletConfig:t=>t.version===1&&t.threshold!==void 0&&t.signers!==void 0,imageHashOf:t=>t.signers.reduce((e,r)=>ue(_r.encode(["bytes32","uint8","address"],[e,r.weight,r.address])),pe(["uint256"],[t.threshold])),hasSubdigest:(t,e)=>!1,isComplete:t=>!0,checkpointOf:t=>R.from(0),signersOf:t=>t.signers.map(e=>({address:e.address,weight:R.from(e.weight).toNumber()})),fromSimple:t=>{if(!ht.eq(t.checkpoint))throw new Error("v1 wallet config does not support checkpoint");return{version:1,threshold:t.threshold,signers:t.signers}},update:{isKindUsed:!0,buildTransaction:(t,e,r,n)=>{const i=new Ir([...tr.mainModule.abi,...tr.mainModuleUpgradable.abi]),s=[];return(!n||n==="first")&&s.push({to:t,data:i.encodeFunctionData(i.getFunction("updateImplementation"),[r.mainModuleUpgradable]),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}),s.push({to:t,data:i.encodeFunctionData(i.getFunction("updateImageHash"),[_u.imageHashOf(e)]),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}),{entrypoint:t,transactions:s}},decodeTransaction:function(t){throw new Error("Function not implemented.")}},toJSON:function(t){const e=t.signers.map(r=>({weight:R.from(r.weight).toString(),address:r.address}));return JSON.stringify({version:t.version,threshold:R.from(t.threshold).toString(),signers:e})},fromJSON:function(t){const e=JSON.parse(t),r=e.signers.map(n=>({weight:R.from(n.weight),address:n.address}));return{version:e.version,threshold:R.from(e.threshold),signers:r}},editConfig:function(t,e){var r;const n=t.signers.slice();if(e.checkpoint&&!ht.eq(e.checkpoint))throw new Error("v1 wallet config does not support checkpoint");if(e.add)for(const i of e.add)n.find(s=>s.address===i.address)||n.push({weight:i.weight,address:i.address});if(e.remove)for(const i of e.remove){const s=n.findIndex(o=>o.address===i);s>=0&&n.splice(s,1)}return{version:t.version,threshold:(r=e.threshold)!=null?r:t.threshold,signers:n}},buildStubSignature:function(t,e){const r=new Map;for(const[i,s]of e.entries()){r.set(i,{signature:s,isDynamic:!0});const{encoded:o,weight:a}=ns(t,r,[]);if(a.gte(t.threshold))return o}const n=t.signers;for(const{address:i}of n.sort(({weight:s},{weight:o})=>R.from(s).sub(o).toNumber())){const s="0x4e82f02f388a12b5f9d29eaf2452dd040c0ee5804b4e504b4dd64e396c6c781f2c7624195acba242dd825bfd25a290912e3c230841fd55c9a734c4de8d9899451b02";r.set(i,{signature:s,isDynamic:!1});const{encoded:o,weight:a}=ns(t,r,[]);if(a.gte(t.threshold))return o}return ns(t,r,[]).encoded}};var EA=Object.freeze({__proto__:null,ConfigCoder:_u});const SA=1;var mn=Object.freeze({__proto__:null,config:EA,signature:AA,version:SA});const Iu="0x8713a7c4465f6fbee2b6e9d6646d1d9f83fec929edfc4baf661f3c865bdd04d1";function Jh(t){return ue(Yh(t))}function Yh(t){return pe(["bytes32","bytes32"],[Iu,t])}function Qh(t){const e=z(t);if(e.length===64&&L(e.slice(0,32))===Iu)return L(e.slice(32,64))}function CA(t){return Qh(t)!==void 0}var MA=Object.freeze({__proto__:null,SetImageHashPrefix:Iu,hashSetImageHash:Jh,messageSetImageHash:Yh,decodeMessageSetImageHash:Qh,isMessageSetImageHash:CA});let Rt=function(t){return t[t.Legacy=0]="Legacy",t[t.Dynamic=1]="Dynamic",t[t.NoChainIdDynamic=2]="NoChainIdDynamic",t[t.Chained=3]="Chained",t}({}),yt=function(t){return t[t.Signature=0]="Signature",t[t.Address=1]="Address",t[t.DynamicSignature=2]="DynamicSignature",t[t.Node=3]="Node",t[t.Branch=4]="Branch",t[t.Subdigest=5]="Subdigest",t[t.Nested=6]="Nested",t}({});const Ro=66;function As(t){return t.left!==void 0&&t.right!==void 0}function sa(t){return t.tree!==void 0}function oa(t){return t.unrecovered&&t.signature!==void 0&&t.isDynamic!==void 0}function Po(t){let e=z(t),r;const n=(i,s)=>i?i.right?{left:i,right:s}:{left:i.left,right:s}:{left:s};for(;e.length>0;){const i=e[0];switch(e=e.slice(1),i){case yt.Signature:{const s=e[0],o=L(e.slice(1,Ro+1));r=n(r,{signature:o,weight:s,unrecovered:!0,isDynamic:!1}),e=e.slice(Ro+1)}break;case yt.Address:{const s=e[0],o=st(L(e.slice(1,21)));r=n(r,{address:o,weight:s}),e=e.slice(21)}break;case yt.DynamicSignature:{const s=e[0],o=st(L(e.slice(1,21))),a=e[21]<<16|e[22]<<8|e[23],l=L(e.slice(24,24+a));r=n(r,{address:o,signature:l,weight:s,unrecovered:!0,isDynamic:!0}),e=e.slice(24+a)}break;case yt.Node:{const s=L(e.slice(0,32));r=n(r,{nodeHash:s}),e=e.slice(32)}break;case yt.Branch:{const s=e[0]<<16|e[1]<<8|e[2],o=Po(e.slice(3,3+s));r=n(r,o),e=e.slice(3+s)}break;case yt.Subdigest:{const s=L(e.slice(0,32));r=n(r,{subdigest:s}),e=e.slice(32)}break;case yt.Nested:{const s=e[0],o=e[1]<<8|e[2],a=e[3]<<16|e[4]<<8|e[5],l=Po(e.slice(6,6+a));r=n(r,{weight:s,threshold:o,tree:l}),e=e.slice(6+a)}break;default:throw new Error(`Unknown signature part type: ${i}: ${L(e)}`)}}if(!r)throw new Error("Empty signature tree");return r.right?r:r.left}class Xh extends Error{constructor(e){super(`Invalid signature leaf: ${JSON.stringify(e)}`),this.leaf=e}}async function is(t,e,r){if(As(t)){const[n,i]=await Promise.all([is(t.left,e,r),is(t.right,e,r)]);return{left:n,right:i}}if(sa(t))return{weight:t.weight,threshold:t.threshold,tree:await is(t.tree,e,r)};if(oa(t))if(t.isDynamic){if(!t.address)throw new Error("Dynamic signature leaf without address");if(!await Su(t.address,e,t.signature,r))throw new Xh(t);return{weight:t.weight,address:t.address,signature:t.signature,subdigest:e}}else return{weight:t.weight,address:Bs(e,t.signature),signature:t.signature,subdigest:e};return t}const Ft={concat:(t,e)=>pe(["bytes","bytes"],[t,e]),node:t=>pe(["uint8","bytes32"],[yt.Node,t]),branch:t=>{const e=z(t);return pe(["uint8","uint24","bytes"],[yt.Branch,e.length,e])},nested:(t,e,r)=>{const n=z(r);return pe(["uint8","uint8","uint16","uint24","bytes"],[yt.Nested,t,e,n.length,n])},subdigest:t=>pe(["uint8","bytes32"],[yt.Subdigest,t]),signature:(t,e)=>pe(["uint8","uint8","bytes"],[yt.Signature,t,e]),dynamicSignature:(t,e,r)=>{const n=z(r);return pe(["uint8","uint8","address","uint24","bytes"],[yt.DynamicSignature,t,e,n.length,n])},address:(t,e)=>pe(["uint8","uint8","address"],[yt.Address,t,e])};function ss(t,e,r,n,i={}){const s=os(t.tree,e,r,i);return R.from(n).isZero()?{encoded:pe(["uint8","uint16","uint32","bytes"],[Rt.NoChainIdDynamic,t.threshold,t.checkpoint,s.encoded]),weight:s.weight}:t.threshold>255?{encoded:pe(["uint8","uint16","uint32","bytes"],[Rt.Dynamic,t.threshold,t.checkpoint,s.encoded]),weight:s.weight}:{encoded:pe(["uint8","uint8","uint32","bytes"],[Rt.Legacy,t.threshold,t.checkpoint,s.encoded]),weight:s.weight}}function os(t,e,r,n={}){const i=!n.disableTrim;if(Nr(t)){const s=os(t.left,e,r),o=os(t.right,e,r);return i&&s.weight.eq(0)&&o.weight.eq(0)?{encoded:Ft.node(Mr(t)),weight:ht}:i&&o.weight.eq(0)?{encoded:Ft.concat(s.encoded,Ft.node(Mr(t.right))),weight:s.weight}:i&&s.weight.eq(0)?{encoded:Ft.concat(Ft.node(Mr(t.left)),Ft.branch(o.encoded)),weight:o.weight}:{encoded:Ft.concat(s.encoded,Ft.branch(o.encoded)),weight:s.weight.add(o.weight)}}if(on(t)){const s=os(t.tree,e,r);return i&&s.weight.eq(0)?{encoded:Ft.node(Mr(t)),weight:ht}:{encoded:Ft.nested(t.weight,t.threshold,s.encoded),weight:s.weight}}if(An(t))return{encoded:Ft.node(Mr(t)),weight:ht};if(si(t)){const s=r.includes(t.subdigest);return{encoded:Ft.node(Mr(t)),weight:s?Fd:ht}}if(gr(t))if(e.has(t.address)){const o=e.get(t.address),a=o.signature;return n.forceDynamicEncoding||o.isDynamic?{encoded:Ft.dynamicSignature(t.weight,t.address,a),weight:R.from(t.weight)}:{encoded:Ft.signature(t.weight,a),weight:R.from(t.weight)}}else return{encoded:Ft.address(t.weight,t.address),weight:ht};throw new Error(`Invalid topology - unknown error: ${JSON.stringify(t)}`)}function Tu(t){return Ru(t)?Tu(t.suffix[t.suffix.length-1]):t.config}function Nu(t){return t.type!==void 0&&t.decoded!==void 0&&t.version!==void 0&&t.version===2}function aa(t){return t.suffix!==void 0&&Array.isArray(t.suffix)&&t.suffix.every(Nu)}function Zh(t){return t.type!==void 0&&t.config!==void 0&&t.digest!==void 0&&t.version!==void 0&&t.version===2}function Ru(t){return t.chain!==void 0&&Array.isArray(t.chain)&&t.chain.every(Zh)}function Pu(t){const e=z(t),r=e[0];switch(r){case Rt.Legacy:return{version:2,type:Rt.Legacy,decoded:so(e)};case Rt.Dynamic:return{version:2,type:Rt.Dynamic,decoded:so(e.slice(1))};case Rt.NoChainIdDynamic:return{version:2,type:Rt.NoChainIdDynamic,decoded:so(e.slice(1))};case Rt.Chained:return eg(e);default:throw new Error(`Invalid signature type: ${r}`)}}function so(t){const e=z(t),r=e[0]<<8|e[1],n=e[2]<<24|e[3]<<16|e[4]<<8|e[5],i=Po(e.slice(6));return{threshold:r,checkpoint:n,tree:i}}function eg(t){const e=z(t),r=e[0];if(r!==Rt.Chained)throw new Error(`Expected chained signature type: ${r}`);const n=[];let i=1;for(;i<e.length;){const a=e[i]<<16|e[i+1]<<8|e[i+2];i+=3;const l=Pu(e.slice(i,i+a));n.push(l),i+=a}const s=n[0];if(aa(s))throw new Error("Expected first link of chained signature to be a simple signature (not chained)");const o=n.slice(1);return lr({},s,{suffix:o})}function tg(t){return pe(["bytes32","bytes32"],[qn(["string"],["SetImageHash(bytes32 imageHash)"]),t])}async function Ou(t,e,r){const n=e.subdigest===void 0?e:void 0;t.type===Rt.NoChainIdDynamic&&n&&(n.chainId=0);const s=n?Os(n):e.subdigest;if(!aa(t)){const h=await is(t.decoded.tree,s,r);return{version:2,type:t.type,subdigest:s,config:lr({version:2},t.decoded,{tree:h})}}if(!Gh(n))throw new Error("Chained signature recovery requires detailed signed payload, subdigest is not enough");const o=[];let a=n;for(const h of[lr({},t,{suffix:void 0}),...t.suffix]){const p=await Ou(h,a,r);o.unshift(p);const v=tg(Lu(Tu(p)));a=lr({},a,{message:v,digest:ue(v)})}const l=o[0],c=o.slice(1);return lr({},l,{suffix:c})}function Bu(t,e){const n=[t,...e||[]].map(s=>z(Kn(s))),i=pe(n.map(()=>["uint24","bytes"]).flat(),n.map(s=>[s.length,s]).flat());return pe(["uint8","bytes"],[Rt.Chained,i])}function Kn(t){if(Qn(t))return L(t);if(aa(t)||Ru(t))return Bu(Kn(t),(t.suffix||[]).map(Kn));const e=Nu(t)?t.decoded:t.config;switch(t.type){case Rt.Legacy:if(e.threshold>255)throw new Error(`Legacy signature threshold is too large: ${e.threshold} (max 255)`);return Pl(e);case Rt.NoChainIdDynamic:case Rt.Dynamic:return pe(["uint8","bytes"],[t.type,Pl(e)]);case Rt.Chained:throw new Error("Unreachable code: Chained signature should be handled above");default:throw new Error(`Invalid signature type: ${t.type}`)}}function Pl(t){return pe(["uint16","uint32","bytes"],[t.threshold,t.checkpoint,as(t.tree)])}function as(t){if(Nr(t)||As(t)){const e=z(as(t.right)),r=z(as(t.left));return Nr(t.right)||As(t.right)?pe(["bytes","uint8","uint24","bytes"],[r,yt.Branch,e.length,e]):pe(["bytes","bytes"],[r,e])}if(on(t)||sa(t)){const e=z(as(t.tree));return pe(["uint8","uint8","uint16","uint24","bytes"],[yt.Nested,t.weight,t.threshold,e.length,e])}if(oa(t)||gr(t)&&t.signature!==void 0){const e=z(t.signature);if(t.isDynamic||e.length!==Ro){if(!t.address)throw new Error("Dynamic signature leaf must have address");return pe(["uint8","uint8","address","uint24","bytes"],[yt.DynamicSignature,t.weight,t.address,e.length,e])}else return pe(["uint8","uint8","bytes"],[yt.Signature,t.weight,e])}if(gr(t))return pe(["uint8","uint8","address"],[yt.Address,t.weight,t.address]);if(An(t))return pe(["uint8","bytes32"],[yt.Node,t.nodeHash]);if(si(t))return pe(["uint8","bytes32"],[yt.Subdigest,t.subdigest]);throw new Error(`Unknown signature tree type: ${t}`)}function ls(t){return Nr(t)?[...ls(t.left),...ls(t.right)]:on(t)?ls(t.tree):gr(t)&&t.signature?[{address:t.address,signature:t.signature}]:[]}function us(t){return As(t)?[...us(t.left),...us(t.right)]:sa(t)?us(t.tree):oa(t)?[t.signature]:[]}const la={decode:t=>Pu(t),encode:t=>Kn(t),supportsNoChainId:!0,recover:(t,e,r)=>Ou(t,e,r),encodeSigners:(t,e,r,n)=>ss(t,e,r,n),hasEnoughSigningPower:(t,e)=>{const{weight:r}=la.encodeSigners(t,e,[],0);return r.gte(t.threshold)},chainSignatures:(t,e)=>{const r=e.reverse(),n=Qn(t)?t:Kn(t),i=r.map(s=>Qn(s)?s:Kn(s));return Bu(n,i)},hashSetImageHash:function(t){return Jh(t)},signaturesOf(t){return ls(t.tree)},signaturesOfDecoded:function(t){return us(t.decoded.tree)}};var kA=Object.freeze({__proto__:null,SignatureType:Rt,SignaturePartType:yt,SignaturePartTypeLength:Ro,isUnrecoveredNode:As,isUnrecoveredNestedLeaf:sa,isUnrecoveredSignatureLeaf:oa,decodeSignatureTree:Po,InvalidSignatureLeafError:Xh,recoverTopology:is,partEncoder:Ft,encodeSigners:ss,encodeTree:os,deepestConfigOfSignature:Tu,isUnrecoveredSignature:Nu,isUnrecoveredChainedSignature:aa,isSignature:Zh,isChainedSignature:Ru,decodeSignature:Pu,decodeSignatureBody:so,decodeChainedSignature:eg,setImageHashStruct:tg,recoverSignature:Ou,encodeChain:Bu,encodeSignature:Kn,encodeSignatureBody:Pl,encodeSignatureTree:as,signaturesOf:ls,signaturesOfDecoded:us,SignatureCoder:la});function gr(t){return t.address!==void 0&&t.weight!==void 0}function si(t){return t.subdigest!==void 0}function cs(t){return Nr(t)?JSON.stringify({left:cs(t.left),right:cs(t.right)}):on(t)?JSON.stringify({weight:R.from(t.weight).toString(),threshold:R.from(t.threshold).toString(),tree:cs(t.tree)}):gr(t)?JSON.stringify({address:t.address,weight:R.from(t.weight).toString()}):JSON.stringify(t)}function fs(t){const e=typeof t=="string"?JSON.parse(t):t;return e.left!==void 0&&e.right!==void 0?{left:fs(e.left),right:fs(e.right)}:e.weight!==void 0&&e.threshold!==void 0&&e.tree!==void 0?{weight:R.from(e.weight),threshold:R.from(e.threshold),tree:fs(e.tree)}:e.address!==void 0&&e.weight!==void 0?{address:e.address,weight:R.from(e.weight)}:e}function on(t){return t.tree!==void 0&&t.weight!==void 0&&t.threshold!==void 0}function An(t){return t.nodeHash!==void 0}function Du(t){return gr(t)||si(t)||on(t)||An(t)}function Nr(t){return t.left!==void 0&&t.right!==void 0}function _A(t){return Nr(t)||Du(t)}function Mr(t){if(gr(t))return pe(["uint96","address"],[t.weight,t.address]);if(si(t))return qn(["string","bytes32"],[`Sequence static digest:
`,t.subdigest]);if(on(t)){const e=Mr(t.tree);return qn(["string","bytes32","uint256","uint256"],[`Sequence nested config:
`,e,t.threshold,t.weight])}return An(t)?t.nodeHash:qn(["bytes32","bytes32"],[Mr(t.left),Mr(t.right)])}function IA(t){const e=[];let r=t;for(;!Du(r);)e.unshift(r.right),r=r.left;return e.unshift(r),e}function TA(t){return t.threshold!==void 0&&t.checkpoint!==void 0&&t.tree!==void 0&&t.version!==void 0&&t.version===2}function Lu(t){return qn(["bytes32","uint256"],[qn(["bytes32","uint256"],[Mr(t.tree),t.threshold]),t.checkpoint])}function rg(t){return t.threshold!==void 0&&t.weight!==void 0&&t.members!==void 0}function Ci(t){return gr(t)||si(t)?[t]:on(t)?[{threshold:t.threshold,weight:t.weight,members:Ci(t.tree)}]:An(t)?[]:[...Ci(t.left),...Ci(t.right)]}function Ol(t){return An(t)?!0:Nr(t)?Ol(t.left)||Ol(t.right):!1}function NA(t){return{threshold:t.threshold,checkpoint:t.checkpoint,members:Ci(t.tree)}}const ng=(t,e)=>t.map(r=>rg(r)?{tree:e(r.members),threshold:r.threshold,weight:r.weight}:r);function $u(t){if(t.length===0)throw new Error("Empty members array");return ng(t,$u).reduce((r,n)=>({left:r,right:n}))}function Fu(t){if(t.length===0)throw new Error("Empty members array");const e=ng(t,Fu);for(let r=e.length;r>1;r=r/2)for(let n=0;n<r/2;n++){const i=n*2,s=i+1;s>=r?e[n]=e[i]:e[n]={left:e[i],right:e[s]}}return e[0]}function Uu(t){return t.length>8?Fu(t):$u(t)}function ig(t,e=Uu){return{version:2,threshold:t.threshold,checkpoint:t.checkpoint,tree:e(t.members)}}function Oo(t,e){return si(t)?t.subdigest===e:Nr(t)?Oo(t.left,e)||Oo(t.right,e):!1}function Bl(t){const e=[t],r=new Set;for(;e.length>0;){const n=e.pop();on(n)?e.push(n.tree):Nr(n)?(e.push(n.left),e.push(n.right)):gr(n)&&r.add({address:n.address,weight:R.from(n.weight).toNumber()})}return Array.from(r)}function Bo(t){return Nr(t)?Bo(t.left)&&Bo(t.right):!An(t)}const ua={isWalletConfig:t=>t.version===2&&t.threshold!==void 0&&t.tree!==void 0,imageHashOf:t=>Lu(t),hasSubdigest:(t,e)=>Oo(t.tree,e),checkpointOf:t=>R.from(t.checkpoint),signersOf:t=>Bl(t.tree),fromSimple:t=>ig({threshold:t.threshold,checkpoint:t.checkpoint,members:t.signers.map(e=>({address:e.address,weight:e.weight}))}),isComplete:t=>Bo(t.tree),update:{isKindUsed:!0,buildTransaction:(t,e,r,n)=>{const i=new Ir(tr.mainModuleUpgradable.abi);return{entrypoint:t,transactions:[{to:t,data:i.encodeFunctionData(i.getFunction("updateImageHash"),[ua.imageHashOf(e)]),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}]}},decodeTransaction:function(t){var e,r,n,i;const s=new Ir(tr.mainModuleUpgradable.abi);if(t.transactions.length!==1)throw new Error("Invalid transaction bundle, expected 1 transaction");const o=t.transactions[0].data;if(!o)throw new Error("Invalid transaction bundle, expected data");const a=s.decodeFunctionData(s.getFunction("updateImageHash"),o);if(!a)throw new Error("Invalid transaction bundle, expected valid data");if(t.transactions[0].to!==t.entrypoint)throw new Error("Invalid transaction bundle, expected to be sent to entrypoint");if(t.transactions[0].delegateCall)throw new Error("Invalid transaction bundle, expected not to be a delegateCall");if(!t.transactions[0].revertOnError)throw new Error("Invalid transaction bundle, expected revertOnError");if(!ht.eq((e=(r=t.transactions[0])==null?void 0:r.value)!=null?e:0))throw new Error("Invalid transaction bundle, expected value to be 0");if(!ht.eq((n=(i=t.transactions[0])==null?void 0:i.gasLimit)!=null?n:0))throw new Error("Invalid transaction bundle, expected value to be 0");return{address:t.entrypoint,newImageHash:a[0],kind:void 0}}},toJSON:function(t){return JSON.stringify({version:t.version,threshold:R.from(t.threshold).toString(),checkpoint:R.from(t.checkpoint).toString(),tree:cs(t.tree)})},fromJSON:function(t){const e=JSON.parse(t);return{version:e.version,threshold:R.from(e.threshold),checkpoint:R.from(e.checkpoint),tree:fs(e.tree)}},editConfig:function(t,e){var r,n;const i=Ci(t.tree);if(e.add)for(const s of e.add)i.find(o=>gr(o)&&o.address===s.address)||i.push({address:s.address,weight:s.weight});if(e.remove)for(const s of e.remove){const o=i.findIndex(a=>gr(a)&&a.address===s);o>=0&&i.splice(o,1)}return{version:t.version,threshold:(r=e.threshold)!=null?r:t.threshold,checkpoint:(n=e.checkpoint)!=null?n:t.checkpoint,tree:Uu(i)}},buildStubSignature:function(t,e){const r=new Map;for(const[i,s]of e.entries()){r.set(i,{signature:s,isDynamic:!0});const{encoded:o,weight:a}=ss(t,r,[],0);if(a.gte(t.threshold))return o}const n=Bl(t.tree);for(const{address:i}of n.sort(({weight:s},{weight:o})=>s-o)){const s="0x4e82f02f388a12b5f9d29eaf2452dd040c0ee5804b4e504b4dd64e396c6c781f2c7624195acba242dd825bfd25a290912e3c230841fd55c9a734c4de8d9899451b02";r.set(i,{signature:s,isDynamic:!1});const{encoded:o,weight:a}=ss(t,r,[],0);if(a.gte(t.threshold))return o}return ss(t,r,[],0).encoded}};var RA=Object.freeze({__proto__:null,isSignerLeaf:gr,isSubdigestLeaf:si,topologyToJSON:cs,topologyFromJSON:fs,isNestedLeaf:on,isNodeLeaf:An,isLeaf:Du,isNode:Nr,isTopology:_A,hashNode:Mr,leftFace:IA,isWalletConfig:TA,imageHash:Lu,isSimpleNestedMember:rg,topologyToMembers:Ci,hasUnknownNodes:Ol,toSimpleWalletConfig:NA,legacyTopologyBuilder:$u,merkleTopologyBuilder:Fu,optimized2SignersTopologyBuilder:Uu,toWalletConfig:ig,hasSubdigest:Oo,signersOf:Bl,isComplete:Bo,ConfigCoder:ua}),PA=Object.freeze({__proto__:null});const OA={config:ua,signature:la},BA=2;var J=Object.freeze({__proto__:null,config:RA,signature:kA,context:PA,chained:MA,coders:OA,version:BA});function Dl(t,e){const r=ue(pe(["bytes","bytes32"],[t.walletCreationCode,gt(t.mainModule,32)])),n=ue(pe(["bytes1","address","bytes32","bytes32"],["0xff",t.factory,e,r]));return st(Dt(n,12))}async function sg(t,e,r,n,i,s){return(await Promise.all(e2.map(async a=>{try{const l=a.signature.SignatureCoder.decode(L(r)),c=await a.signature.SignatureCoder.recover(l,{address:t,digest:L(e),chainId:n},i),h=a.config.ConfigCoder.imageHashOf(c.config);if(Dl(s[a.version],h).toLowerCase()===t.toLowerCase())return!0;const v=await a.signature.SignatureCoder.recover(l,{address:t,digest:L(e),chainId:n},i),E=a.config.ConfigCoder.imageHashOf(v.config);return Dl(s[a.version],E).toLowerCase()===t.toLowerCase()}catch{}return!1}))).some(a=>a)}function DA(t){const e=Object.keys(t).length;for(let r=1;r<=e;r++){const n=t[r];if(!n||n.version!==r)return!1}return!0}function LA(t){const e=Object.keys(t).length;return t[e]}var $A=Object.freeze({__proto__:null,addressOf:Dl,isValidCounterfactual:sg,isValidVersionedContext:DA,latestContext:LA});const ca=`tuple(
  bool delegateCall,
  bool revertOnError,
  uint256 gasLimit,
  address target,
  uint256 value,
  bytes data
)[]`;function FA(t,e,r,n){return lr({},t,{chainId:r,intent:{id:n,wallet:e}})}function UA(t){return ue(_r.encode(["address","uint256","bytes32"],[t.intent.wallet,t.chainId,t.intent.id]))}function HA(t){const e=_r.decode(["uint256",ca],t);if(e.length!==2||!e[0]||!e[1])throw new Error("Invalid meta transaction data");return[e[0],e[1]]}function og(t,e){return _r.encode(["uint256",ca],[t,Es(e)])}function ag(t,e){return ue(og(t,e))}function zA(t,e,r,n){return Os({address:t,chainId:e,digest:ag(r,n)})}function GA(t,e,r){return Os({address:t,chainId:e,digest:ue(_r.encode(["string",ca],["guest:",Es(r)]))})}function lg(t,e){return e.map(r=>Hu(t,r))}function Hu(t,e){if(e.to)return{nonce:e.nonce,transaction:{delegateCall:!1,revertOnError:!1,gasLimit:e.gasLimit||0,to:e.to,value:e.value||0,data:e.data||"0x"}};{const r=new Ir(tr.mainModule.abi),n=r.encodeFunctionData(r.getFunction("createContract"),[e.data]);return{nonce:e.nonce,transaction:{delegateCall:!1,revertOnError:!1,gasLimit:e.gasLimit,to:t,value:e.value||0,data:n}}}}function fa(t){return t.delegateCall!==void 0||t.revertOnError!==void 0}function ug(t){return t.every(fa)}function Es(t){return t.map(e=>{var r;return{delegateCall:e.delegateCall===!0,revertOnError:e.revertOnError===!0,gasLimit:e.gasLimit!==void 0?e.gasLimit:ht,target:(r=e.to)!=null?r:Ld,value:e.value!==void 0?e.value:ht,data:e.data!==void 0?e.data:[]}})}function WA(t){return t.map(e=>({delegateCall:e.delegateCall,revertOnError:e.revertOnError,gasLimit:e.gasLimit,to:e.target,value:e.value,data:e.data}))}function VA(t,e){const r=R.from(t),n=R.from(e),i=$d.pow(R.from(96));if(!n.div(i).eq(ht))throw new Error("Space already encoded");return n.add(r.mul(i))}function qA(t){const e=R.from(t),r=$d.pow(R.from(96));return[e.div(r),e.mod(r)]}function jA(t,e){return Array.isArray(e)?ug(e)?e:lg(t,e).map(n=>n.transaction):fa(e)?[e]:[Hu(t,e).transaction]}function cg(t){return t!==void 0&&t.entrypoint!==void 0&&t.chainId!==void 0&&t.transactions!==void 0&&t.nonce!==void 0&&t.intent!==void 0&&t.intent.id!==void 0&&t.intent.wallet!==void 0&&Array.isArray(t.transactions)&&t.transactions.reduce((e,r)=>e&&fa(r),!0)}function fg(t){return t!==void 0&&t.signature!==void 0&&t.signature!==""&&cg(t)}function KA(t){const e=new Ir(tr.mainModule.abi);return e.encodeFunctionData(e.getFunction("execute"),fg(t)?[Es(t.transactions),t.nonce,t.signature]:[Es(t.transactions),0,[]])}const dg="0x61c2926c",hg=`tuple(
  bool delegateCall,
  bool revertOnError,
  uint256 gasLimit,
  address target,
  uint256 value,
  bytes data
)[]`,gg=(t,e)=>{const r=[],n=new Ir(tr.mainModule.abi);for(const i of e){const s=z(i.data||"0x");if(i.to===t&&L(s.slice(0,4))===dg){const o=s.slice(4),a=_r.decode([hg],o)[0];r.push(...a.map(l=>lr({},l,{to:l.target})))}else try{const o=n.decodeFunctionData("execute",s)[0],a=gg(t,o.map(l=>lr({},l,{to:l.target})));r.push(...a)}catch{r.push(i)}}return r};var JA=Object.freeze({__proto__:null,MetaTransactionsType:ca,intendTransactionBundle:FA,intendedTransactionID:UA,unpackMetaTransactionsData:HA,packMetaTransactionsData:og,digestOfTransactions:ag,subdigestOfTransactions:zA,subdigestOfGuestModuleTransactions:GA,toSequenceTransactions:lg,toSequenceTransaction:Hu,isSequenceTransaction:fa,hasSequenceTransactions:ug,sequenceTxAbiEncode:Es,fromTxAbiEncode:WA,encodeNonce:VA,decodeNonce:qA,fromTransactionish:jA,isTransactionBundle:cg,isSignedTransactionBundle:fg,encodeBundleExecData:KA,selfExecuteSelector:dg,selfExecuteAbi:hg,unwind:gg});class YA{constructor(e,r){this.isDeployedCache=new Set,this.provider=e,this.contexts=r}module(e){return new mu(e,[...tr.mainModuleUpgradable.abi,...tr.mainModule.abi,...tr.erc1271.abi],this.provider)}async isDeployed(e){if(this.isDeployedCache.has(e))return!0;const n=(await this.provider.getCode(e).then(i=>z(i))).length!==0;return n&&this.isDeployedCache.add(e),n}async implementation(e){const r=_r.encode(["address"],[e]),n=await this.provider.getStorageAt(e,r).then(i=>z(i));if(n.length===20)return st(L(n));if(n.length===32)return _r.decode(["address"],n)[0]}async imageHash(e){try{return await this.module(e).imageHash()}catch{}}async nonce(e,r=0){try{return await this.module(e).readNonce(r)}catch(n){if(!await this.isDeployed(e))return 0;throw n}}async isValidSignature(e,r,n){if(await this.isDeployed(e))return await this.module(e).isValidSignature(r,n)==="0x1626ba7e";if(this.contexts)return sg(e,r,n,await this.provider.getNetwork().then(s=>s.chainId),this.provider,this.contexts);throw new Error("Wallet must be deployed to validate signature, or context info must be provided")}}var QA=Object.freeze({__proto__:null,OnChainReader:YA});function XA(t){return t&&t.address&&t.digest&&t.chainId!==void 0&&t.config}var oe=Object.freeze({__proto__:null,config:gA,signature:pA,context:$A,signer:xA,EIP1271:bA,transaction:JA,reader:QA,isWalletSignRequestMetadata:XA});const Ll=[{config:_u,signature:ku},{config:ua,signature:la}];function pg(t){const e=t-1;if(e<0||e>=Ll.length)throw new Error(`No coder for version: ${t}`);return Ll[e]}function ZA(t){return pg(t)}var ur=Object.freeze({__proto__:null,ALL_CODERS:Ll,coderFor:pg,genericCoderFor:ZA});const e2=[mn,J];function t2(t,e,r){for(let n=0;n<r.length;n++)if(oe.context.addressOf(r[n],e)===t)return r[n].version;throw new Error("Could not find version for counterfactual address")}var r2=Object.freeze({__proto__:null,counterfactualVersion:t2});class n2{constructor(){this.version=2,this.configCoder=J.config.ConfigCoder,this.signatureCoder=J.signature.SignatureCoder}buildTransaction(e,r,n){if(!J.config.ConfigCoder.isWalletConfig(n)){const l=J.config.toWalletConfig({threshold:n.threshold,members:n.signers,checkpoint:0});return this.buildTransaction(e,r,l)}const i=r[2],s=new Ir(tr.mainModule.abi),o=J.config.ConfigCoder.update.buildTransaction(e,n,i,"first");return{tx:{entrypoint:e,nonce:oe.transaction.encodeNonce($l,0),transactions:[{to:e,value:0,gasLimit:0,revertOnError:!0,delegateCall:!1,data:s.encodeFunctionData(s.getFunction("updateImplementation"),[i.mainModuleUpgradable])},...o.transactions]},fromVersion:this.version-1,toVersion:this.version,toConfig:n}}decodeTransaction(e,r){const n=e.entrypoint;if(e.transactions.length<2)throw new Error("Invalid transaction bundle size");if(!e.nonce||!oe.transaction.encodeNonce($l,0).eq(e.nonce))throw new Error("Invalid transaction bundle nonce");if(e.transactions[0].to!==n||e.transactions[1].to!==n||e.transactions[0].delegateCall||e.transactions[1].delegateCall||!e.transactions[0].revertOnError||!e.transactions[1].revertOnError||e.transactions[0].value&&!ht.eq(e.transactions[0].value)||e.transactions[1].value&&!ht.eq(e.transactions[1].value)||e.transactions[0].gasLimit&&!ht.eq(e.transactions[0].gasLimit)||e.transactions[1].gasLimit&&!ht.eq(e.transactions[1].gasLimit))throw new Error("Invalid transaction bundle format");const i=r[2],s=new Ir(tr.mainModule.abi),o=L(e.transactions[0].data||[]),a=L(s.encodeFunctionData(s.getFunction("updateImplementation"),[i.mainModuleUpgradable]));if(o!==a)throw new Error("Invalid new implementation on transaction");const l=J.config.ConfigCoder.update.decodeTransaction({entrypoint:n,transactions:[e.transactions[1]]});if(l.address!==n)throw new Error("Invalid transaction bundle address");return l}}const $l="0xa04263acf755e8bd19c0d7e20eea39a9ff3729eb",mg=new n2;var i2=Object.freeze({__proto__:null,MIGRATION_NONCE_SPACE:$l,v1v2:mg});function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fl.apply(this,arguments)}function s2(t){for(const[e,r]of Object.entries(t))if(e!==String(r.version-1))throw new Error(`Migration with key ${e} has version ${r.version}, expected version to be key + 1`)}class o2{constructor(e,r,n){this.tracker=e,this.migrations=r,this.contexts=n,s2(r)}lastMigration(){let e;for(const r of Object.values(this.migrations))(e===void 0||r.version>e.version)&&(e=r);if(e===void 0)throw new Error("No migrations");return e}async getAllMigratePresignedTransaction(e){const{address:r,fromImageHash:n,fromVersion:i,chainId:s}=e;let o=n,a=i;const l=Object.values(this.contexts),c=[];for(let h=1;h<l.length;h++){const p=await this.tracker.getMigration(r,o,a,s);if(!p)return{signedMigrations:c,missing:!0,lastImageHash:o,lastVersion:a};c.push(p);const v=this.migrations[a];if(!v)throw new Error(`No migration found for version ${a}`);const E=v.decodeTransaction(p.tx,this.contexts);if(E.address!==r)throw new Error("Migration transaction address does not match expected address");o=E.newImageHash,a+=1}return{signedMigrations:c,missing:!1,lastImageHash:o,lastVersion:a}}async signNextMigration(e,r,n,i){const s=this.migrations[r];if(!s)return;const o=s.buildTransaction(e,this.contexts,i),a=await n.signTransactionBundle(o.tx);return Fl({},o,{tx:a})}}var xf=Object.freeze({__proto__:null,Migrator:o2});const a2={1:mg};var Af=Object.freeze({__proto__:null,DefaultMigrations:a2});const l2=(t,e,r)=>pe(["string","uint256","address","bytes32"],["",e,t,r]),Ef=(t,e,r)=>ue(l2(t,e,r));function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Do.apply(this,arguments)}var Er=function(t){return t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.DISABLED=5]="DISABLED",t}(Er||{});class u2{constructor(e){this.config=e,this.configure(e)}configure(e){switch(this.config=Do({},this.config,e),this.config.logLevel){case"DEBUG":this.logLevel=Er.DEBUG;break;case"INFO":this.logLevel=Er.INFO;break;case"WARN":this.logLevel=Er.WARN;break;case"ERROR":this.logLevel=Er.ERROR;break;case"DISABLED":this.logLevel=Er.DISABLED;break;default:this.logLevel=Er.INFO;break}this.config.silence===void 0&&(this.config.silence=!1)}debug(e,...r){this.config.silence!==!0&&this.logLevel===Er.DEBUG&&console.log(e,...r)}info(e,...r){this.config.silence!==!0&&this.logLevel<=Er.INFO&&console.log(e,...r)}warn(e,...r){this.config.silence!==!0&&this.logLevel<=Er.WARN&&(console.warn(e,...r),this.config.onwarn&&this.config.onwarn(e,r))}error(e,...r){this.config.silence!==!0&&this.logLevel<=Er.ERROR&&(console.error(e,...r),this.config.onerror&&this.config.onerror(e,r))}}const vr=new u2({logLevel:"INFO",silence:!0}),c2=t=>{const e=Do({},t.types);return delete e.EIP712Domain,jt.hash(t.domain,e,t.message)},f2=t=>z(c2(t));function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ul.apply(this,arguments)}R.from(8e5);let Gn=function(t){return t.UNKNOWN="UNKNOWN",t.DROPPED="DROPPED",t.QUEUED="QUEUED",t.SENT="SENT",t.SUCCEEDED="SUCCEEDED",t.PARTIALLY_FAILED="PARTIALLY_FAILED",t.FAILED="FAILED",t}({});class d2{constructor(e,r){this.path="/rpc/Relayer/",this.ping=n=>this.fetch(this.url("Ping"),Et({},n)).then(i=>St(i).then(s=>({status:s.status}))),this.version=n=>this.fetch(this.url("Version"),Et({},n)).then(i=>St(i).then(s=>({version:s.version}))),this.runtimeStatus=n=>this.fetch(this.url("RuntimeStatus"),Et({},n)).then(i=>St(i).then(s=>({status:s.status}))),this.getSequenceContext=n=>this.fetch(this.url("GetSequenceContext"),Et({},n)).then(i=>St(i).then(s=>({data:s.data}))),this.getChainID=n=>this.fetch(this.url("GetChainID"),Et({},n)).then(i=>St(i).then(s=>({chainID:s.chainID}))),this.sendMetaTxn=(n,i)=>this.fetch(this.url("SendMetaTxn"),Et(n,i)).then(s=>St(s).then(o=>({status:o.status,txnHash:o.txnHash}))),this.getMetaTxnNonce=(n,i)=>this.fetch(this.url("GetMetaTxnNonce"),Et(n,i)).then(s=>St(s).then(o=>({nonce:o.nonce}))),this.getMetaTxnReceipt=(n,i)=>this.fetch(this.url("GetMetaTxnReceipt"),Et(n,i)).then(s=>St(s).then(o=>({receipt:o.receipt}))),this.simulate=(n,i)=>this.fetch(this.url("Simulate"),Et(n,i)).then(s=>St(s).then(o=>({results:o.results}))),this.updateMetaTxnGasLimits=(n,i)=>this.fetch(this.url("UpdateMetaTxnGasLimits"),Et(n,i)).then(s=>St(s).then(o=>({payload:o.payload}))),this.feeTokens=n=>this.fetch(this.url("FeeTokens"),Et({},n)).then(i=>St(i).then(s=>({isFeeRequired:s.isFeeRequired,tokens:s.tokens}))),this.feeOptions=(n,i)=>this.fetch(this.url("FeeOptions"),Et(n,i)).then(s=>St(s).then(o=>({options:o.options,quote:o.quote}))),this.getMetaTxnNetworkFeeOptions=(n,i)=>this.fetch(this.url("GetMetaTxnNetworkFeeOptions"),Et(n,i)).then(s=>St(s).then(o=>({options:o.options}))),this.sentTransactions=(n,i)=>this.fetch(this.url("SentTransactions"),Et(n,i)).then(s=>St(s).then(o=>({page:o.page,transactions:o.transactions}))),this.pendingTransactions=(n,i)=>this.fetch(this.url("PendingTransactions"),Et(n,i)).then(s=>St(s).then(o=>({page:o.page,transactions:o.transactions}))),this.listGasSponsors=(n,i)=>this.fetch(this.url("ListGasSponsors"),Et(n,i)).then(s=>St(s).then(o=>({page:o.page,gasSponsors:o.gasSponsors}))),this.addGasSponsor=(n,i)=>this.fetch(this.url("AddGasSponsor"),Et(n,i)).then(s=>St(s).then(o=>({status:o.status,gasSponsor:o.gasSponsor}))),this.updateGasSponsor=(n,i)=>this.fetch(this.url("UpdateGasSponsor"),Et(n,i)).then(s=>St(s).then(o=>({status:o.status,gasSponsor:o.gasSponsor}))),this.reportGasSponsorUsage=(n,i)=>this.fetch(this.url("ReportGasSponsorUsage"),Et(n,i)).then(s=>St(s).then(o=>({gasSponsorUsage:o.gasSponsorUsage}))),this.hostname=e,this.fetch=(n,i)=>r(n,i)}url(e){return this.hostname+this.path+e}}const Et=(t={},e={})=>({method:"POST",headers:Ul({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{})}),St=t=>t.text().then(e=>{let r;try{r=JSON.parse(e)}catch{throw{code:"unknown",msg:`expecting JSON, got: ${e}`,status:t.status}}if(!t.ok)throw r;return r}),h2=[Gn.DROPPED,Gn.SUCCEEDED,Gn.PARTIALLY_FAILED,Gn.FAILED],g2=[Gn.DROPPED,Gn.PARTIALLY_FAILED,Gn.FAILED],p2=typeof global=="object"?global.fetch:window.fetch;class m2{constructor(e){this.service=new d2(e.url,p2),this.provider=Ns.isProvider(e.provider)?e.provider:new Dh(e.provider.url)}async waitReceipt(e,r=1e3,n=5,i){typeof e!="string"&&(e=oe.transaction.intendedTransactionID(e)),vr.info(`[rpc-relayer/waitReceipt] waiting for ${e}`);let s=0;for(;i===void 0||!i();){try{const{receipt:o}=await this.service.getMetaTxnReceipt({metaTxID:e});if(o&&o.txnReceipt&&o.txnReceipt!=="null"&&h2.includes(o.status))return{receipt:o}}catch(o){if(s++,s===n)throw o}(i===void 0||!i())&&await new Promise(o=>setTimeout(o,r))}throw new Error(`Cancelled waiting for transaction receipt ${e}`)}async simulate(e,...r){const i=_r.encode([oe.transaction.MetaTransactionsType],[oe.transaction.sequenceTxAbiEncode(r)]);return(await this.service.simulate({wallet:e,transactions:i})).results}async getFeeOptions(e,...r){const n=await this.service.feeTokens();if(n.isFeeRequired){const i=n.tokens.map(l=>l.symbol).join(", ");vr.info(`[rpc-relayer/getFeeOptions] relayer fees are required, accepted tokens are ${i}`);const s=await this.getNonce(e);if(!this.provider)throw vr.warn("[rpc-relayer/getFeeOptions] provider not set, needed for stub signature"),new Error("provider is not set");const{options:o,quote:a}=await this.service.feeOptions({wallet:e,to:e,data:oe.transaction.encodeBundleExecData({entrypoint:e,transactions:r,nonce:s})});return vr.info(`[rpc-relayer/getFeeOptions] got refund options ${JSON.stringify(o)}`),{options:o,quote:{_tag:"FeeQuote",_quote:a}}}else return vr.info("[rpc-relayer/getFeeOptions] relayer fees are not required"),{options:[]}}async getFeeOptionsRaw(e,r){const{options:n,quote:i}=await this.service.feeOptions({wallet:e,to:e,data:L(r)});return{options:n,quote:{_tag:"FeeQuote",_quote:i}}}async gasRefundOptions(e,...r){const{options:n}=await this.getFeeOptions(e,...r);return n}async getNonce(e,r){vr.info(`[rpc-relayer/getNonce] get nonce for wallet ${e} space: ${r}`);const n=r!==void 0?R.from(r).toHexString():void 0,i=await this.service.getMetaTxnNonce({walletContractAddress:e,space:n}),s=R.from(i.nonce),[o,a]=oe.transaction.decodeNonce(s);return vr.info(`[rpc-relayer/getNonce] got next nonce for wallet ${e} ${a} space: ${o}`),s}async relay(e,r,n=!0){var i=this;vr.info(`[rpc-relayer/relay] relaying signed meta-transactions ${JSON.stringify(e)} with quote ${JSON.stringify(r)}`);let s;if(r!==void 0&&(typeof r._quote=="string"?s=r._quote:vr.warn("[rpc-relayer/relay] ignoring invalid fee quote")),!this.provider)throw vr.warn("[rpc-relayer/relay] provider not set, failed relay"),new Error("provider is not set");const o=oe.transaction.encodeBundleExecData(e),a=await this.service.sendMetaTxn({call:{walletAddress:e.intent.wallet,contract:e.entrypoint,input:o},quote:s});if(vr.info(`[rpc-relayer/relay] got relay result ${JSON.stringify(a)}`),n)return this.wait(e.intent.id);{const l={hash:e.intent.id,confirmations:0,from:e.intent.wallet,wait:h=>Promise.reject(new Error("impossible"))},c=async function(p){var v;if(!i.provider)throw new Error("cannot wait for receipt, relayer has no provider set");const E=await i.wait(e.intent.id),C=(v=E.receipt)==null?void 0:v.transactionHash;if(!C)throw new Error("cannot wait for receipt, unknown native transaction hash");return Object.assign(l,E),i.provider.waitForTransaction(C,p)};return l.wait=c,l}}async wait(e,r,n=1e3,i=5){var s=this;let o=!1;const{receipt:a}=await(r!==void 0?Promise.race([this.waitReceipt(e,n,i,()=>o),new Promise((c,h)=>setTimeout(()=>{o=!0,h(`Timeout waiting for transaction receipt ${e}`)},r))]):this.waitReceipt(e,n,i));if(!a.txnReceipt||g2.includes(a.status))throw new y2(a);const l=JSON.parse(a.txnReceipt);return{blockHash:l.blockHash,blockNumber:R.from(l.blockNumber).toNumber(),confirmations:1,from:typeof e=="string"?void 0:e.intent.wallet,hash:l.transactionHash,raw:a.txnReceipt,receipt:l,wait:async function(c){return s.provider.waitForTransaction(l.transactionHash,c)}}}}class y2{constructor(e){this.receipt=e}}function b2(t){return typeof t=="object"&&typeof t.simulate=="function"&&typeof t.getFeeOptions=="function"&&typeof t.gasRefundOptions=="function"&&typeof t.getNonce=="function"&&typeof t.relay=="function"&&typeof t.wait=="function"}function v2(t){return t.requestSignature!==void 0&&t.notifyStatusChange!==void 0}class w2{constructor(e,r=!0){this.signer=e,this.eoa=r}getAddress(){return this.signer.getAddress()}async requestSignature(e,r,n,i){return i.onSignature(await this.signer.signMessage(r)),!0}notifyStatusChange(e,r,n){}suffix(){return[2]}}function x2(t){return t.rejected}function yg(t){return t.signature!==void 0}function A2(t){return!x2(t)&&!yg(t)}const E2="Initial";class zu{constructor(e,r=zu.randomTag()){this.observers=[],this.signers=[],this.count=0,this.tag=r,this.setSigners(e)}static randomTag(){return`default-${L(yu(8)).slice(2)}`}pullId(){return`${this.tag}-${this.count++}`}setSigners(e){this.signers=e.map(r=>v2(r)?r:new w2(r))}async getSigners(){return Promise.all(this.signers.map(async function(e){return e.getAddress()}))}subscribe(e){return this.observers.push(e),()=>{this.observers=this.observers.filter(r=>r!==e)}}async notifyObservers(e,r,n){await Promise.all([...this.signers.map(async function(i){return i.notifyStatusChange(e,r,n)}),...this.observers.map(async function(i){return i(r,n)})])}signMessage(e){var r=this;const n=this.pullId();return new Promise(async function(i){const{message:s,metadata:o,callback:a,candidates:l}=e,c={ended:!1,message:s,signers:{}};let h=o??{};const p=_=>{h=_,r.notifyObservers(n,c,h)},v=()=>{try{r.notifyObservers(n,c,h);const _=Object.entries(c.signers).filter(([D,k])=>A2(k));if(a&&a(c,p)||_.length===0){c.ended=!0,i(c),r.notifyObservers(n,c,h);return}}catch(_){console.error("Error while notifying observers",_)}};let E=r.signers;if(l){const _=await Promise.all(r.signers.map(async function(D){return D.getAddress()}));E=r.signers.filter((D,k)=>l.includes(_[k]))}const C=await Promise.allSettled(E.map(async function(_){const D=await _.getAddress();return c.signers[D]={situation:E2},_.requestSignature(n,s,o??{},{onSignature:k=>{const P=_.suffix();c.signers[D]={signature:k,suffix:P},v()},onRejection:k=>{c.signers[D]={rejected:!0,error:k},v()},onStatus:k=>{c.signers[D]={situation:k},v()}})}));for(let _=0;_<C.length;_++){const D=r.signers[_],k=C[_];if(k.status==="rejected"||k.value===!1){const P=k;console.warn(`Signer ${await D.getAddress()} rejected the request ${P.reason}`),c.signers[await D.getAddress()]={rejected:!0,error:P.reason.toString()}}}v()})}}function Fn(){return Fn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fn.apply(this,arguments)}async function Sf(t){return Array.isArray(t)?Promise.all(t.map(e=>mt(e))):mt(t)}const Cf=t=>{const e=new Map;for(const r of Object.keys(t.signers)){const n=t.signers[r];if(yg(n)){const i=z(n.suffix),s=pe(["bytes","bytes"],[n.signature,i]);e.set(r,{signature:s,isDynamic:i.length!==1||i[0]!==2})}}return e};class Ss extends Qo{constructor(e){if(ht.eq(e.chainId)&&!e.coders.signature.supportsNoChainId)throw new Error(`Sequence version ${e.config.version} doesn't support chainId 0`);super(),this.context=e.context,this.config=e.config,this.orchestrator=e.orchestrator,this.coders=e.coders,this.address=e.address,this.chainId=e.chainId,this.provider=e.provider,this.relayer=e.relayer,this._reader=e.reader}static newWallet(e){const r=oe.context.addressOf(e.context,e.coders.config.imageHashOf(e.config));return new Ss(Fn({},e,{address:r}))}reader(){if(this._reader)return this._reader;if(!this.provider)throw new Error("Wallet status provider requires a provider");return new oe.reader.OnChainReader(this.provider)}setConfig(e){this.config=e}setOrchestrator(e){this.orchestrator=e}setAddress(e){this.address=e}getSigners(){return this.orchestrator.getSigners()}async getAddress(){return this.address}async decorateTransactions(e){if(await this.reader().isDeployed(this.address))return e;const r=this.buildDeployTransaction();return{entrypoint:this.context.guestModule,chainId:this.chainId,intent:e.intent,transactions:[...r.transactions,{to:e.entrypoint,data:oe.transaction.encodeBundleExecData(e),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}]}}buildDeployTransaction(){const e=this.coders.config.imageHashOf(this.config);if(oe.context.addressOf(this.context,e)!==this.address)throw new Error(`First address of config ${e} doesn't match wallet address ${this.address}`);return Ss.buildDeployTransaction(this.context,e)}deploy(){const e=this.buildDeployTransaction();if(!this.relayer)throw new Error("Wallet deploy requires a relayer");return this.relayer.relay(Fn({},e,{chainId:this.chainId,intent:{id:L(yu(32)),wallet:this.address}}))}static buildDeployTransaction(e,r){const n=new Ir(tr.factory.abi);return{entrypoint:e.guestModule,transactions:[{to:e.factory,data:n.encodeFunctionData(n.getFunction("deploy"),[e.mainModule,r]),gasLimit:1e5,delegateCall:!1,revertOnError:!0,value:0}]}}async buildUpdateConfigurationTransaction(e){if(this.coders.config.update.isKindUsed){const r=await this.reader().implementation(this.address),n=r&&r===this.context.mainModuleUpgradable;return this.coders.config.update.buildTransaction(this.address,e,this.context,n?"later":"first")}return this.coders.config.update.buildTransaction(this.address,e,this.context)}async signDigest(e,r){const n=Ef(this.address,this.chainId,e);if(this.coders.config.hasSubdigest(this.config,n))return this.coders.signature.encodeSigners(this.config,new Map,[n],this.chainId).encoded;const i=Fn({digest:e,chainId:this.chainId,address:this.address,config:this.config},r),s=z(n),o=await this.orchestrator.signMessage({candidates:this.coders.config.signersOf(this.config).map(l=>l.address),message:s,metadata:i,callback:(l,c)=>{const h=Cf(l),p=Fn({},i,{parts:h});return c(p),this.coders.signature.hasEnoughSigningPower(this.config,h)}}),a=Cf(o);return this.coders.signature.encodeSigners(this.config,a,[],this.chainId).encoded}signMessage(e){return this.signDigest(ue(e),{message:e})}signTransactionBundle(e){if(e.entrypoint!==this.address)throw new Error(`Invalid entrypoint: ${e.entrypoint} !== ${this.address}`);return this.signTransactions(e.transactions,e.nonce)}async signTransactions(e,r){const n=await Sf(e),i=oe.transaction.fromTransactionish(this.address,n);i.length===0&&i.push({to:this.address,data:"0x",value:0,gasLimit:0,delegateCall:!1,revertOnError:!0});let s=r;if(s===void 0&&(s=await this.reader().nonce(this.address,0),s===void 0))throw new Error("Unable to determine nonce");const o=oe.transaction.digestOfTransactions(s,i),a=await this.signDigest(o,{transactions:i});return{intent:{id:Ef(this.address,this.chainId,o),wallet:this.address},chainId:this.chainId,transactions:i,entrypoint:this.address,nonce:s,signature:a}}async sendSignedTransaction(e,r){if(!this.relayer)throw new Error("Wallet sendTransaction requires a relayer");return this.relayer.relay(e,r)}async sendTransaction(e,r,n){const i=await this.signTransactions(e,r),s=await this.decorateTransactions(i);return this.sendSignedTransaction(s,n)}async fillGasLimits(e){const r=await Sf(e),n=oe.transaction.fromTransactionish(this.address,r),i=this.relayer;if(!i)throw new Error("Wallet fillGasLimits requires a relayer");const s=await i.simulate(this.address,...n);return n.map((o,a)=>{const l=o.gasLimit?R.from(o.gasLimit).toNumber():s[a].gasLimit;return Fn({},o,s[a],{gasLimit:l})})}connect(e,r){return this.provider=e,this.relayer=r,this}signTransaction(e){throw new Error("Method not implemented.")}}function Un(){return Un=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Un.apply(this,arguments)}class S2{async isDeployed(e){return!1}async implementation(e){}async imageHash(e){}async nonce(e,r){return ht}async isValidSignature(e,r,n){throw new Error("Method not supported.")}}class Gu{constructor(e){this.address=st(e.address),this.contexts=e.contexts,this.tracker=e.tracker,this.networks=e.networks,this.orchestrator=e.orchestrator,this.migrations=e.migrations||Af.DefaultMigrations,this.migrator=new xf.Migrator(e.tracker,this.migrations,this.contexts)}static async new(e){var r;const i=new xf.Migrator(e.tracker,(r=e.migrations)!=null?r:Af.DefaultMigrations,e.contexts).lastMigration(),s=i.configCoder,o=s.fromSimple(e.config),a=s.imageHashOf(o),l=e.contexts[i.version],c=oe.context.addressOf(l,a);return await e.tracker.saveCounterfactualWallet({config:o,context:Object.values(e.contexts)}),new Gu({address:c,tracker:e.tracker,contexts:e.contexts,networks:e.networks,orchestrator:e.orchestrator,migrations:e.migrations})}getAddress(){return Promise.resolve(this.address)}get version(){return this.migrator.lastMigration().version}get coders(){const e=this.migrator.lastMigration();return{signature:e.signatureCoder,config:e.configCoder}}network(e){const r=R.from(e),n=this.networks.find(i=>r.eq(i.chainId));if(!n)throw new Error(`Network not found for chainId ${e}`);return n}provider(e){const r=this.network(e);if(!r.provider&&!r.rpcUrl)throw new Error(`Provider not found for chainId ${e}`);return r.provider||new Dh(r.rpcUrl,{name:"",chainId:R.from(e).toNumber()})}reader(e){return ht.eq(e)?new S2:new oe.reader.OnChainReader(this.provider(e))}relayer(e){const r=this.network(e);if(!r.relayer)throw new Error(`Relayer not found for chainId ${e}`);return b2(r.relayer)?r.relayer:new m2(r.relayer)}setOrchestrator(e){this.orchestrator=e}contextFor(e){const r=this.contexts[e];if(!r)throw new Error(`Context not found for version ${e}`);return r}walletForStatus(e,r){const n=ur.coderFor(r.version);return this.walletFor(e,this.contextFor(r.version),r.config,n)}walletFor(e,r,n,i){const s=ht.eq(e);return new Ss({config:n,context:r,chainId:e,coders:i,relayer:s?void 0:this.relayer(e),address:this.address,orchestrator:this.orchestrator,reader:this.reader(e)})}async status(e,r=!1){var n=this;const i=this.reader(e).isDeployed(this.address),s=this.tracker.imageHashOfCounterfactualWallet({wallet:this.address}).then(F=>{if(!F)throw new Error(`Counterfactual imageHash not found for wallet ${this.address}`);return F}),o=s.then(F=>r2.counterfactualVersion(this.address,F.imageHash,Object.values(this.contexts))),a=async function(){if(!await i)return o;const V=await n.reader(e).implementation(n.address);if(!V)throw new Error(`Implementation not found for wallet ${n.address}`);const re=Object.values(n.contexts);for(let ie=0;ie<re.length;ie++)if(re[ie].mainModule===V||re[ie].mainModuleUpgradable===V)return re[ie].version;throw new Error(`Version not found for implementation ${V}`)}(),l=async function(){const F=await n.reader(e).imageHash(n.address);if(F)return F;const V=await s;if(V)return V.imageHash;throw new Error(`On-chain imageHash not found for wallet ${n.address}`)}(),c=async function(){const F=await l,V=await n.tracker.configOfImageHash({imageHash:F});if(V)return V;throw new Error(`On-chain config not found for imageHash ${F}`)}(),h=await a,p=await l;let v=p,E=h,C=[];if(h!==this.version){const F=await this.migrator.getAllMigratePresignedTransaction({address:this.address,fromImageHash:p,fromVersion:h,chainId:e});v=F.lastImageHash,E=F.lastVersion,C=F.signedMigrations}const _=await this.tracker.loadPresignedConfiguration({wallet:this.address,fromImageHash:v,longestPath:r}),D=_&&_.length>0?_[_.length-1].nextImageHash:v,k=await this.tracker.configOfImageHash({imageHash:D});if(!k)throw new Error(`Config not found for imageHash ${D}`);const P=await i,$=await s,q=ur.coderFor(E).config.checkpointOf(k);return{original:Un({},$,{version:await o}),onChain:{imageHash:p,config:await c,version:h,deployed:P},fullyMigrated:E===this.version,signedMigrations:C,version:E,presignedConfigurations:_,imageHash:D,config:k,checkpoint:q,canOnchainValidate:h===this.version&&P}}mustBeFullyMigrated(e){if(!e.fullyMigrated)throw new Error(`Wallet ${this.address} is not fully migrated`)}async predecorateTransactions(e,r,n){if(r.onChain.imageHash!==r.imageHash){const s=await this.walletForStatus(n,r).buildUpdateConfigurationTransaction(r.config);return[Array.isArray(e)?e:[e],s.transactions].flat()}return e}decorateTransactions(e,r){const n=this.buildBootstrapTransactions(r,e.chainId);return n.transactions.length===0?e:{entrypoint:n.entrypoint,chainId:e.chainId,intent:e.intent,transactions:[...n.transactions,{to:e.entrypoint,data:oe.transaction.encodeBundleExecData(e),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}]}}decorateSignature(e,r){if(!r.presignedConfigurations||r.presignedConfigurations.length===0)return e;const n=this.coders.signature,i=r.presignedConfigurations.map(o=>o.signature),s=n.chainSignatures(e,i);return n.encode(s)}async publishWitness(){const e=ue(zt(`This is a Sequence account woo! ${Date.now()}`)),r=await this.signDigest(e,0,!1),n=this.coders.signature.decode(r),i=this.coders.signature.signaturesOfDecoded(n);return this.tracker.saveWitnesses({wallet:this.address,digest:e,chainId:0,signatures:i})}async signDigest(e,r,n=!0){const i=ht.eq(r)?this.networks[0].chainId:r,s=await this.status(i);this.mustBeFullyMigrated(s);const a=await this.walletForStatus(r,s).signDigest(e);return n?this.decorateSignature(a,s):a}async editConfig(e){const r=await this.status(0).then(i=>i.config),n=this.coders.config.editConfig(r,Un({},e,{checkpoint:this.coders.config.checkpointOf(r).add(1)}));return this.updateConfig(n)}async updateConfig(e){if(!this.coders.config.isWalletConfig(e))throw new Error(`Invalid config for wallet ${this.address}`);const r=this.coders.config.imageHashOf(e),n=this.coders.signature.hashSetImageHash(r),i=await this.signDigest(n,0,!1);return this.tracker.savePresignedConfiguration({wallet:this.address,nextConfig:e,signature:i})}buildBootstrapTransactions(e,r){const n=[];if(!e.onChain.deployed){const o=Ss.buildDeployTransaction(e.original.context,e.original.imageHash);n.push(...o.transactions)}n.push(...e.signedMigrations.map(o=>({to:o.tx.entrypoint,data:oe.transaction.encodeBundleExecData(o.tx),value:0,gasLimit:0,revertOnError:!0,delegateCall:!1})));const i=e.signedMigrations.length>0?e.signedMigrations[0].tx.intent.id:oe.transaction.subdigestOfGuestModuleTransactions(this.contexts[this.version].guestModule,r,n),{guestModule:s}=this.contextFor(e.version);return{entrypoint:s,transactions:n,chainId:r,intent:{id:i,wallet:this.address}}}async bootstrapTransactions(e,r){const n=r||await this.status(e);return this.buildBootstrapTransactions(n,e)}async doBootstrap(e,r,n){const i=await this.bootstrapTransactions(e,n);return this.relayer(e).relay(Un({},i,{chainId:e}),r)}signMessage(e,r){return this.signDigest(ue(e),r)}async signTransactions(e,r,n){const i=n||await this.status(r);this.mustBeFullyMigrated(i);const o=await this.walletForStatus(r,i).signTransactions(e);return Un({},o,{signature:this.decorateSignature(o.signature,i)})}async signMigrations(e,r){const n=await this.status(e);if(n.fullyMigrated)return!1;const i=this.walletForStatus(e,n),s=await this.migrator.signNextMigration(this.address,n.version,i,r(i.config));return s?(await this.tracker.saveMigration(this.address,s,this.contexts),!0):!1}async signAllMigrations(e){var r=this;const n=[];return{signedMigrations:(await Promise.all(this.networks.map(async function(o){try{return await r.signMigrations(o.chainId,e)}catch(a){return console.warn(`Failed to sign migrations for chain ${o.chainId}`,a),n.push(o.chainId),null}}))).filter(o=>o!==null),failedChains:n}}async isMigratedAllChains(){var e=this;const r=[];return{migratedAllChains:(await Promise.all(this.networks.map(async function(s){try{return await e.status(s.chainId)}catch(o){return r.push(s.chainId),console.warn(`Failed to get status for chain ${s.chainId}`,o),{fullyMigrated:!0}}}))).every(s=>s.fullyMigrated),failedChains:r}}async sendSignedTransactions(e,r,n,i){const s=i||await this.status(e.chainId);this.mustBeFullyMigrated(s);const o=this.decorateTransactions(e,s);return this.relayer(r).relay(o,n)}async fillGasLimits(e,r,n){return this.walletForStatus(r,n||await this.status(r)).fillGasLimits(e)}async gasRefundQuotes(e,r,n,i){const s=i||await this.status(r),o=this.walletForStatus(r,s),a=await this.predecorateTransactions(e,s,r),l=oe.transaction.fromTransactionish(this.address,a),c=o.coders.config.buildStubSignature(o.config,n),h=L(yu(32)),p={chainId:r,intent:{id:h,wallet:this.address},signature:c,transactions:l,entrypoint:this.address,nonce:0},v=this.decorateTransactions(p,s),E=oe.transaction.encodeBundleExecData(v),C=await this.relayer(r).getFeeOptionsRaw(v.entrypoint,E);return Un({},C,{decorated:v})}async prepareTransactions(e){const r=await this.status(e.chainId),n=await this.fillGasLimits(e.txs,e.chainId,r),i=await this.gasRefundQuotes(n,e.chainId,e.stubSignatureOverrides,r),s=oe.transaction.unwind(this.address,i.decorated.transactions);return{transactions:n,flatDecorated:s,options:i.options,quote:i.quote}}async sendTransaction(e,r,n,i=!1,s){const o=await this.status(r),a=i?e:await this.predecorateTransactions(e,o,r),l=await this.signTransactions(a,r);return s&&s(l),this.sendSignedTransactions(l,r,n)}async signTypedData(e,r,n,i){const s=f2({domain:e,types:r,message:n});return this.signDigest(s,i)}async getAllSigners(){var e=this;const r=[];return await Promise.all(this.networks.map(async function(n){const i=n.chainId,s=await e.status(i,!0),o=[s.onChain.imageHash,...s.onChain.version!==s.version?s.signedMigrations.map(a=>ur.coderFor(a.toVersion).config.imageHashOf(a.toConfig)):[],...s.presignedConfigurations.map(a=>a.nextImageHash)];return Promise.all(o.map(async function(a,l){const c=l===o.length-1,h=await e.tracker.configOfImageHash({imageHash:a});if(!h){console.warn(`AllSigners may be incomplete, config not found for imageHash ${a}`);return}ur.genericCoderFor(h.version).config.signersOf(h).forEach(E=>{const C=r.find(_=>_.address===E.address&&_.network===i);if(C&&c&&C.flaggedForRemoval){C.flaggedForRemoval=!1;return}C||r.push({address:E.address,weight:E.weight,network:i,flaggedForRemoval:!c})})}))})),r}}function Mt(){return Mt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mt.apply(this,arguments)}const C2=(t,e=!1,r=!1)=>{if(!t)throw new Error("invalid network config: empty config");const n=[];if(Array.isArray(t)?n.push(...t):n.push(t),n.length===0){if(e)throw new Error("invalid network config: empty config");return!1}const i=n.map(c=>c.chainId).sort(),s=i.filter((c,h)=>i.indexOf(c)!==h);if(s.length>0){if(e)throw new Error(`invalid network config: duplicate chainIds ${s}`);return!1}n.forEach(c=>c.name=c.name.toLowerCase());const o=n.map(c=>c.name).sort(),a=o.filter((c,h)=>o.indexOf(c)!==h);if(a.length>0){if(e)throw new Error(`invalid network config: duplicate network names ${a}`);return!1}let l=!1;for(let c=0;c<n.length;c++){const h=n[c];if((!h.rpcUrl||h.rpcUrl==="")&&!h.provider){if(e)throw new Error(`invalid network config for chainId ${h.chainId}: rpcUrl or provider must be provided`);return!1}if(!r&&!h.relayer){if(e)throw new Error(`invalid network config for chainId ${h.chainId}: relayer must be provided`);return!1}if(h.isDefaultChain){if(l){if(e)throw new Error(`invalid network config for chainId ${h.chainId}: DefaultChain is already set by another config`);return!1}l=!0}}if(!l){if(e)throw new Error("invalid network config: DefaultChain must be set");return!1}return!0},M2=(t,e=!1)=>(C2(t,!0,e),t),k2=t=>M2(_2(t)),_2=t=>{if(!t)return[];const e=t.sort((n,i)=>n.chainId===i.chainId?0:n.chainId<i.chainId?-1:1),r=e.findIndex(n=>n.isDefaultChain);return r>0&&e.splice(0,0,e.splice(r,1)[0]),e},Wu=(t,e)=>typeof t=="string"?(e=e||{},t.replace(/\$\{\s*([$#@\-\d\w]+)\s*\}/gim,function(r,n){let i=e[n];return typeof i=="function"?i=i():i==null?i="":typeof i=="object"||typeof i=="symbol"?i=i.toString():i=i.valueOf(),i})):"";let W=function(t){return t[t.MAINNET=1]="MAINNET",t[t.ROPSTEN=3]="ROPSTEN",t[t.RINKEBY=4]="RINKEBY",t[t.GOERLI=5]="GOERLI",t[t.KOVAN=42]="KOVAN",t[t.POLYGON=137]="POLYGON",t[t.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",t[t.POLYGON_ZKEVM=1101]="POLYGON_ZKEVM",t[t.BSC=56]="BSC",t[t.BSC_TESTNET=97]="BSC_TESTNET",t[t.OPTIMISM=10]="OPTIMISM",t[t.OPTIMISM_TESTNET=69]="OPTIMISM_TESTNET",t[t.ARBITRUM=42161]="ARBITRUM",t[t.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",t[t.ARBITRUM_NOVA=42170]="ARBITRUM_NOVA",t[t.AVALANCHE=43114]="AVALANCHE",t[t.AVALANCHE_TESTNET=43113]="AVALANCHE_TESTNET",t[t.FANTOM=250]="FANTOM",t[t.FANTOM_TESTNET=4002]="FANTOM_TESTNET",t[t.GNOSIS=100]="GNOSIS",t[t.AURORA=1313161554]="AURORA",t[t.AURORA_TESTNET=1313161556]="AURORA_TESTNET",t[t.BASE_GOERLI=84531]="BASE_GOERLI",t[t.HARDHAT=31337]="HARDHAT",t[t.HARDHAT_2=31338]="HARDHAT_2",t}({});const I2=t=>Wu("https://${network}-indexer.sequence.app",{network:t}),T2=t=>Wu("https://${network}-relayer.sequence.app",{network:t}),N2=t=>Wu("https://nodes.sequence.app/${network}",{network:t}),Ee={[W.MAINNET]:{chainId:W.MAINNET,name:"mainnet",title:"Ethereum",blockExplorer:{name:"Etherscan",rootUrl:"https://etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[W.ROPSTEN]:{chainId:W.ROPSTEN,name:"ropsten",title:"Ropsten",testnet:!0,blockExplorer:{name:"Etherscan (Ropsten)",rootUrl:"https://ropsten.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[W.RINKEBY]:{chainId:W.RINKEBY,name:"rinkeby",title:"Rinkeby",testnet:!0,blockExplorer:{name:"Etherscan (Rinkeby)",rootUrl:"https://rinkeby.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",disabled:!0},[W.GOERLI]:{chainId:W.GOERLI,name:"goerli",title:"Goerli",testnet:!0,blockExplorer:{name:"Etherscan (Goerli)",rootUrl:"https://goerli.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[W.KOVAN]:{chainId:W.KOVAN,name:"kovan",title:"Kovan",testnet:!0,blockExplorer:{name:"Etherscan (Kovan)",rootUrl:"https://kovan.etherscan.io/"}},[W.POLYGON]:{chainId:W.POLYGON,name:"polygon",title:"Polygon",blockExplorer:{name:"Polygonscan",rootUrl:"https://polygonscan.com/"},isDefaultChain:!0,isAuthChain:!0},[W.POLYGON_MUMBAI]:{chainId:W.POLYGON_MUMBAI,name:"mumbai",title:"Polygon Mumbai",testnet:!0,blockExplorer:{name:"Polygonscan (Mumbai)",rootUrl:"https://mumbai.polygonscan.com/"}},[W.POLYGON_ZKEVM]:{chainId:W.POLYGON_ZKEVM,name:"polygon-zkevm",title:"Polygon zkEVM",blockExplorer:{name:"Polygonscan (zkEVM)",rootUrl:"https://zkevm.polygonscan.com/"}},[W.BSC]:{chainId:W.BSC,name:"bsc",title:"BNB Smart Chain",blockExplorer:{name:"BSCScan",rootUrl:"https://bscscan.com/"}},[W.BSC_TESTNET]:{chainId:W.BSC_TESTNET,name:"bsc-testnet",title:"BNB Smart Chain Testnet",testnet:!0,blockExplorer:{name:"BSCScan (Testnet)",rootUrl:"https://testnet.bscscan.com/"}},[W.OPTIMISM]:{chainId:W.OPTIMISM,name:"optimism",title:"Optimism",blockExplorer:{name:"Etherscan (Optimism)",rootUrl:"https://optimistic.etherscan.io/"}},[W.OPTIMISM_TESTNET]:{chainId:W.OPTIMISM_TESTNET,name:"optimism-testnet",title:"Optimistic Kovan",testnet:!0,blockExplorer:{name:"Etherscan (Optimism Testnet)",rootUrl:"https://kovan-optimistic.etherscan.io/"}},[W.ARBITRUM]:{chainId:W.ARBITRUM,name:"arbitrum",title:"Arbitrum One",blockExplorer:{name:"Arbiscan",rootUrl:"https://arbiscan.io/"}},[W.ARBITRUM_GOERLI]:{chainId:W.ARBITRUM_GOERLI,name:"arbitrum-goerli",title:"Arbitrum Goerli",testnet:!0,blockExplorer:{name:"Arbiscan (Testnet)",rootUrl:"https://testnet.arbiscan.io/"}},[W.ARBITRUM_NOVA]:{chainId:W.ARBITRUM_NOVA,name:"arbitrum-nova",title:"Arbitrum Nova",blockExplorer:{name:"Nova Explorer",rootUrl:"https://nova-explorer.arbitrum.io/"}},[W.AVALANCHE]:{chainId:W.AVALANCHE,name:"avalanche",title:"Avalanche",blockExplorer:{name:"Snowtrace",rootUrl:"https://snowtrace.io/"}},[W.AVALANCHE_TESTNET]:{chainId:W.AVALANCHE_TESTNET,name:"avalanche-testnet",title:"Avalanche Testnet",testnet:!0,blockExplorer:{name:"Snowtrace (Testnet)",rootUrl:"https://testnet.snowtrace.io/"}},[W.FANTOM]:{chainId:W.FANTOM,name:"fantom",title:"Fantom",blockExplorer:{name:"FTMScan",rootUrl:"https://ftmscan.com/"}},[W.FANTOM_TESTNET]:{chainId:W.FANTOM_TESTNET,name:"fantom-testnet",title:"Fantom Testnet",testnet:!0,blockExplorer:{name:"FTMScan (Testnet)",rootUrl:"https://testnet.ftmscan.com/"}},[W.GNOSIS]:{chainId:W.GNOSIS,name:"gnosis",title:"Gnosis Chain",blockExplorer:{name:"Gnosis Chain Explorer",rootUrl:"https://blockscout.com/xdai/mainnet/"}},[W.AURORA]:{chainId:W.AURORA,name:"aurora",title:"Aurora",blockExplorer:{name:"Aurora Explorer",rootUrl:"https://aurorascan.dev/"}},[W.AURORA_TESTNET]:{chainId:W.AURORA_TESTNET,name:"aurora-testnet",title:"Aurora Testnet",blockExplorer:{name:"Aurora Explorer (Testnet)",rootUrl:"https://testnet.aurorascan.dev/"}},[W.BASE_GOERLI]:{chainId:W.BASE_GOERLI,name:"base-goerli",title:"Base Goerli",blockExplorer:{name:"Base Goerli Explorer",rootUrl:"https://goerli.basescan.org/"}},[W.HARDHAT]:{chainId:W.HARDHAT,name:"hardhat",title:"Hardhat (local testnet)"},[W.HARDHAT_2]:{chainId:W.HARDHAT_2,name:"hardhat2",title:"Hardhat (local testnet)"}},Wt=t=>{const e=N2(t);return{rpcUrl:e,relayer:{url:T2(e),provider:{url:e}},indexerUrl:I2(t)}};k2([Mt({},Ee[W.MAINNET],Wt("mainnet")),Mt({},Ee[W.POLYGON],Wt("polygon")),Mt({},Ee[W.BSC],Wt("bsc")),Mt({},Ee[W.AVALANCHE],Wt("avalanche")),Mt({},Ee[W.ARBITRUM],Wt("arbitrum")),Mt({},Ee[W.ARBITRUM_NOVA],Wt("arbitrum-nova")),Mt({},Ee[W.OPTIMISM],Wt("optimism")),Mt({},Ee[W.POLYGON_ZKEVM],Wt("polygon-zkevm")),Mt({},Ee[W.GNOSIS],Wt("gnosis")),Mt({},Ee[W.RINKEBY],Wt("rinkeby")),Mt({},Ee[W.GOERLI],Wt("goerli")),Mt({},Ee[W.POLYGON_MUMBAI],Wt("mumbai")),Mt({},Ee[W.BSC_TESTNET],Wt("bsc-testnet")),Mt({},Ee[W.ARBITRUM_GOERLI],Wt("arbitrum-goerli")),Mt({},Ee[W.BASE_GOERLI],Wt("base-goerli")),Mt({},Ee[W.HARDHAT],{rpcUrl:"http://localhost:8545",relayer:{url:"http://localhost:3000",provider:{url:"http://localhost:8545"}}}),Mt({},Ee[W.HARDHAT_2],{rpcUrl:"http://localhost:9545",relayer:{url:"http://localhost:3000",provider:{url:"http://localhost:9545"}}})]);const bg=t=>`https://${t}-relayer.sequence.app`,vg=t=>`https://${t}-indexer.sequence.app`,R2=t=>`https://nodes.sequence.app/${t}`,sr=t=>{const e=R2(t);return{rpcUrl:e,relayer:{url:vg(t),provider:{url:e}},indexerUrl:bg(t)}},Qi=[{...Ee[W.MAINNET],...sr("mainnet"),isDefaultChain:!0},{...Ee[W.POLYGON],...sr("polygon")},{...Ee[W.BSC],...sr("bsc")},{...Ee[W.AVALANCHE],...sr("avalanche")},{...Ee[W.ARBITRUM],...sr("arbitrum")},{...Ee[W.ARBITRUM_NOVA],...sr("arbitrum-nova")},{...Ee[W.OPTIMISM],...sr("optimism")},{...Ee[W.POLYGON_ZKEVM],...sr("polygon-zkevm"),name:"Pol-ZKEVM"},{...Ee[W.GNOSIS],...sr("gnosis")},{...Ee[W.GOERLI],...sr("goerli")},{...Ee[W.POLYGON_MUMBAI],...sr("mumbai")},{...Ee[W.BSC_TESTNET],...sr("bsc-testnet")},{...Ee[W.AVALANCHE_TESTNET],rpcUrl:"https://api.avax-test.network/ext/bc/C/rpc",relayer:{url:vg("avalanche-testnet"),provider:{url:"https://api.avax-test.network/ext/bc/C/rpc"}},indexerUrl:bg("avalanche-testnet")}];function P2(t,e){const r=t.replace("ipfs://ipfs/","").replace("ipfs://","");return t.startsWith("ipfs://")?`${e}${r}`:t}function O2(t){return t.startsWith("ipfs://")}class B2{constructor(e,r,n=1e3){this.pending=new Map,this.provider=e,this.solver=r,this.window=n}async runByEIP5719(e,r,n){const i=`${e}-${r}-${n}`,s=Date.now();if(this.pending.has(i)&&s-this.pending.get(i).timestamp<this.window)return this.pending.get(i).promise;const o=wg(e,this.provider,r,n,this.solver);return this.pending.set(i,{timestamp:s,promise:o}),o}}function D2(t,e){const r=[{inputs:[{internalType:"bytes32",type:"bytes32"}],name:"getAlternativeSignature",outputs:[{internalType:"string",type:"string"}],stateMutability:"view",type:"function"}];return new mu(t,r,e)}async function L2(t){try{return await t}catch{return}}async function wg(t,e,r,n,i,s=0){if(s>10)throw new Error("EIP5719 - Too many tries");if(oe.signer.canRecover(n)){const l=oe.signer.recoverSigner(r,n);if(l&&l.toLowerCase()===t.toLowerCase())return n}try{if(await oe.signer.isValidSignature(t,r,n,e))return n}catch{}const o=await L2(D2(t,e).getAlternativeSignature(r));if(!o||o==="")throw new Error("EIP5719 - Invalid signature and no alternative signature");const a=L(await(i||new $2).resolve(o));if(!a||a==="")throw new Error("EIP5719 - Empty alternative signature");if(a===L(n))throw new Error("EIP5719 - Alternative signature is invalid or the same");return wg(t,e,r,a,i,s+1)}class $2{constructor(e="https://cloudflare-ipfs.com/ipfs/"){var r=this;this.uri=n=>O2(n)?P2(n,this.gateway):n,this.resolve=async function(n){const i=r.uri(n),s=await fetch(i);if(!s.ok)throw new Error(`URISolverIPFS - Failed to fetch ${i}`);return await s.text()},this.gateway=e}}const F2=(t,e)=>e.some(r=>t instanceof r);let Mf,kf;function U2(){return Mf||(Mf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H2(){return kf||(kf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xg=new WeakMap,Hl=new WeakMap,Ag=new WeakMap,ja=new WeakMap,Vu=new WeakMap;function z2(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(bn(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&xg.set(r,t)}).catch(()=>{}),Vu.set(e,t),e}function G2(t){if(Hl.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hl.set(t,e)}let zl={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Hl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ag.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return bn(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W2(t){zl=t(zl)}function V2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Ka(this),e,...r);return Ag.set(n,e.sort?e.sort():[e]),bn(n)}:H2().includes(t)?function(...e){return t.apply(Ka(this),e),bn(xg.get(this))}:function(...e){return bn(t.apply(Ka(this),e))}}function q2(t){return typeof t=="function"?V2(t):(t instanceof IDBTransaction&&G2(t),F2(t,U2())?new Proxy(t,zl):t)}function bn(t){if(t instanceof IDBRequest)return z2(t);if(ja.has(t))return ja.get(t);const e=q2(t);return e!==t&&(ja.set(t,e),Vu.set(e,t)),e}const Ka=t=>Vu.get(t);function j2(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bn(o);return n&&o.addEventListener("upgradeneeded",l=>{n(bn(o.result),l.oldVersion,l.newVersion,bn(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const K2=["get","getKey","getAll","getAllKeys","count"],J2=["put","add","delete","clear"],Ja=new Map;function _f(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ja.get(e))return Ja.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=J2.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||K2.includes(r)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(a.shift())),(await Promise.all([c[r](...a),i&&l.done]))[0]};return Ja.set(e,s),s}W2(t=>({...t,get:(e,r,n)=>_f(e,r)||t.get(e,r,n),has:(e,r)=>!!_f(e,r)||t.has(e,r)}));class Y2{constructor(e){this.tracker=e}async loadPresignedConfiguration(e){return console.debug("? loadPresignedConfiguration"),Vt(e,"? "),Vt(await this.tracker.loadPresignedConfiguration(e),"! ")}savePresignedConfiguration(e){return console.debug("? savePresignedConfiguration"),Vt(e,"? "),this.tracker.savePresignedConfiguration(e)}saveWitnesses(e){return console.debug("? saveWitnesses"),Vt(e,"? "),this.tracker.saveWitnesses(e)}async configOfImageHash(e){return console.debug("? configOfImageHash"),Vt(e,"? "),Vt(await this.tracker.configOfImageHash(e),"! ")}saveWalletConfig(e){return console.debug("? saveWalletConfig"),Vt(e,"? "),this.tracker.saveWalletConfig(e)}async imageHashOfCounterfactualWallet(e){return console.debug("? imageHashOfCounterfactualWallet"),Vt(e,"? "),Vt(await this.tracker.imageHashOfCounterfactualWallet(e),"! ")}saveCounterfactualWallet(e){return console.debug("? saveCounterfactualWallet"),Vt(e,"? "),this.tracker.saveCounterfactualWallet(e)}async walletsOfSigner(e){return console.debug("? walletsOfSigner"),Vt(e,"? "),Vt(await this.tracker.walletsOfSigner(e),"! ")}async getMigration(e,r,n,i){return console.debug("? getMigration"),Vt({address:e,fromImageHash:r,fromVersion:n,chainId:i},"? "),Vt(await this.tracker.getMigration(e,r,n,i),"! ")}saveMigration(e,r,n){return console.debug("? saveMigration"),Vt({address:e,signed:r,contexts:n},"? "),this.tracker.saveMigration(e,r,n)}}function Vt(t,e=""){switch(t){case void 0:console.debug(e+"undefined");break;default:JSON.stringify(t,void 0,2).split(`
`).map(r=>e+r).forEach(r=>console.debug(r));break}return t}var Q2=Object.freeze({__proto__:null,DebugConfigTracker:Y2});function wn(){return wn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wn.apply(this,arguments)}class Eg{constructor(){this.configs={},this.v2Nodes={},this.counterfactualWallets={},this.payloads={},this.signatures={},this.migrations={},this.loadConfig=e=>Promise.resolve(this.configs[e]),this.saveConfig=(e,r)=>(this.configs[e]=r,Promise.resolve()),this.loadV2Node=e=>Promise.resolve(this.v2Nodes[e]),this.saveV2Node=(e,r)=>(this.v2Nodes[e]=r,Promise.resolve()),this.loadCounterfactualWallet=e=>Promise.resolve(this.counterfactualWallets[e]),this.saveCounterfactualWallet=(e,r,n)=>(this.counterfactualWallets[e]={imageHash:r,context:n},Promise.resolve()),this.loadPayloadOfSubdigest=e=>Promise.resolve(this.payloads[e]),this.savePayloadOfSubdigest=(e,r)=>(this.payloads[e]=r,Promise.resolve()),this.loadSubdigestsOfSigner=e=>Promise.resolve(Object.keys(this.signatures[e]||{})),this.loadSignatureOfSubdigest=(e,r)=>{var n;return Promise.resolve((n=this.signatures[e])==null?void 0:n[r])},this.saveSignatureOfSubdigest=(e,r,n)=>(this.signatures[e]||(this.signatures[e]={}),this.signatures[e][r]=n,Promise.resolve()),this.loadMigrationsSubdigest=(e,r,n)=>{var i,s;return Promise.resolve(((i=this.migrations[e])==null||(s=i[r])==null?void 0:s[n])||[])},this.saveMigrationsSubdigest=(e,r,n,i,s)=>(this.migrations[e]||(this.migrations[e]={}),this.migrations[e][r]||(this.migrations[e][r]={}),this.migrations[e][r][n]||(this.migrations[e][r][n]=[]),this.migrations[e][r][n].push({subdigest:i,toImageHash:s}),Promise.resolve())}}function Mi(t){if(t===void 0)return;const e={};for(const r of Object.keys(t)){const n=t[r];n._isBigNumber===!0&&n._hex!==void 0&&typeof n._hex=="string"&&n._hex.length!==""?e[r]=R.from(n):Array.isArray(n)?e[r]=n.map(i=>Mi(i)):typeof n=="object"&&n!==null?e[r]=Mi(n):e[r]=n}return e}class X2{constructor(e){var r=this;this.loadConfig=async function(n){return(await r.getDb()).get("configs",n).then(s=>Mi(s))},this.saveConfig=async function(n,i){await(await r.getDb()).put("configs",i,n)},this.loadV2Node=async function(n){return(await r.getDb()).get("v2Nodes",n).then(s=>Mi(s))},this.saveV2Node=async function(n,i){await(await r.getDb()).put("v2Nodes",i,n)},this.loadCounterfactualWallet=async function(n){return(await r.getDb()).get("counterfactualWallets",n)},this.saveCounterfactualWallet=async function(n,i,s){await(await r.getDb()).put("counterfactualWallets",{imageHash:i,context:s},n)},this.loadPayloadOfSubdigest=async function(n){return(await r.getDb()).get("payloads",n).then(s=>Mi(s))},this.savePayloadOfSubdigest=async function(n,i){await(await r.getDb()).put("payloads",i,n)},this.loadSubdigestsOfSigner=async function(n){return(await(await r.getDb()).getAllKeysFromIndex("signatures","signer",IDBKeyRange.only(n))).map(o=>o.split("-")[0])},this.loadSignatureOfSubdigest=async function(n,i){const o=await(await r.getDb()).get("signatures",[i,n].join("-"));return o?.signature},this.saveSignatureOfSubdigest=async function(n,i,s){await(await r.getDb()).put("signatures",{signature:s,signer:n},[i,n].join("-"))},this.loadMigrationsSubdigest=async function(n,i,s){return(await(await r.getDb()).getAllFromIndex("migrations","jump",IDBKeyRange.only([n,i,s]))).map(l=>({subdigest:l.subdigest,toImageHash:l.toImageHash}))},this.saveMigrationsSubdigest=async function(n,i,s,o,a){await(await r.getDb()).put("migrations",{wallet:n,fromVersion:i,toVersion:s,subdigest:o,toImageHash:a},o)},this.dbName=e}async getDb(){if(this._lazyDb)return this._lazyDb;const e=this.dbName;return this._lazyDb=await j2(e,1,{upgrade(r,n,i,s){console.log(`upgrading ${e} from ${n} to ${i} - ${s}`),n===0&&(r.createObjectStore("configs"),r.createObjectStore("v2Nodes"),r.createObjectStore("counterfactualWallets"),r.createObjectStore("payloads"),r.createObjectStore("signatures").createIndex("signer","signer",{unique:!1}),r.createObjectStore("migrations").createIndex("jump",["wallet","fromVersion","toVersion"]))}}),this._lazyDb}}function Sg(t){return t.left!==void 0&&t.right!==void 0}function Cg(t){return t.weight!==void 0&&t.threshold!==void 0&&t.tree!==void 0}function Mg(t){return t.version===2&&t.threshold!==void 0&&t.checkpoint!==void 0&&t.tree!==void 0}var Z2=Object.freeze({__proto__:null,isPlainNode:Sg,isPlainNested:Cg,isPlainV2Config:Mg,MemoryTrackerStore:Eg,recreateBigNumbers:Mi,IndexedDBStore:X2});class kg{constructor(e,r=new Eg,n=!1){var i=this;this.loadTopology=async function(s){const o=await i.store.loadV2Node(s);if(!o)return{nodeHash:s};if(Sg(o)){const[a,l]=await Promise.all([i.loadTopology(o.left),i.loadTopology(o.right)]);return{left:a,right:l}}return Cg(o)?{weight:R.from(o.weight),threshold:R.from(o.threshold),tree:await i.loadTopology(o.tree)}:o},this.saveTopology=async function(s){if(J.config.isNodeLeaf(s))return;const o=J.config.hashNode(s);if(J.config.isNode(s)){const a=i.saveTopology(s.left),l=i.saveTopology(s.right),c=i.store.saveV2Node(o,{left:J.config.hashNode(s.left),right:J.config.hashNode(s.right)});await Promise.all([a,l,c]);return}if(J.config.isNestedLeaf(s)){const a=i.saveTopology(s.tree),l=i.store.saveV2Node(o,{weight:R.from(s.weight).toString(),threshold:R.from(s.threshold).toString(),tree:J.config.hashNode(s.tree)});await Promise.all([a,l]);return}if(J.config.isSignerLeaf(s))return i.store.saveV2Node(o,{address:s.address,weight:s.weight});if(J.config.isSubdigestLeaf(s))return i.store.saveV2Node(o,{subdigest:s.subdigest});throw new Error(`Unknown topology type: ${s}`)},this.saveWalletConfig=async function(s){const{config:o}=s;if(mn.config.ConfigCoder.isWalletConfig(o)){const a=mn.config.ConfigCoder.imageHashOf(o);return i.store.saveConfig(a,o)}if(J.config.ConfigCoder.isWalletConfig(o)){const a=i.saveTopology(o.tree),l=i.store.saveConfig(J.config.ConfigCoder.imageHashOf(o),{version:2,threshold:R.from(o.threshold).toString(),checkpoint:R.from(o.checkpoint).toString(),tree:J.config.hashNode(o.tree)});await Promise.all([a,l])}},this.configOfImageHash=async function(s){const{imageHash:o}=s,a=await i.store.loadConfig(o);if(a){if(a.version===1)return a;if(Mg(a))return{version:2,threshold:R.from(a.threshold),checkpoint:R.from(a.checkpoint),tree:await i.loadTopology(a.tree)};throw new Error(`Unknown config type: ${a}`)}},this.saveCounterfactualWallet=async function(s){const{config:o,context:a}=s,l=ur.genericCoderFor(o.version).config.imageHashOf(o);await Promise.all([i.saveWalletConfig({config:o}),...a.map(c=>{const h=oe.context.addressOf(c,l);return i.store.saveCounterfactualWallet(h,l,c)})])},this.imageHashOfCounterfactualWallet=async function(s){const{wallet:o}=s,a=await i.store.loadCounterfactualWallet(o);if(a)return{imageHash:a.imageHash,context:a.context}},this.savePayload=async function(s){const{payload:o}=s,a=oe.signature.subdigestOf(o);await i.store.savePayloadOfSubdigest(a,o)},this.payloadOfSubdigest=async function(s){const{subdigest:o}=s;return i.store.loadPayloadOfSubdigest(o)},this.savePresignedConfiguration=async function(s){const o=J.signature.SignatureCoder.decode(s.signature),a=ur.genericCoderFor(s.nextConfig.version).config.imageHashOf(s.nextConfig),l=J.chained.messageSetImageHash(a),c=ue(l),h={message:l,address:s.wallet,chainId:0,digest:c},p=i.savePayload({payload:h}),v=i.saveWalletConfig({config:s.nextConfig}),E=await J.signature.SignatureCoder.recover(o,h,i.provider),C=J.signature.signaturesOf(E.config.tree);await Promise.all([p,v,i.saveWalletConfig({config:E.config}),...C.map(_=>i.store.saveSignatureOfSubdigest(_.address,E.subdigest,_.signature))])},this.loadPresignedConfiguration=async function(s){const{wallet:o,fromImageHash:a,longestPath:l}=s,c=await i.configOfImageHash({imageHash:a});if(!c||!J.config.ConfigCoder.isWalletConfig(c))return[];const h=J.config.signersOf(c.tree).map(k=>k.address),p=await Promise.all(h.map(k=>i.store.loadSubdigestsOfSigner(k))),v=[...new Set(p.flat())],C=(await Promise.all([...new Set(v)].map(async function(k){return wn({},await i.payloadOfSubdigest({subdigest:k}),{subdigest:k})}))).filter(k=>k?.message&&k?.address&&k.address===o).map(k=>({payload:k,nextImageHash:J.chained.decodeMessageSetImageHash(k.message)})).filter(k=>k?.nextImageHash);let _;for(const{payload:k,nextImageHash:P}of C){const $=await i.configOfImageHash({imageHash:P});if(!$||!J.config.isWalletConfig($))continue;const q=R.from($.checkpoint);if(q.lte(c.checkpoint))continue;if(_){const re=_.checkpoint;if(l){if(q.gte(re))continue}else if(q.lte(re))continue}const F=new Map((await Promise.all(h.map(async function(re){const ie=await i.store.loadSignatureOfSubdigest(re,k.subdigest);if(!ie)return[re,void 0];const fe=L(i.useEIP5719?await i.cachedEIP5719.runByEIP5719(re,k.subdigest,ie):ie),At=oe.signer.tryRecoverSigner(k.subdigest,fe)!==re;return[re,{isDynamic:At,signature:fe}]}))).filter(re=>Boolean(re[1]))),V=J.signature.SignatureCoder.encodeSigners(c,F,[],0);V.weight.lt(c.threshold)||(_={nextImageHash:P,checkpoint:R.from($.checkpoint),signature:V.encoded})}if(!_)return[];const D=await i.loadPresignedConfiguration({wallet:o,fromImageHash:_.nextImageHash,longestPath:l});return[{wallet:o,nextImageHash:_.nextImageHash,signature:_.signature},...D]},this.saveWitnesses=async function(s){const o={digest:s.digest,address:s.wallet,chainId:s.chainId},a=oe.signature.subdigestOf(o);await Promise.all([i.savePayload({payload:o}),...s.signatures.filter(l=>oe.signer.canRecover(l)).map(l=>{const c=oe.signer.recoverSigner(a,l);return i.store.saveSignatureOfSubdigest(c,a,l)})])},this.walletsOfSigner=async function(s){const o=await i.store.loadSubdigestsOfSigner(s.signer),a=await Promise.all(o.map(c=>i.payloadOfSubdigest({subdigest:c}))).then(c=>c.filter(h=>h!==void 0)),l=[];for(const c of a){const h=c.address;if(l.find(E=>E.wallet===h))continue;const p=oe.signature.subdigestOf(c),v=await i.store.loadSignatureOfSubdigest(s.signer,p);v&&l.push({wallet:h,proof:{digest:c.digest,chainId:R.from(c.chainId),signature:L(v)}})}return l},this.provider=e,this.store=r,this.useEIP5719=n,this.cachedEIP5719=new B2(e)}async saveMigration(e,r,n){const i=r.fromVersion;if(i!==1)throw new Error("Migration not supported");if(!J.config.isWalletConfig(r.toConfig))throw new Error("Invalid to config");const{newImageHash:s,address:o}=i2.v1v2.decodeTransaction(r.tx,n);if(o!==e)throw new Error("Invalid migration transaction - address");if(J.config.ConfigCoder.imageHashOf(r.toConfig)!=s)throw new Error("Invalid migration transaction - config");const a=oe.transaction.packMetaTransactionsData(r.tx.nonce,r.tx.transactions),l=ue(a),c={chainId:r.tx.chainId,message:a,address:e,digest:l},h=oe.signature.subdigestOf(c),p=this.savePayload({payload:c}),v=this.saveWalletConfig({config:r.toConfig}),E=mn.signature.SignatureCoder.decode(r.tx.signature),C=await mn.signature.SignatureCoder.recover(E,c,this.provider),_=mn.signature.SignatureCoder.signaturesOf(C.config);await Promise.all([p,v,this.saveWalletConfig({config:C.config}),this.store.saveMigrationsSubdigest(e,i,i+1,h,s),..._.map(D=>this.store.saveSignatureOfSubdigest(D.address,C.subdigest,D.signature))])}async getMigration(e,r,n,i){var s=this;const[o,a]=await Promise.all([this.configOfImageHash({imageHash:r}),this.store.loadMigrationsSubdigest(e,n,n+1)]),l=ur.coderFor(n);return!o||!l.config.isWalletConfig(o)?void 0:(await Promise.all(a.map(async function(h){const{subdigest:p,toImageHash:v}=h,E=await s.payloadOfSubdigest({subdigest:p});if(!E||!E.message||!R.from(i).eq(E.chainId))return;const C=l.config.signersOf(o).map($=>$.address),_=new Map((await Promise.all(C.map(async function($){const q=await s.store.loadSignatureOfSubdigest($,p);if(!q)return[$,void 0];const F=L(s.useEIP5719?await s.cachedEIP5719.runByEIP5719($,p,q):q),V=oe.signer.tryRecoverSigner(p,F)!==$;return[$,{isDynamic:V,signature:F}]}))).filter($=>Boolean($[1]))),D=l.signature.encodeSigners(o,_,[],i);if(!D||D.weight<o.threshold)return;const[k,P]=oe.transaction.unpackMetaTransactionsData(E.message);return{tx:{entrypoint:e,transactions:oe.transaction.fromTxAbiEncode(P),chainId:i,nonce:k,signature:D.encoded,intent:{id:p,wallet:e}},toConfig:await s.configOfImageHash({imageHash:v}),fromVersion:n,toVersion:n+1}})).then(h=>h.filter(p=>p!==void 0)))[0]}}var eE=Object.freeze({__proto__:null,LocalConfigTracker:kg});let Ya=function(t){return t.EIP712="EIP712",t.EthSign="EthSign",t.EIP1271="EIP1271",t}({});class tE{constructor(e,r){this.path="/rpc/Sessions/",this.ping=n=>this.fetch(this.url("Ping"),wr({},n)).then(i=>xr(i).then(s=>({}))),this.config=(n,i)=>this.fetch(this.url("Config"),wr(n,i)).then(s=>xr(s).then(o=>({version:o.version,config:o.config}))),this.wallets=(n,i)=>this.fetch(this.url("Wallets"),wr(n,i)).then(s=>xr(s).then(o=>({wallets:o.wallets}))),this.deployHash=(n,i)=>this.fetch(this.url("DeployHash"),wr(n,i)).then(s=>xr(s).then(o=>({deployHash:o.deployHash,context:o.context}))),this.configUpdates=(n,i)=>this.fetch(this.url("ConfigUpdates"),wr(n,i)).then(s=>xr(s).then(o=>({updates:o.updates}))),this.migrations=(n,i)=>this.fetch(this.url("Migrations"),wr(n,i)).then(s=>xr(s).then(o=>({migrations:o.migrations}))),this.saveConfig=(n,i)=>this.fetch(this.url("SaveConfig"),wr(n,i)).then(s=>xr(s).then(o=>({}))),this.saveWallet=(n,i)=>this.fetch(this.url("SaveWallet"),wr(n,i)).then(s=>xr(s).then(o=>({}))),this.saveSignature=(n,i)=>this.fetch(this.url("SaveSignature"),wr(n,i)).then(s=>xr(s).then(o=>({}))),this.saveSignerSignatures=(n,i)=>this.fetch(this.url("SaveSignerSignatures"),wr(n,i)).then(s=>xr(s).then(o=>({}))),this.saveMigration=(n,i)=>this.fetch(this.url("SaveMigration"),wr(n,i)).then(s=>xr(s).then(o=>({}))),this.hostname=e,this.fetch=(n,i)=>r(n,i)}url(e){return this.hostname+this.path+e}}const wr=(t={},e={})=>({method:"POST",headers:wn({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{})}),xr=t=>t.text().then(e=>{let r;try{r=JSON.parse(e)}catch{throw{code:"unknown",msg:`expecting JSON, got: ${e}`,status:t.status}}if(!t.ok)throw r;return r});class rE{constructor(e,r=!0){this.onlyRecoverable=r,this.sessions=new tE(e,fetch)}async loadPresignedConfiguration(e){try{const{updates:r}=await this.sessions.configUpdates({wallet:e.wallet,fromImageHash:e.fromImageHash,allUpdates:e.longestPath});return r.map(({toImageHash:n,signature:i})=>({wallet:e.wallet,nextImageHash:n,signature:i}))}catch(r){if(Qa(r))return[];throw r}}async savePresignedConfiguration(e){const r=e.nextConfig,n=ur.genericCoderFor(r.version).config.imageHashOf(r),i=J.signature.setImageHashStruct(n),s=ue(i);await this.sessions.saveSignature({wallet:e.wallet,digest:s,chainID:"0",signature:e.signature,toConfig:Ks(r)})}async saveWitnesses(e){let r=e.signatures;this.onlyRecoverable&&(r=r.filter(n=>oe.signer.canRecover(n))),await this.sessions.saveSignerSignatures({wallet:e.wallet,digest:e.digest,chainID:pi(e.chainId),signatures:r})}async configOfImageHash(e){try{const{version:r,config:n}=await this.sessions.config(e);return nE(r,n)}catch(r){if(Qa(r))return;throw r}}async saveWalletConfig(e){const r=Ks(e.config);await this.sessions.saveConfig({version:e.config.version,config:r})}async imageHashOfCounterfactualWallet(e){try{const{deployHash:r,context:n}=await this.sessions.deployHash(e);return{imageHash:r,context:n}}catch(r){if(Qa(r))return;throw r}}async saveCounterfactualWallet(e){const r=Ks(e.config);await this.sessions.saveWallet({version:e.config.version,deployConfig:r})}async walletsOfSigner(e){const{wallets:r}=await this.sessions.wallets(e);return Object.entries(r).map(([n,{digest:i,chainID:s,type:o,signature:a}])=>{switch(o){case Ya.EIP712:a+=L(oe.signer.SigType.EIP712).slice(2);break;case Ya.EthSign:a+=L(oe.signer.SigType.ETH_SIGN).slice(2);break;case Ya.EIP1271:a+=L(oe.signer.SigType.WALLET_BYTES32).slice(2);break}return{wallet:n,proof:{digest:i,signature:a,chainId:R.from(s)}}})}async getMigration(e,r,n,i){var s=this;const o=pi(i),{migrations:a}=await this.sessions.migrations({wallet:e,fromVersion:n,fromImageHash:r,chainID:o}),l=async function(p){const v=a[p];if(v){const E=Object.keys(v).map(Number).sort((C,_)=>_-C);for(const C of E)for(const[_,D]of Object.entries(v[C]))try{const k=await s.configOfImageHash({imageHash:_});if(k)return{fromVersion:n,toVersion:C,toConfig:k,tx:{entrypoint:D.executor,transactions:D.transactions,nonce:D.nonce,signature:D.signature,chainId:p,intent:{id:oe.transaction.subdigestOfTransactions(e,p,D.nonce,D.transactions),wallet:e}}}}catch(k){console.error(k)}}},c=await l(o);if(c)return c;for(const h in a)if(h!==o){const p=await l(h);if(p)return p}}async saveMigration(e,r,n){await this.sessions.saveMigration({wallet:e,fromVersion:r.fromVersion,toVersion:r.toVersion,toConfig:Ks(r.toConfig),executor:r.tx.entrypoint,transactions:r.tx.transactions.map(iE),nonce:pi(r.tx.nonce),signature:r.tx.signature,chainID:pi(r.tx.chainId)})}}function Ks(t){switch(t.version){case 1:if(mn.config.ConfigCoder.isWalletConfig(t))return{threshold:Wn(t.threshold),signers:t.signers.map(({weight:e,address:r})=>({weight:Wn(e),address:r}))};throw new Error(`not a v${t.version} config: ${t}`);case 2:if(J.config.ConfigCoder.isWalletConfig(t))return{threshold:Wn(t.threshold),checkpoint:Wn(t.checkpoint),tree:oo(t.tree)};throw new Error(`not a v${t.version} config: ${t}`);default:throw new Error(`unknown version ${t.version}`)}}function oo(t){return J.config.isNode(t)?{left:oo(t.left),right:oo(t.right)}:J.config.isSignerLeaf(t)?{weight:Wn(t.weight),address:t.address}:J.config.isNestedLeaf(t)?{weight:Wn(t.weight),threshold:Wn(t.threshold),tree:oo(t.tree)}:J.config.isNodeLeaf(t)?{node:t.nodeHash}:wn({},t)}function nE(t,e){switch(t){case 1:return wn({},e,{version:t});case 2:return wn({},e,{version:t,tree:ao(e.tree)});default:throw new Error(`unknown version ${t}`)}}function ao(t){switch(typeof t){case"object":const e=wn({},t);return e.left!==void 0&&(e.left=ao(e.left)),e.right!==void 0&&(e.right=ao(e.right)),e.tree!==void 0&&(e.tree=ao(e.tree)),e.node!==void 0&&(e.nodeHash=e.node,delete e.node),e;default:throw new Error(`v2 config tree ${t} is not an object`)}}function iE(t){return{to:t.to,value:t.value!==void 0?pi(t.value):void 0,data:t.data!==void 0?L(t.data):void 0,gasLimit:t.gasLimit!==void 0?pi(t.gasLimit):void 0,delegateCall:t.delegateCall,revertOnError:t.revertOnError}}function Wn(t){return R.from(t).toNumber()}function pi(t){return R.from(t).toString()}function Qa(t){return typeof t=="object"&&t.status===404}var sE=Object.freeze({__proto__:null,RemoteConfigTracker:rE});function Gl(t,e,r){return new Promise(n=>{let i=0;t.forEach(s=>s.then(o=>{r(o)?n(o):(i++,i===t.length&&n(e))}).catch(()=>{i++,i===t.length&&n(e)}))})}async function Xi(t,e){return Promise.all(t.map(r=>r.catch(()=>e)))}class oE{constructor(e){this.trackers=e}async configOfImageHash(e){const r=this.trackers.map(async function(a,l){return{res:await a.configOfImageHash(e),i:l}}),n=await Gl(r,void 0,a=>a?.res===void 0?!1:ur.genericCoderFor(a.res.version).config.isComplete(a.res));if(n!=null&&n.res)return this.saveWalletConfig({config:n.res,skipTracker:n.i}),n.res;const i=new kg(void 0),s=await Xi(r,void 0);for(const a of s)a!=null&&a.res&&await i.saveWalletConfig({config:a.res});const o=await i.configOfImageHash(e);return o&&this.saveWalletConfig({config:o}),o}async saveWalletConfig(e){await Promise.all(this.trackers.map((r,n)=>{if(n!==e.skipTracker)return r.saveWalletConfig(e)}))}async imageHashOfCounterfactualWallet(e){const r=await Gl(this.trackers.map(n=>n.imageHashOfCounterfactualWallet(e)),void 0,n=>Boolean(n));return r&&this.configOfImageHash({imageHash:r.imageHash}).then(n=>{n&&this.saveCounterfactualWallet({config:n,context:[r.context]})}),r}async saveCounterfactualWallet(e){await Promise.all(this.trackers.map((r,n)=>{if(n!==e.skipTracker)return r.saveCounterfactualWallet(e)}))}async walletsOfSigner(e){const r=await Xi(this.trackers.map(o=>o.walletsOfSigner(e)),[]).then(o=>o.flat()),n={};for(const o of r)n[o.wallet]=o.proof;const i=Object.keys(n).map(o=>({wallet:o,proof:n[o]})),s=new Map;return i.forEach(({wallet:o,proof:{digest:a,chainId:l,signature:c}})=>{const h=`${o}-${a}-${l}`;let p=s.get(h);p||(p={wallet:o,digest:a,chainId:l,signatures:[]},s.set(h,p)),p.signatures.push(c)}),s.forEach(o=>this.saveWitnesses(o)),i}async saveWitnesses(e){await Promise.all(this.trackers.map(r=>r.saveWitnesses(e)))}async loadPresignedConfiguration(e){var r=this;const n=await Xi(this.trackers.map(l=>l.loadPresignedConfiguration(e)),[]),s=(await Xi(n.map(async function(l){const c=l[l.length-1],h=await r.configOfImageHash({imageHash:c.nextImageHash});if(h)return{checkpoint:ur.genericCoderFor(h.version).config.checkpointOf(h),result:l}}),void 0)).reduce((l,c)=>c&&(!l||c.checkpoint.gt(l.checkpoint))?c:l);if(!s)return[];const o=new Map,a=l=>(o.has(l)||o.set(l,this.configOfImageHash({imageHash:l})),o.get(l));return s.result.forEach(async function(l){const c=await a(l.nextImageHash);c&&r.savePresignedConfiguration({wallet:e.wallet,nextConfig:c,signature:l.signature})}),s.result}async savePresignedConfiguration(e){await Promise.all(this.trackers.map(r=>r.savePresignedConfiguration(e)))}async getMigration(e,r,n,i){return(await Promise.all(this.trackers.map(o=>o.getMigration(e,r,n,i)))).find(o=>!!o)}async saveMigration(e,r,n){await Promise.all(this.trackers.map(i=>i.saveMigration(e,r,n)))}}class aE{constructor(e,r,n){this.tracker=e,this.cache=r,this.contexts=n}async loadPresignedConfiguration(e){var r=this;const n=new Map,i=l=>(n.has(l)||n.set(l,this.configOfImageHash({imageHash:l})),n.get(l)),s=[this.tracker.loadPresignedConfiguration(e),this.cache.loadPresignedConfiguration(e)],a=(await Promise.all(s.map(async function(l){const c=await l,h=c[c.length-1];if(!h)return;const p=await i(h.nextImageHash);if(p)return{checkpoint:ur.genericCoderFor(p.version).config.checkpointOf(p),result:c}}))).reduce((l,c)=>c&&(!l||c.checkpoint.gt(l.checkpoint))?c:l);return a?(async function(){for(const l of a.result){const c=await i(l.nextImageHash);c&&r.cache.savePresignedConfiguration({wallet:e.wallet,nextConfig:c,signature:l.signature})}}(),a.result):[]}async savePresignedConfiguration(e){await Promise.all([this.tracker.savePresignedConfiguration(e),this.cache.savePresignedConfiguration(e)])}async configOfImageHash(e){const r=await this.cache.configOfImageHash(e);if(r)return r;const n=await this.tracker.configOfImageHash(e);return n&&await this.cache.saveWalletConfig({config:n}),n}async saveWalletConfig(e){await Promise.all([this.tracker.saveWalletConfig(e),this.cache.saveWalletConfig(e)])}async imageHashOfCounterfactualWallet(e){const r=await this.cache.imageHashOfCounterfactualWallet(e);if(r)return r;const n=await this.tracker.imageHashOfCounterfactualWallet(e);if(n){const i=await this.configOfImageHash({imageHash:n.imageHash});i&&await this.cache.saveCounterfactualWallet({config:i,context:[n.context]})}return n}async saveCounterfactualWallet(e){await Promise.all([this.tracker.saveCounterfactualWallet(e),this.cache.saveCounterfactualWallet(e)])}async walletsOfSigner(e){const r=await Promise.all([this.tracker.walletsOfSigner(e),this.cache.walletsOfSigner(e)]),n=new Map;for(const i of r)for(const s of i)n.set(s.wallet,s);return Array.from(n.values())}async saveWitnesses(e){await Promise.all([this.tracker.saveWitnesses(e),this.cache.saveWitnesses(e)])}async getMigration(e,r,n,i){const s=await this.cache.getMigration(e,r,n,i);if(s)return s;const o=await this.tracker.getMigration(e,r,n,i);return o&&await this.cache.saveMigration(e,o,this.contexts),o}async saveMigration(e,r,n){await Promise.all([this.tracker.saveMigration(e,r,n),this.cache.saveMigration(e,r,n)])}}class If{constructor(){this.cache=new Map}do(e,r,n,...i){e=`${e}:${ue(zt(JSON.stringify(i,lE)))}`;let s=this.cache.get(e);if(s&&s.expiration&&new Date>=s.expiration&&(s=void 0,this.cache.delete(e)),!s){const o={promise:n(...i)};r!==void 0&&(o.promise=o.promise.then(a=>(o.expiration=new Date(Date.now()+r),a))),s=o,this.cache.set(e,s)}return s.promise}}function lE(t,e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).sort()):e}function uE(t){return t instanceof _g}class _g{constructor(e,r=50,n=!1){this.cache=new If,this.tracker=e,this.window=r,this.verbose=n}invalidateCache(){this.cache=new If}configOfImageHash(e){return this.cache.do("configOfImageHash",this.window,r=>this.tracker.configOfImageHash(r),e)}getMigration(e,r,n,i){return this.cache.do("getMigration",this.window,(...s)=>this.tracker.getMigration(...s),e,r,n,i)}saveMigration(e,r,n){return this.cache.do("saveMigration",void 0,(...i)=>this.tracker.saveMigration(...i),e,r,n)}loadPresignedConfiguration(e){return this.cache.do("loadPresignedConfiguration",this.window,r=>this.tracker.loadPresignedConfiguration(r),e)}savePresignedConfiguration(e){return this.cache.do("savePresignedConfiguration",void 0,r=>this.tracker.savePresignedConfiguration(r),e)}saveWitnesses(e){return this.cache.do("saveWitnesses",void 0,r=>this.tracker.saveWitnesses(r),e)}saveWalletConfig(e){return this.cache.do("saveWalletConfig",void 0,r=>this.tracker.saveWalletConfig(r),e)}imageHashOfCounterfactualWallet(e){return this.cache.do("imageHashOfCounterfactualWallet",void 0,r=>this.tracker.imageHashOfCounterfactualWallet(r),e)}saveCounterfactualWallet(e){return this.cache.do("saveCounterfactualWallet",void 0,r=>this.tracker.saveCounterfactualWallet(r),e)}walletsOfSigner(e){return this.cache.do("walletsOfSigner",this.window,r=>this.tracker.walletsOfSigner(r),e)}}var Wl=Object.freeze({__proto__:null,debug:Q2,local:eE,remote:sE,stores:Z2,raceUntil:Gl,allSafe:Xi,MultipleTracker:oE,CachedTracker:aE,isDedupedTracker:uE,DedupedTracker:_g});const cE=new Wl.remote.RemoteConfigTracker("https://sessions.sequence.app"),Ig=new Wl.CachedTracker(cE,new Wl.local.LocalConfigTracker(Qi[0].provider),zh),fE=t=>{const e={},r={},n={},i={};return Qi.forEach(s=>{e[s.chainId]=ut(),n[s.chainId]=ut(),i[s.chainId]=ut(!1),r[s.chainId]=ut()}),(async()=>vl(t)&&Qi.forEach(async s=>{i[s.chainId][1](!0),n[s.chainId][1](void 0);try{const o=new Gu({address:t,tracker:Ig,contexts:zh,orchestrator:new zu([]),networks:Qi}),[a,l]=await Promise.all([o.status(s.chainId,!1),o.status(s.chainId,!0)]),c={...l,network:s},h={...a,network:s};e[s.chainId][1](c),r[s.chainId][1](h)}catch(o){n[s.chainId][1](o)}i[s.chainId][1](!1)}))(),{address:t,networks:Qi,status:s=>e[s][0](),statusShort:s=>r[s][0](),error:s=>n[s][0](),loading:s=>i[s][0]()}},dE=Me("<h2>Sequence account</h2>"),hE=Me("<br>"),gE=t=>{const[e,r]=ut(!1);xt(()=>{r(t.store.networks.some(a=>t.store.error(a.chainId)))});const n=()=>{const a=t.store.networks.find(l=>!t.store.loading(l.chainId)&&t.store.status(l.chainId));return a?{value:t.store.status(a.chainId).original.imageHash}:{}},i=()=>{const a=t.store.networks.find(c=>!t.store.loading(c.chainId)&&t.store.status(c.chainId));if(!a)return{};const l=t.store.status(a.chainId).original.version;return{value:l.toString(),status:l===rs?"green":"yellow"}},s=()=>t.store.networks.some(l=>t.store.loading(l.chainId))?{}:e()?{value:"Unknown",status:"red"}:t.store.networks.every(l=>t.store.status(l.chainId)?.version===rs)?{value:"Yes",status:"green"}:t.store.networks.some(l=>t.store.status(l.chainId)?.version===rs)?{value:"Partially",status:"yellow"}:{value:"No",status:"red"},o=()=>{if(t.store.networks.some(c=>t.store.loading(c.chainId)))return{};if(e())return{value:"Unknown",status:"red"};const l=new Set(t.store.networks.map(c=>t.store.status(c.chainId)?.imageHash));return l.size===1?{value:l.values().next().value,status:"green"}:{value:`Multiple (${l.size})`,status:"red"}};return y(be,{sx:{flexGrow:1},get children(){return y(hr,{container:!0,spacing:2,get children(){return[y(_t,{grid:!0,label:"Address",get value(){return t.store.address}}),y(No,X({grid:!0,label:"Initial image hash"},n)),y(_t,X({grid:!0,label:"Initial version"},i)),y(_t,X({grid:!0,label:"Fully migrated"},s)),y(No,X({grid:!0,label:"Last image hash"},o))]}})}})},pE=t=>{const e=fE(t.address),r=()=>e.networks.every(n=>e.loading(n.chainId));return y(ne,{get when(){return!r()},get fallback(){return y(xu,{})},get children(){return[dE.cloneNode(!0),y(gE,{store:e}),hE.cloneNode(!0),y(Yx,{store:e})]}})},Tg=Wr();function mE(t){return ot("MuiTable",t)}at("MuiTable",["root","stickyHeader"]);const yE=Ce()({name:"MuiTable",propDefaults:({set:t})=>t({component:Ng,padding:"normal",size:"medium",stickyHeader:!1}),selfPropNames:["children","classes","padding","size","stickyHeader"],utilityClass:mE,slotClasses:t=>({root:["root",t.stickyHeader&&"stickyHeader"]})}),bE=ve("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>[e.root,t.ownerState.stickyHeader&&e.stickyHeader]})(({theme:t,ownerState:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:t.palette.text.secondary,textAlign:"left",captionSide:"bottom"},...e.stickyHeader&&{borderCollapse:"separate"}})),Ng="table",vE=yE.component(function({allProps:e,classes:r,otherProps:n,props:i}){return y(Tg.Provider,{value:{get padding(){return i.padding},get size(){return i.size},get stickyHeader(){return i.stickyHeader}},get children(){return y(bE,X({get role(){return e.component===Ng?null:"table"}},n,{get class(){return de(r.root,n.class)},ownerState:e,get children(){return i.children}}))}})}),da=Wr();function wE(t){return ot("MuiTableBody",t)}at("MuiTableBody",["root"]);const xE=Ce()({name:"MuiTableBody",propDefaults:({set:t})=>t({component:Rg}),selfPropNames:["children","classes"],utilityClass:wE,slotClasses:()=>({root:["root"]})}),AE=ve("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),Rg="tbody",EE=xE.component(function({allProps:e,classes:r,props:n,otherProps:i}){return y(da.Provider,{value:{variant:"body"},get children(){return y(AE,X({get role(){return i.component===Rg?null:"rowgroup"}},i,{get class(){return de(r.root,i.class)},ownerState:e,get children(){return n.children}}))}})});function SE(t){return ot("MuiTableCell",t)}const CE=at("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Tf=Ce()({name:"MuiTableCell",propDefaults:({set:t})=>t({align:"inherit"}),selfPropNames:["align","children","classes","component","padding","scope","size","sortDirection","variant"],autoCallUseClasses:!1,utilityClass:SE,slotClasses:t=>({root:["root",t.variant,t.stickyHeader&&"stickyHeader",t.align!=="inherit"&&`align${he(t.align)}`,t.padding!=="normal"&&`padding${he(t.padding)}`,`size${he(t.size)}`]})}),ME=ve("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>[e.root,e[t.ownerState.variant],e[`size${he(t.ownerState.size)}`],t.ownerState.padding!=="normal"&&e[`padding${he(t.ownerState.padding)}`],t.ownerState.align!=="inherit"&&e[`align${he(t.ownerState.align)}`],t.ownerState.stickyHeader&&e.stickyHeader]})(({theme:t,ownerState:e})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:`1px solid
    ${t.palette.mode==="light"?Yl(Pt(t.palette.divider,1),.88):Jl(Pt(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,...e.variant==="head"&&{color:t.palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},...e.variant==="body"&&{color:t.palette.text.primary},...e.variant==="footer"&&{color:t.palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},...e.size==="small"&&{padding:"6px 16px",[`&.${CE.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},...e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},...e.padding==="none"&&{padding:0},...e.align==="left"&&{textAlign:"left"},...e.align==="center"&&{textAlign:"center"},...e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},...e.align==="justify"&&{textAlign:"justify"},...e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:t.palette.background.default}})),li=Tf.component(function({otherProps:e,allProps:r,props:n}){const i=fr(Tg),s=fr(da),o=()=>s&&s.variant==="head",a=()=>r.component||o()?"th":"td",l=()=>!n.scope&&o()?"col":n.scope,c=()=>n.variant||s&&s.variant,h=()=>n.sortDirection?n.sortDirection==="asc"?"ascending":"descending":void 0,p=X(r,{get component(){return a()},get padding(){return n.padding||(i&&i.padding?i.padding:"normal")},get size(){return n.size||(i&&i.size?i.size:"medium")},get sortDirection(){return n.sortDirection},get stickyHeader(){return c()==="head"&&i&&i.stickyHeader},get variant(){return c()}}),v=Tf.useClasses(p),E=iu(ME,"th");return y(E,X({get as(){return n.component},get scope(){return l()},get["aria-sort"](){return h()}},e,{get class(){return de(v.root,e.class)},ownerState:p,get children(){return n.children}}))});function kE(t){return ot("MuiTableHead",t)}at("MuiTableHead",["root"]);const _E=Ce()({name:"MuiTableHead",propDefaults:({set:t})=>t({component:Pg}),selfPropNames:["children","classes"],utilityClass:kE,slotClasses:()=>({root:["root"]})}),IE=ve("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),TE={variant:"head"},Pg="thead",NE=_E.component(function({classes:e,allProps:r,otherProps:n,props:i}){return y(da.Provider,{value:TE,get children(){return y(IE,X({get role(){return n.component===Pg?null:"rowgroup"}},n,{get class(){return de(e.root,n.class)},ownerState:r,get children(){return i.children}}))}})});function RE(t){return ot("MuiTableRow",t)}const Nf=at("MuiTableRow",["root","selected","hover","head","footer"]),PE=Ce()({name:"MuiTableRow",propDefaults:({set:t})=>t({component:Og,hover:!1,selected:!1}),selfPropNames:["children","classes","hover","selected"],utilityClass:RE,slotClasses:t=>({root:["root",t.selected&&"selected",t.hover&&"hover",t.head&&"head",t.footer&&"footer"]})}),OE=ve("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>[e.root,t.ownerState.head&&e.head,t.ownerState.footer&&e.footer]})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Nf.hover}:hover`]:{backgroundColor:t.palette.action.hover},[`&.${Nf.selected}`]:{backgroundColor:Pt(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:Pt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),Og="tr",Rf=PE.component(function({classes:e,allProps:r,otherProps:n,props:i}){const s=fr(da),o=X(r,{get head(){return s&&s.variant==="head"},get footer(){return s&&s.variant==="footer"}});return y(OE,X({get role(){return n.component===Og?null:"row"}},n,{get class(){return de(e.root,n.class)},ownerState:o,get children(){return i.children}}))}),Pf=[...""],qu=(t,e)=>{const n=Zw.en;let i="",s=ue(t);for(let a=0;a<e;a++){const l=R.from(s).mod(2048).toNumber();i=`${n.getWord(l)} ${i}`,s=ue(s)}const o=R.from(s).mod(Pf.length).toNumber();return`${Pf[o]} ${Io(i)}`},BE=Me("<h2>Imagehash</h2>"),DE=Me("<h3>Wallet config v2</h3>"),LE=Me('<a href="#"></a>'),$E=Me("<div>Imagehash info not found</div>");function Bg(t){console.log("mayBeImageHash",t);try{return t.startsWith("0x")&&t.length===66}catch{}return!1}const FE=t=>{const e=()=>ur.genericCoderFor(t.config.version).config.signersOf(t.config).map(n=>({...n,name:qu(n.address,2)}));return[BE.cloneNode(!0),y(hr,{container:!0,spacing:2,get children(){return[y(_t,{grid:!0,label:"Image Hash",get value(){return t.imageHash}}),y(_t,{grid:!0,label:"Version",get value(){return t.config.version.toString()}}),y(_t,{grid:!0,label:"Signers",get value(){return e().length.toString()}}),y(hr,{item:!0,width:"100%",get children(){return y(ni,{get children(){return y(vE,{sx:{minWidth:650},"aria-label":"simple table",get children(){return[y(NE,{get children(){return y(Rf,{get children(){return[y(li,{children:"Name"}),y(li,{align:"right",children:"Address"}),y(li,{align:"right",children:"Weight"})]}})}}),y(EE,{get children(){return y(Fo,{get each(){return e()},children:r=>y(Rf,{get children(){return[y(li,{component:"th",scope:"row",get children(){return r.name}}),y(li,{align:"right",get children(){return y(Z,{variant:"code",get children(){return r.address}})}}),y(li,{align:"right",get children(){return r.weight.toString()}})]}})})}})]}})}})}})]}}),y(ne,{get when(){return J.config.isWalletConfig(t.config)},get children(){return y(UE,{get config(){return t.config},get imageHash(){return t.imageHash}})}}),y(ne,{get when(){return mn.config.ConfigCoder.isWalletConfig(t.config)},get children(){return y(HE,{get config(){return t.config},get imageHash(){return t.imageHash}})}})]},UE=t=>{const e=()=>{const r=J.config.ConfigCoder.isComplete(t.config);return{value:r?"Yes":"No",status:r?"green":"red"}};return[DE.cloneNode(!0),y(hr,{container:!0,spacing:2,get children(){return[y(_t,{grid:!0,label:"Threshold",get value(){return t.config.threshold.toString()}}),y(_t,{grid:!0,label:"Checkpoint",get value(){return t.config.checkpoint.toString()}}),y(_t,X({grid:!0,label:"Complete"},e)),y(hr,{item:!0,width:"100%",get children(){return y(ni,{get children(){return y(be,{alignContent:"left",textAlign:"left",get children(){return y(lo,{get node(){return t.config.tree}})}})}})}})]}})]},lo=t=>{const[e,r]=ut(!0),n=()=>t.background??255,i=l=>{l.preventDefault(),r(!e())},s=()=>To(n(),1),o=()=>To(n(),2,s()),a=()=>J.config.isNode(t.node)?{label:"Node",color:"gray"}:J.config.isSignerLeaf(t.node)?{label:"Signer",color:"green"}:J.config.isNestedLeaf(t.node)?{label:"Nested",color:"purple"}:J.config.isSubdigestLeaf(t.node)?{label:"Subdigest",color:"blue"}:{label:"Unknown",color:"red"};return y(be,{sx:{borderRadius:"0.25rem"},get backgroundColor(){return`rgb(${n()}, ${n()}, ${n()})`},p:"0.5rem",get children(){return[y(Z,{sx:{fontSize:12,fontWeight:"bold"},get color(){return a().color},get children(){return a().label}}),y(be,{ml:"0.15rem",mb:"0.25rem",mr:"0.15rem",mt:"0.05rem",get children(){return[(()=>{const l=LE.cloneNode(!0);return l.$$click=i,Zr(l,()=>e()?"-":"+"),l})(),y(Z,{marginLeft:"0.5rem",variant:"code",get children(){return J.config.hashNode(t.node)}})]}}),y(ne,{get when(){return e()},get children(){return[y(ne,{get when(){return J.config.isNode(t.node)?t.node:void 0},keyed:!0,children:l=>y(be,{pl:"1rem",get children(){return[y(lo,{get node(){return l.left},get background(){return s()}}),y(be,{pt:"0.5rem",get children(){return y(lo,{get node(){return l.right},get background(){return o()}})}})]}})}),y(ne,{get when(){return J.config.isSignerLeaf(t.node)?t.node:void 0},keyed:!0,children:l=>y(be,{marginLeft:"1.5rem",get children(){return[y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Name"}),y(Z,{variant:"code",get children(){return qu(l.address,2)}}),y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Weight"}),y(Z,{variant:"code",get children(){return l.weight.toString()}}),y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Address"}),y(Z,{variant:"code",get children(){return l.address}})]}})}),y(ne,{get when(){return J.config.isNestedLeaf(t.node)?t.node:void 0},keyed:!0,children:l=>y(be,{marginLeft:"1.5rem",get children(){return[y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Thershold"}),y(Z,{variant:"code",get children(){return l.threshold.toString()}}),y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Weight"}),y(Z,{variant:"code",get children(){return l.weight.toString()}}),y(be,{pt:"0.5rem",get children(){return y(lo,{get node(){return l.tree},get background(){return o()}})}})]}})}),y(ne,{get when(){return J.config.isSubdigestLeaf(t.node)?t.node:void 0},keyed:!0,children:l=>y(be,{marginLeft:"1.5rem",get children(){return[y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Subdigest"}),y(Z,{variant:"code",get children(){return l.subdigest}})]}})})]}})]}})},HE=t=>y(hr,{container:!0,spacing:2,mt:"1rem",get children(){return y(_t,{grid:!0,label:"Threshold",get value(){return t.config.threshold.toString()}})}}),zE=t=>{if(!Bg(t.imageHash))return[];const[e,r]=ut(),[n,i]=ut(!0);return xt(()=>{i(!0),r(void 0),Ig.configOfImageHash(t).then(s=>{r(s),i(!1)}).catch(s=>{console.error(s),i(!1)})}),[y(ne,{get when(){return n()},get children(){return y(xu,{})}}),y(ne,{get when(){return e()},keyed:!0,children:s=>y(FE,{config:s,get imageHash(){return t.imageHash}})}),y(ne,{get when(){return Se(()=>!e())()&&!n()},get children(){return $E.cloneNode(!0)}})]};Ms(["click"]);const GE=Me("<h2>Signature</h2>"),WE=Me('<a href="#"></a>'),VE=Me('<a href="#">[->]</a>'),qE=t=>{const e=()=>{switch(t.signature.type){case J.signature.SignatureType.Chained:return"Chained";case J.signature.SignatureType.Legacy:return"Legacy";case J.signature.SignatureType.NoChainIdDynamic:return"No ChainId";case J.signature.SignatureType.Dynamic:return"Dynamic";default:return"Unknown"}};return[GE.cloneNode(!0),y(hr,{container:!0,spacing:2,get children(){return[y(_t,{grid:!0,label:"Version",get value(){return t.signature.version.toString()}}),y(_t,{grid:!0,label:"Type",get value(){return e()}}),y(hr,{item:!0,width:"100%",get children(){return[y(Z,{pb:"1rem",pt:"1rem",textAlign:"left",children:"Decoded / Recovered"}),y(ni,{get children(){return y(be,{alignContent:"left",textAlign:"left",get children(){return y(uo,{get node(){return t.signature.decoded.tree}})}})}})]}})]}})]},uo=t=>{const[e,r]=ut(!0),n=()=>t.background??255,i=c=>{c.preventDefault(),r(!e())},s=()=>To(n(),1),o=()=>To(n(),2,s()),a=()=>{if(J.signature.isUnrecoveredNode(t.node)){try{return J.config.hashNode(t.node),{label:"Node",color:"gray"}}catch{}return{label:"Unrecovered node",color:"gray"}}return J.signature.isUnrecoveredSignatureLeaf(t.node)?{label:"Unrecovered signature",color:"blue"}:J.config.isSignerLeaf(t.node)?{label:"Signer witness",color:"green"}:J.config.isNodeLeaf(t.node)?{label:"Node witness",color:"orange"}:J.config.isSubdigestLeaf(t.node)?{label:"Subdigest leaf",color:"purple"}:J.config.isNestedLeaf(t.node)?{label:"Nested leaf",color:"pink"}:{label:"Unknown",color:"red"}},l=()=>{if(J.config.isLeaf(t.node))return J.config.hashNode(t.node);try{return J.config.hashNode(t.node)}catch{}return"Node hash not available"};return y(be,{sx:{borderRadius:"0.25rem"},get backgroundColor(){return`rgb(${n()}, ${n()}, ${n()})`},p:"0.5rem",get children(){return[y(Z,{sx:{fontSize:12,fontWeight:"bold"},get color(){return a().color},get children(){return a().label}}),y(be,{ml:"0.15rem",mb:"0.25rem",mr:"0.15rem",mt:"0.05rem",get children(){return[(()=>{const c=WE.cloneNode(!0);return c.$$click=i,Zr(c,()=>e()?"-":"+"),c})(),y(Z,{marginLeft:"0.5rem",variant:"code",get children(){return l()}})]}}),y(ne,{get when(){return e()},get children(){return[y(ne,{get when(){return J.config.isNestedLeaf(t.node)?t.node:void 0},keyed:!0,children:c=>y(be,{pl:"1rem",get children(){return[y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Thershold"}),y(Z,{variant:"code",get children(){return c.threshold.toString()}}),y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Weight"}),y(Z,{variant:"code",get children(){return c.weight.toString()}}),y(uo,{get node(){return c.tree},get background(){return s()}})]}})}),y(ne,{get when(){return J.config.isNode(t.node)?t.node:void 0},keyed:!0,children:c=>y(be,{pl:"1rem",get children(){return[y(uo,{get node(){return c.left},get background(){return s()}}),y(be,{pt:"0.5rem",get children(){return y(uo,{get node(){return c.right},get background(){return o()}})}})]}})}),y(ne,{get when(){return J.config.isSignerLeaf(t.node)?t.node:void 0},keyed:!0,children:c=>y(be,{marginLeft:"1.5rem",get children(){return[y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Name"}),y(Z,{variant:"code",get children(){return qu(c.address,2)}}),y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Weight"}),y(Z,{variant:"code",get children(){return c.weight.toString()}}),y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Address"}),y(Z,{variant:"code",get children(){return c.address}}),y(ne,{get when(){return c.signature},keyed:!0,children:h=>y(Of,{signature:h})})]}})}),y(ne,{get when(){return J.signature.isUnrecoveredSignatureLeaf(t.node)&&!J.config.isSignerLeaf(t.node)?t.node:void 0},keyed:!0,children:c=>y(be,{marginLeft:"1.5rem",get children(){return y(Of,{get signature(){return c.signature}})}})})]}})]}})},Of=t=>{const e=()=>{const i=z(t.signature);switch(i[i.length-1]){case 1:return"EIP712";case 2:return"ETH_SIGN";case 3:return"EIP1271"}return"Unknown"},r=()=>e()==="EIP1271",n=()=>{const i=z(t.signature);return L(i.slice(0,i.length-1))};return[y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Type"}),y(Z,{variant:"code",get children(){return e()}}),y(Z,{sx:{fontSize:14},color:"text.secondary",children:"Signature"}),y(Z,{variant:"code",get children(){return n()}}),y(ne,{get when(){return r()},get children(){return y(Z,{variant:"code",ml:"0.5rem",get children(){const i=VE.cloneNode(!0);return i.$$click=()=>Yr(n()),i}})}})]};Ms(["click"]);const jE=Me("<div>You need to enter something</div>"),KE=Me("<div>What is this?</div>"),Bf=t=>{const e=()=>{const s=t.input??"";return s.includes("#")?vl(s.split("#")[0]):vl(t.input??"")},r=()=>Bg(t.input??""),n=()=>!t.optional&&(t.input===""||!t.input),i=()=>{try{return J.signature.SignatureCoder.decode(t.input??"")}catch{}};return[y(ne,{get when(){return e()},get children(){return y(pE,{get address(){return Rl(t.input).address}})}}),y(ne,{get when(){return r()},get children(){return y(zE,{get imageHash(){return t.input}})}}),y(ne,{get when(){return i()},keyed:!0,children:s=>y(qE,{signature:s})}),y(ne,{get when(){return n()},get children(){return jE.cloneNode(!0)}}),y(ne,{get when(){return Se(()=>!e()&&!n()&&!r())()&&i()===void 0},get children(){return KE.cloneNode(!0)}})]},JE=Me("<div></div>"),YE=Yf({palette:{primary:{main:"#1976d2",contrastText:"white"}},typography:{code:{fontSize:"0.9rem",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word"}}}),QE=()=>{const t=()=>Hn()!==""&&Hn()!==void 0;return y(op,{theme:YE,get children(){const e=JE.cloneNode(!0);return Zr(e,y(Gm,{}),null),Zr(e,y(be,{get class(){return Hi.ViewContainer},get children(){return[y(be,{get class(){return Hi.ViewBox},get children(){return y(be,{sx:{p:"1rem"},get children(){return y(hl.Provider,{value:1,get children(){return y(Bf,{get input(){return gs()}})}})}})}}),y(ne,{get when(){return t()},get children(){return y(be,{get class(){return`${Hi.ViewBox2} ${Hi.scrollable}`},get children(){return y(be,{sx:{p:"1rem"},get children(){return[y(be,{sx:{display:"flex"},justifyContent:"space-between",get children(){return[y(bo,{variant:"outlined",sx:{m:"0.25rem"},onClick:()=>{window.open(`/?input=${Hn()}`,"_blank")},children:"Focus"}),y(bo,{variant:"outlined",sx:{m:"0.25rem"},onClick:()=>Yr(""),children:"Close"})]}}),y(hl.Provider,{value:2,get children(){return y(Bf,{optional:!0,get input(){return Hn()}})}})]}})}})}})]}}),null),er(()=>Uo(e,Hi.App)),e}})},XE=document.getElementById("root");i0(()=>y(QE,{}),XE);
