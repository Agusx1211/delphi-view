import{n as k,B as $,s as Y,i as me,I as ze,p as pe,b as Rr,a as vn,c as xn,d as V,e as kt,h as q,t as st,f as ya,g as J,j as at,k as vt,l as En,m as F,o as ne,q as N,C as an,r as se,u as Or,v as ha,w as Zt,x as ba,y as ga,z as Oe,A as Ce,D as wa,E as va,U as xa,F as Mr,G as Ea,H as An,J as qr,K as Ur,_ as In,L as jr,M as C,N as fe,O as Lr,P as Aa,T as zr,Q as Ia,R as Dr,S as on,V as Pa,W as xt,X as Fr,Y as Hr,Z as ir,$ as Ba,a0 as Sa,a1 as Ta,a2 as ka,a3 as bt,a4 as _e,a5 as $a,a6 as Ca,a7 as _a,a8 as Na,a9 as $t,aa as Ra,ab as Oa,ac as Ma,ad as qa,ae as cr,af as ur,ag as Ua,ah as Pn,ai as Bn,aj as ja,ak as La,al as za,am as Da,an as dr,ao as Fa,ap as Ha,aq as Gr,ar as Et,as as Zr,at as Ga,au as Za,av as Va,aw as Wa,ax as Ka,ay as Ya,az as Vr,aA as Wr,aB as Sn,aC as Ja,aD as Xa,aE as Qa}from"./index-4b1c0b27.js";import{bq as Vl,aK as Wl,aN as Kl,b2 as Yl,b3 as Jl,aL as Xl,b8 as Ql,b9 as ef,ba as tf,bb as nf,bk as rf,bc as sf,b5 as af,bd as of,be as cf,b4 as uf,b6 as df,aO as lf,aP as ff,bl as pf,bm as mf,aQ as yf,aR as hf,aM as bf,aS as gf,aT as wf,bf as vf,bg as xf,bh as Ef,aU as Af,aV as If,aW as Pf,aX as Bf,aY as Sf,aZ as Tf,bo as kf,b7 as $f,bp as Cf,br as _f,a_ as Nf,bi as Rf,bn as Of,bj as Mf,a$ as qf,b0 as Uf,b1 as jf,bA as Lf,bC as zf,by as Df,bB as Ff,aG as Hf,bs as Gf,bt as Zf,bv as Vf,aI as Wf,bE as Kf,bF as Yf,bx as Jf,bG as Xf,bH as Qf,aH as ep,bz as tp,bJ as np,bK as rp,aF as sp,bw as ap,bI as op,bD as ip,bu as cp,aJ as up}from"./index-4b1c0b27.js";import{c as ce,s as Ne,a as ot,b as eo,f as Re,d as to,t as no,e as ro,g as so,h as ao,i as oo,j as io,k as co}from"./number-b1bd630d.js";import{aU as lp,aW as fp,aX as pp,aT as mp,aV as yp,z as hp,A as bp,B as gp,C as wp,D as vp,E as xp,F as Ep,l as Ap,G as Ip,H as Pp,I as Bp,J as Sp,K as Tp,L as kp,M as $p,N as Cp,O as _p,P as Np,n as Rp,Q as Op,R as Mp,S as qp,o as Up,p as jp,q as Lp,r as zp,u as Dp,v as Fp,m as Hp,w as Gp,x as Zp,y as Vp,a3 as Wp,a4 as Kp,a5 as Yp,a6 as Jp,a7 as Xp,a8 as Qp,a9 as e0,U as t0,aa as n0,ab as r0,ac as s0,ad as a0,ae as o0,af as i0,ag as c0,ah as u0,ai as d0,aj as l0,V as f0,ak as p0,al as m0,am as y0,W as h0,X as b0,Y as g0,Z as w0,_ as v0,$ as x0,T as E0,a0 as A0,a1 as I0,a2 as P0,az as B0,aA as S0,aB as T0,aC as k0,aD as $0,aE as C0,aF as _0,ao as N0,aG as R0,aH as O0,aI as M0,aJ as q0,aK as U0,aL as j0,aM as L0,aN as z0,aO as D0,aP as F0,ap as H0,aQ as G0,aR as Z0,aS as V0,aq as W0,ar as K0,as as Y0,at as J0,au as X0,av as Q0,an as em,aw as tm,ax as nm,ay as rm,aY as sm}from"./number-b1bd630d.js";async function uo(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:k(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]},{retryCount:0})}function ue(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new xo(e.type);return`${e.name}(${Ct(e.inputs,{includeName:t})})`}function Ct(e,{includeName:t=!1}={}){return e?e.map(n=>lo(n,{includeName:t})).join(t?", ":","):""}function lo(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Ct(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Kr extends ${constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class At extends ${constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class al extends ${constructor({data:t,size:n}){super([`Data size of ${n} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeInvalidError"})}}class Yr extends ${constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Ct(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class _t extends ${constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class fo extends ${constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class po extends ${constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Y(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Jr extends ${constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class mo extends ${constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorInputsNotFoundError"})}}class lr extends ${constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorNotFoundError"})}}class Xr extends ${constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class yo extends ${constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class Qr extends ${constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class fr extends ${constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class De extends ${constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class es extends ${constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class ho extends ${constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionSignatureNotFoundError"})}}class bo extends ${constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ue(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ue(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class ts extends ${constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Qe extends ${constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Ct(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Nt extends ${constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ue(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class go extends ${constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class wo extends ${constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class vo extends ${constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class xo extends ${constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class Eo extends ${constructor(t){super(`Type "${t}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}function Pe(e,t){if(e.length!==t.length)throw new Jr({expectedLength:e.length,givenLength:t.length});const n=Ao({params:e,values:t}),r=kn(n);return r.length===0?"0x":r}function Ao({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Tn({param:e[r],value:t[r]}));return n}function Tn({param:e,value:t}){const n=$n(e.type);if(n){const[r,s]=n;return Po(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return $o(t,{param:e});if(e.type==="address")return Io(t);if(e.type==="bool")return So(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return To(t,{signed:r})}if(e.type.startsWith("bytes"))return Bo(t,{param:e});if(e.type==="string")return ko(t);throw new go(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function kn(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?t+=32:t+=Y(i)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(k(t+s,{size:32})),r.push(i),s+=Y(i)):n.push(i)}return ce([...n,...r])}function Io(e){if(!me(e))throw new ze({address:e});return{dynamic:!1,encoded:pe(e.toLowerCase())}}function Po(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new vo(e);if(!r&&e.length!==t)throw new fo({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let o=0;o<e.length;o++){const i=Tn({param:n,value:e[o]});i.dynamic&&(s=!0),a.push(i)}if(r||s){const o=kn(a);if(r){const i=k(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ce([i,o]):i}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:ce(a.map(({encoded:o})=>o))}}function Bo(e,{param:t}){const[,n]=t.type.split("bytes"),r=Y(e);if(!n){let s=e;return r%32!==0&&(s=pe(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ce([pe(k(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new po({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:pe(e,{dir:"right"})}}function So(e){if(typeof e!="boolean")throw new $(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:pe(Rr(e))}}function To(e,{signed:t}){return{dynamic:!1,encoded:k(e,{size:32,signed:t})}}function ko(e){const t=vn(e),n=Math.ceil(Y(t)/32),r=[];for(let s=0;s<n;s++)r.push(pe(Ne(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ce([pe(k(Y(t),{size:32})),...r])}}function $o(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=Array.isArray(e)?s:a.name,i=Tn({param:a,value:e[o]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?kn(r):ce(r.map(({encoded:s})=>s))}}function $n(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Vt="/docs/contract/encodeDeployData";function ns(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Kr({docsPath:Vt});if(!("inputs"in s))throw new At({docsPath:Vt});if(!s.inputs||s.inputs.length===0)throw new At({docsPath:Vt});const a=Pe(s.inputs,n);return ot([r,a])}function Co(e,t){const{abi:n,args:r,bytecode:s,...a}=t,o=ns({abi:n,args:r,bytecode:s});return xn(e,{...a,data:o})}const cn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],rs=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],ss=[...rs,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],_o=[...rs,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],pr=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],mr=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],No=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],ol=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],il=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],cl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokeId",type:"uint256"}],outputs:[]}],ul=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];function dl(e,t){const n=typeof t=="string"?{to:t}:t,r=n.to;return r==="number"?le(e,n):r==="bigint"?as(e,n):r==="boolean"?os(e,n):r==="string"?is(e,n):V(e,n)}function as(e,t={}){typeof t.size<"u"&&kt(e,{size:t.size});const n=V(e,t);return q(n,t)}function os(e,t={}){let n=e;if(typeof t.size<"u"&&(kt(n,{size:t.size}),n=st(n)),n.length>1||n[0]>1)throw new ya(n);return!!n[0]}function le(e,t={}){typeof t.size<"u"&&kt(e,{size:t.size});const n=V(e,t);return J(n,t)}function is(e,t={}){let n=e;return typeof t.size<"u"&&(kt(n,{size:t.size}),n=st(n,{dir:"right"})),new TextDecoder().decode(n)}function Ge(e,t){const n=typeof t=="string"?at(t):t,r=vt(n);if(Y(n)===0&&e.length>0)throw new _t;if(Y(t)&&Y(t)<32)throw new Yr({data:typeof t=="string"?t:V(t),params:e,size:Y(t)});let s=0;const a=[];for(let o=0;o<e.length;++o){const i=e[o];r.setPosition(s);const[c,u]=Le(r,i,{staticPosition:0});s+=u,a.push(c)}return a}function Le(e,t,{staticPosition:n}){const r=$n(t.type);if(r){const[s,a]=r;return Oo(e,{...t,type:a},{length:s,staticPosition:n})}if(t.type==="tuple")return jo(e,t,{staticPosition:n});if(t.type==="address")return Ro(e);if(t.type==="bool")return Mo(e);if(t.type.startsWith("bytes"))return qo(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Uo(e,t);if(t.type==="string")return Lo(e,{staticPosition:n});throw new wo(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const yr=32,un=32;function Ro(e){const t=e.readBytes(32);return[En(V(eo(t,-20))),32]}function Oo(e,t,{length:n,staticPosition:r}){if(!n){const o=le(e.readBytes(un)),i=r+o,c=i+yr;e.setPosition(i);const u=le(e.readBytes(yr)),l=et(t);let d=0;const m=[];for(let p=0;p<u;++p){e.setPosition(c+(l?p*32:d));const[y,f]=Le(e,t,{staticPosition:c});d+=f,m.push(y)}return e.setPosition(r+32),[m,32]}if(et(t)){const o=le(e.readBytes(un)),i=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[l]=Le(e,t,{staticPosition:i});c.push(l)}return e.setPosition(r+32),[c,32]}let s=0;const a=[];for(let o=0;o<n;++o){const[i,c]=Le(e,t,{staticPosition:r+s});s+=c,a.push(i)}return[a,s]}function Mo(e){return[os(e.readBytes(32),{size:32}),32]}function qo(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=le(e.readBytes(32));e.setPosition(n+o);const i=le(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[V(c),32]}return[V(e.readBytes(Number.parseInt(s),32)),32]}function Uo(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?as(s,{signed:n}):le(s,{signed:n}),32]}function jo(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let a=0;if(et(t)){const o=le(e.readBytes(un)),i=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+a);const[l,d]=Le(e,u,{staticPosition:i});a+=d,s[r?c:u?.name]=l}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const i=t.components[o],[c,u]=Le(e,i,{staticPosition:n});s[r?o:i?.name]=c,a+=u}return[s,a]}function Lo(e,{staticPosition:t}){const n=le(e.readBytes(32)),r=t+n;e.setPosition(r);const s=le(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=is(st(a));return e.setPosition(t+32),[o,32]}function et(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(et);const n=$n(e.type);return!!(n&&et({...e,type:n[1]}))}const zo=e=>F(ne(e));function Do(e){return zo(e)}const Fo="1.0.0";class G extends Error{constructor(t,n={}){const r=n.cause instanceof G?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof G&&n.cause.docsPath||n.docsPath,a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Fo}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}}function Be(e,t){return e.exec(t)?.groups}const cs=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,us=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ds=/^\(.+?\).*?$/,hr=/^tuple(?<array>(\[(\d*)\])*)$/;function dn(e){let t=e.type;if(hr.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=dn(a),s<n-1&&(t+=", ")}const r=Be(hr,e.type);return t+=`)${r?.array??""}`,dn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Ye(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=dn(s),r!==n-1&&(t+=", ")}return t}function Ho(e){return e.type==="function"?`function ${e.name}(${Ye(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${Ye(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Ye(e.inputs)})`:e.type==="error"?`error ${e.name}(${Ye(e.inputs)})`:e.type==="constructor"?`constructor(${Ye(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const ls=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Go(e){return ls.test(e)}function Zo(e){return Be(ls,e)}const fs=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Vo(e){return fs.test(e)}function Wo(e){return Be(fs,e)}const ps=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Ko(e){return ps.test(e)}function Yo(e){return Be(ps,e)}const ms=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function it(e){return ms.test(e)}function Jo(e){return Be(ms,e)}const ys=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Xo(e){return ys.test(e)}function Qo(e){return Be(ys,e)}const ei=/^fallback\(\)$/;function ti(e){return ei.test(e)}const ni=/^receive\(\) external payable$/;function ri(e){return ni.test(e)}const It=new Set(["memory","indexed","storage","calldata"]),si=new Set(["indexed"]),ln=new Set(["calldata","memory","storage"]);class ai extends G{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class oi extends G{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class ii extends G{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class ci extends G{constructor({param:t}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class ui extends G{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class di extends G{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class li extends G{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class fi extends G{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class pi extends G{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class mi extends G{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Xe extends G{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class yi extends G{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class hi extends G{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class bi extends G{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class gi extends G{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function wi(e,t){return t?`${t}:${e}`:e}const Wt=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function fn(e,t={}){if(Ko(e)){const n=Yo(e);if(!n)throw new Xe({signature:e,type:"function"});const r=te(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(oe(r[i],{modifiers:ln,structs:t,type:"function"}));const o=[];if(n.returns){const i=te(n.returns),c=i.length;for(let u=0;u<c;u++)o.push(oe(i[u],{modifiers:ln,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}if(Vo(e)){const n=Wo(e);if(!n)throw new Xe({signature:e,type:"event"});const r=te(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(oe(r[o],{modifiers:si,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}if(Go(e)){const n=Zo(e);if(!n)throw new Xe({signature:e,type:"error"});const r=te(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(oe(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(Xo(e)){const n=Qo(e);if(!n)throw new Xe({signature:e,type:"constructor"});const r=te(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(oe(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(ti(e))return{type:"fallback"};if(ri(e))return{type:"receive",stateMutability:"payable"};throw new yi({signature:e})}const vi=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,xi=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ei=/^u?int$/;function oe(e,t){const n=wi(e,t?.type);if(Wt.has(n))return Wt.get(n);const r=ds.test(e),s=Be(r?xi:vi,e);if(!s)throw new di({param:e});if(s.name&&Ii(s.name))throw new li({param:e,name:s.name});const a=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},i=t?.structs??{};let c,u={};if(r){c="tuple";const d=te(s.type),m=[],p=d.length;for(let y=0;y<p;y++)m.push(oe(d[y],{structs:i}));u={components:m}}else if(s.type in i)c="tuple",u={components:i[s.type]};else if(Ei.test(s.type))c=`${s.type}256`;else if(c=s.type,t?.type!=="struct"&&!hs(c))throw new ii({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new fi({param:e,type:t?.type,modifier:s.modifier});if(ln.has(s.modifier)&&!Pi(c,!!s.array))throw new pi({param:e,type:t?.type,modifier:s.modifier})}const l={type:`${c}${s.array??""}`,...a,...o,...u};return Wt.set(n,l),l}function te(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const o=e[a],i=e.slice(a+1);switch(o){case",":return r===0?te(i,[...t,n.trim()]):te(i,t,`${n}${o}`,r);case"(":return te(i,t,`${n}${o}`,r+1);case")":return te(i,t,`${n}${o}`,r-1);default:return te(i,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new gi({current:n,depth:r});return t.push(n.trim()),t}function hs(e){return e==="address"||e==="bool"||e==="function"||e==="string"||cs.test(e)||us.test(e)}const Ai=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Ii(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||cs.test(e)||us.test(e)||Ai.test(e)}function Pi(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Rt(e){const t={},n=e.length;for(let o=0;o<n;o++){const i=e[o];if(!it(i))continue;const c=Jo(i);if(!c)throw new Xe({signature:i,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let m=0;m<d;m++){const y=u[m].trim();if(!y)continue;const f=oe(y,{type:"struct"});l.push(f)}if(!l.length)throw new hi({signature:i});t[c.name]=l}const r={},s=Object.entries(t),a=s.length;for(let o=0;o<a;o++){const[i,c]=s[o];r[i]=bs(c,t)}return r}const Bi=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function bs(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const o=e[a];if(ds.test(o.type))r.push(o);else{const c=Be(Bi,o.type);if(!c?.type)throw new mi({abiParameter:o});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new bi({type:l});r.push({...o,type:`tuple${u??""}`,components:bs(t[l]??[],t,new Set([...n,l]))})}else if(hs(l))r.push(o);else throw new oi({type:l})}}return r}function ll(e){const t=Rt(e),n=[],r=e.length;for(let s=0;s<r;s++){const a=e[s];it(a)||n.push(fn(a,t))}return n}function fl(e){let t;if(typeof e=="string")t=fn(e);else{const n=Rt(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!it(a)){t=fn(a,n);break}}}if(!t)throw new ai({signature:e});return t}function pl(e){let t;if(typeof e=="string")t=oe(e,{modifiers:It});else{const n=Rt(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!it(a)){t=oe(a,{modifiers:It,structs:n});break}}}if(!t)throw new ci({param:e});return t}function ml(e){const t=[];if(typeof e=="string"){const n=te(e),r=n.length;for(let s=0;s<r;s++)t.push(oe(n[s],{modifiers:It}))}else{const n=Rt(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(it(a))continue;const o=te(a),i=o.length;for(let c=0;c<i;c++)t.push(oe(o[c],{modifiers:It,structs:n}))}}if(t.length===0)throw new ui({params:e});return t}function Si(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){a=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!a)throw new $("Unable to normalize signature.");return s}const Ti=e=>{const t=(()=>typeof e=="string"?e:Ho(e))();return Si(t)};function gs(e){return Do(Ti(e))}const Cn=gs,ct=e=>Ne(gs(e),0,4);function Me(e){const{abi:t,args:n=[],name:r}=e,s=N(r,{strict:!1}),a=t.filter(i=>s?i.type==="function"?ct(i)===r:i.type==="event"?Cn(i)===r:!1:"name"in i&&i.name===r);if(a.length===0)return;if(a.length===1)return a[0];let o;for(const i of a){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((u,l)=>{const d="inputs"in i&&i.inputs[l];return d?pn(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=ws(i.inputs,o.inputs,n);if(u)throw new bo({abiItem:i,type:u[0]},{abiItem:o,type:u[1]})}o=i}}return o||a[0]}function pn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return me(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>pn(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>pn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ws(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return ws(s.components,a.components,n[r]);const o=[s.type,a.type];if((()=>o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?me(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?me(n[r],{strict:!1}):!1)())return o}}const Kt="/docs/contract/decodeFunctionResult";function Ze(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const i=Me({abi:t,args:n,name:r});if(!i)throw new De(r,{docsPath:Kt});a=i}if(a.type!=="function")throw new De(void 0,{docsPath:Kt});if(!a.outputs)throw new es(a.name,{docsPath:Kt});const o=Ge(a.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const br="/docs/contract/encodeFunctionData";function ki(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=Me({abi:t,args:n,name:r});if(!a)throw new De(r,{docsPath:br});s=a}if(s.type!=="function")throw new De(void 0,{docsPath:br});return{abi:[s],functionName:ct(ue(s))}}function Se(e){const{args:t}=e,{abi:n,functionName:r}=(()=>e.abi.length===1&&e.functionName?.startsWith("0x")?e:ki(e))(),s=n[0],a=r,o="inputs"in s&&s.inputs?Pe(s.inputs,t??[]):void 0;return ot([a,o??"0x"])}function Ve({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new an({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new an({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const vs={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},$i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ci={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function xs(e){const{abi:t,data:n}=e,r=Ne(n,0,4);if(r==="0x")throw new _t;const a=[...t||[],$i,Ci].find(o=>o.type==="error"&&r===ct(ue(o)));if(!a)throw new Xr(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?Ge(a.inputs,Ne(n,4)):void 0,errorName:a.name}}function Es({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?se(t[a]):t[a]}`).join(", ")})`}class As extends ${constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:m,stateOverride:p}){const y=n?Oe(n):void 0;let f=Or({from:y?.address,to:d,value:typeof m<"u"&&`${ha(m)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${Zt(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Zt(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Zt(u)} gwei`,nonce:l});p&&(f+=`
${ba(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",f].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class _i extends ${constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:i}){const c=Me({abi:n,args:r,name:o}),u=c?Es({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?ue(c,{includeName:!0}):void 0,d=Or({address:s&&ga(s),function:l,args:u&&u!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=i}}class mn extends ${constructor({abi:t,data:n,functionName:r,message:s}){let a,o,i,c;if(n&&n!=="0x")try{o=xs({abi:t,data:n});const{abiItem:l,errorName:d,args:m}=o;if(d==="Error")c=m[0];else if(d==="Panic"){const[p]=m;c=vs[p]}else{const p=l?ue(l,{includeName:!0}):void 0,y=l&&m?Es({abiItem:l,args:m,includeFunctionName:!1,includeName:!1}):void 0;i=[p?`Error: ${p}`:"",y&&y!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${y}`:""]}}catch(l){a=l}else s&&(c=s);let u;a instanceof Xr&&(u=a.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=c,this.signature=u}}class Ni extends ${constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class _n extends ${constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function Nn(e,t){if(!(e instanceof $))return!1;const n=e.walk(r=>r instanceof mn);return n instanceof mn?!!(n.data?.errorName==="ResolverNotFound"||n.data?.errorName==="ResolverWildcardNotSupported"||n.data?.errorName==="ResolverNotContract"||n.data?.errorName==="ResolverError"||n.data?.errorName==="HttpError"||n.reason?.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===vs[50]):!1}function Is(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return N(t)?t:null}function gt(e){let t=new Uint8Array(32).fill(0);if(!e)return V(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Is(n[r]),a=s?ne(s):F(Ce(n[r]),"bytes");t=F(ce([t,a]),"bytes")}return V(t)}function Ri(e){return`[${e.slice(2)}]`}function Oi(e){const t=new Uint8Array(32).fill(0);return e?Is(e)||F(Ce(e)):V(t)}function Ot(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ce(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=Ce(s[a]);o.byteLength>255&&(o=Ce(Ri(Oi(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const Mi=3;function tt(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const{code:i,data:c,message:u,shortMessage:l}=e instanceof _n?e:e instanceof $?e.walk(m=>"data"in m)||e.walk():{},d=(()=>e instanceof _t?new Ni({functionName:a}):[Mi,wa.code].includes(i)&&(c||u||l)?new mn({abi:t,data:typeof c=="object"?c.data:c,functionName:a,message:l??u}):e)();return new _i(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}const qi="0x82ad56cb";function Ui(e,{docsPath:t,...n}){const r=(()=>{const s=va(e,n);return s instanceof xa?e:s})();return new As(r,{docsPath:t,...n})}async function ut(e,t){const{account:n=e.account,batch:r=!!e.batch?.multicall,blockNumber:s,blockTag:a="latest",accessList:o,blobs:i,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:m,maxPriorityFeePerGas:p,nonce:y,to:f,value:h,stateOverride:b,...g}=t,w=n?Oe(n):void 0;try{Mr(t);const E=(s?k(s):void 0)||a,v=Ea(b),A=e.chain?.formatters?.transactionRequest?.format,_=(A||An)({...qr(g,{format:A}),from:w?.address,accessList:o,blobs:i,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:m,maxPriorityFeePerGas:p,nonce:y,to:f,value:h});if(r&&ji({request:_})&&!v)try{return await Li(e,{..._,blockNumber:s,blockTag:a})}catch(S){if(!(S instanceof Ur)&&!(S instanceof an))throw S}const T=await e.request({method:"eth_call",params:v?[_,E,v]:[_,E]});return T==="0x"?{data:void 0}:{data:T}}catch(x){const E=zi(x),{offchainLookup:v,offchainLookupSignature:A}=await In(()=>Promise.resolve().then(()=>Uc),void 0);if(e.ccipRead!==!1&&E?.slice(0,10)===A&&f)return{data:await v(e,{data:E,to:f})};throw Ui(x,{...t,account:w,chain:e.chain})}}function ji({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(qi)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Li(e,t){const{batchSize:n=1024,wait:r=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:o,multicallAddress:i,to:c}=t;let u=i;if(!u){if(!e.chain)throw new Ur;u=Ve({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?k(s):void 0)||a,{schedule:m}=jr({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(f){return f.reduce((b,{data:g})=>b+(g.length-2),0)>n*2},fn:async f=>{const h=f.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),b=Se({abi:cn,args:[h],functionName:"aggregate3"}),g=await e.request({method:"eth_call",params:[{data:b,to:u},d]});return Ze({abi:cn,args:[h],functionName:"aggregate3",data:g||"0x"})}}),[{returnData:p,success:y}]=await m({data:o,to:c});if(!y)throw new _n({data:p});return p==="0x"?{data:void 0}:{data:p}}function zi(e){if(!(e instanceof $))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function ye(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=Se({abi:n,args:s,functionName:a});try{const{data:c}=await C(e,ut,"call")({...o,data:i,to:r});return Ze({abi:n,args:s,functionName:a,data:c||"0x"})}catch(c){throw tt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function Di(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Ve({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=Se({abi:mr,functionName:"addr",...r!=null?{args:[gt(s),BigInt(r)]}:{args:[gt(s)]}}),l={address:c,abi:ss,functionName:"resolve",args:[fe(Ot(s)),u],blockNumber:t,blockTag:n},d=C(e,ye,"readContract"),m=a?await d({...l,args:[...l.args,a]}):await d(l);if(m[0]==="0x")return null;const p=Ze({abi:mr,args:r!=null?[gt(s),BigInt(r)]:void 0,functionName:"addr",data:m[0]});return p==="0x"||st(p)==="0x00"?null:p}catch(u){if(o)throw u;if(Nn(u,"resolve"))return null;throw u}}class Fi extends ${constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Je extends ${constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Rn extends ${constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Hi extends ${constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Gi=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Zi=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Vi=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Wi=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Ki(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function gr(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Ps({uri:e,gatewayUrls:t}){const n=Vi.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=gr(t?.ipfs,"https://ipfs.io"),s=gr(t?.arweave,"https://arweave.net"),a=e.match(Gi),{protocol:o,subpath:i,target:c,subtarget:u=""}=a?.groups||{},l=o==="ipns:/"||i==="ipns/",d=o==="ipfs:/"||i==="ipfs/"||Zi.test(e);if(e.startsWith("http")&&!l&&!d){let p=e;return t?.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let m=e.replace(Wi,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new Rn({uri:e})}function Bs(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Fi({data:e});return e.image||e.image_url||e.image_data}async function Yi({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await On({gatewayUrls:e,uri:Bs(n)})}catch{throw new Rn({uri:t})}}async function On({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Ps({uri:t,gatewayUrls:e});if(r||await Ki(n))return n;throw new Rn({uri:t})}function Ji(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new Je({reason:"Only EIP-155 supported"});if(!o)throw new Je({reason:"Chain ID not found"});if(!c)throw new Je({reason:"Contract address not found"});if(!s)throw new Je({reason:"Token ID not found"});if(!i)throw new Je({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function Xi(e,{nft:t}){if(t.namespace==="erc721")return ye(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ye(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Hi({namespace:t.namespace})}async function Qi(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?ec(e,{gatewayUrls:t,record:n}):On({uri:n,gatewayUrls:t})}async function ec(e,{gatewayUrls:t,record:n}){const r=Ji(n),s=await Xi(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=Ps({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=i?atob(a.replace("data:application/json;base64,","")):a,l=JSON.parse(u);return On({uri:Bs(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Yi({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function Ss(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Ve({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:ss,functionName:"resolve",args:[fe(Ot(r)),Se({abi:pr,functionName:"text",args:[gt(r),s]})],blockNumber:t,blockTag:n},l=C(e,ye,"readContract"),d=a?await l({...u,args:[...u.args,a]}):await l(u);if(d[0]==="0x")return null;const m=Ze({abi:pr,functionName:"text",data:d[0]});return m===""?null:m}catch(u){if(o)throw u;if(Nn(u,"resolve"))return null;throw u}}async function tc(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){const c=await C(e,Ss,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:a,strict:o});if(!c)return null;try{return await Qi(e,{record:c,gatewayUrls:r})}catch{return null}}async function nc(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:a,universalResolverAddress:o}){let i=o;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=Ve({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:i,abi:_o,functionName:"reverse",args:[fe(Ot(c))],blockNumber:n,blockTag:r},l=C(e,ye,"readContract"),[d,m]=s?await l({...u,args:[...u.args,s]}):await l(u);return t.toLowerCase()!==m.toLowerCase()?null:d}catch(u){if(a)throw u;if(Nn(u,"reverse"))return null;throw u}}async function rc(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Ve({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await C(e,ye,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[fe(Ot(r))],blockNumber:t,blockTag:n});return o}function Mt(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:a,transport:o})=>{a==="success"&&t===r&&(n[s]=o.request)}),r=>n[r]||e.request}async function sc(e){const t=Mt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class ac extends ${constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}const wr="/docs/contract/encodeEventTopics";function dt(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=Me({abi:t,name:n});if(!c)throw new fr(n,{docsPath:wr});s=c}if(s.type!=="event")throw new fr(void 0,{docsPath:wr});const a=ue(s),o=Cn(a);let i=[];if(r&&"inputs"in s){const c=s.inputs?.filter(l=>"indexed"in l&&l.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(l=>r[l.name])??[]:[];u.length>0&&(i=c?.map((l,d)=>Array.isArray(u[d])?u[d].map((m,p)=>vr({param:l,value:u[d][p]})):u[d]?vr({param:l,value:u[d]}):null)??[])}return[o,...i]}function vr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return F(ne(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ac(e.type);return Pe([e],[t])}async function Mn(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:i,toBlock:c}=t,u=Mt(e,{method:"eth_newFilter"}),l=a?dt({abi:r,args:s,eventName:a}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?k(o):o,toBlock:typeof c=="bigint"?k(c):c,topics:l}]});return{abi:r,args:s,eventName:a,id:d,request:u(d),strict:!!i,type:"event"}}async function Ts(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const c=s??(r?[r]:void 0),u=Mt(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(m=>dt({abi:[m],eventName:m.name,args:n}))],r&&(l=l[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?k(a):a,toBlock:typeof i=="bigint"?k(i):i,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:d,request:u(d),strict:!!o,toBlock:i,type:"event"}}async function ks(e){const t=Mt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function oc(e){return e.request({method:`${e.mode}_dumpState`})}async function $s(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=Se({abi:n,args:s,functionName:a});try{return await C(e,Lr,"estimateGas")({data:i,to:r,...o})}catch(c){const u=o.account?Oe(o.account):void 0;throw tt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:u?.address})}}async function ic(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?k(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function cc(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const uc=new Map,dc=new Map;function lc(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,uc),r=t(e,dc);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function fc(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=lc(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const pc=e=>`blockNumber.${e}`;async function lt(e,{cacheTime:t=e.cacheTime}={}){const n=await fc(()=>e.request({method:"eth_blockNumber"}),{cacheKey:pc(e.uid),cacheTime:t});return BigInt(n)}async function mc(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?k(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),J(a)}async function yc(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?k(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]});if(a!=="0x")return a}const xr="/docs/contract/decodeEventLog";function qn(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[o,...i]=s;if(!o)throw new yo({docsPath:xr});const c=t.find(f=>f.type==="event"&&o===Cn(ue(f)));if(!(c&&"name"in c)||c.type!=="event")throw new Qr(o,{docsPath:xr});const{name:u,inputs:l}=c,d=l?.some(f=>!("name"in f&&f.name));let m=d?[]:{};const p=l.filter(f=>"indexed"in f&&f.indexed);for(let f=0;f<p.length;f++){const h=p[f],b=i[f];if(!b)throw new Nt({abiItem:c,param:h});m[d?f:h.name||f]=hc({param:h,value:b})}const y=l.filter(f=>!("indexed"in f&&f.indexed));if(y.length>0){if(n&&n!=="0x")try{const f=Ge(y,n);if(f)if(d)m=[...m,...f];else for(let h=0;h<y.length;h++)m[y[h].name]=f[h]}catch(f){if(a)throw f instanceof Yr||f instanceof Aa?new Qe({abiItem:c,data:n,params:y,size:Y(n)}):f}else if(a)throw new Qe({abiItem:c,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(m).length>0?m:void 0}}function hc({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Ge([e],t)||[])[0]}function Un({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(s=>{try{const a=qn({...s,abi:e,strict:r});return t&&!t.includes(a.eventName)?null:{...a,...s}}catch(a){let o,i;if(a instanceof Qr)return null;if(a instanceof Qe||a instanceof Nt){if(r)return null;o=a.abiItem.name,i=a.abiItem.inputs?.some(c=>!("name"in c&&c.name))}return{...s,args:i?[]:{},eventName:o}}}).filter(Boolean)}async function jn(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:c}={}){const u=c??!1,l=o??(a?[a]:void 0);let d=[];l&&(d=[l.flatMap(y=>dt({abi:[y],eventName:y.name,args:i}))],a&&(d=d[0]));let m;n?m=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):m=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?k(r):r,toBlock:typeof s=="bigint"?k(s):s}]});const p=m.map(y=>Re(y));return l?Un({abi:l,logs:p,strict:u}):p}async function Ln(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:i,toBlock:c,strict:u}=t,l=o?Me({abi:n,name:o}):void 0,d=l?void 0:n.filter(m=>m.type==="event");return C(e,jn,"getLogs")({address:r,args:s,blockHash:a,event:l,events:d,fromBlock:i,toBlock:c,strict:u})}function bc(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function gc(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?k(n):void 0,o=await e.request({method:"eth_feeHistory",params:[k(t),a||r,s]});return bc(o)}async function qt(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>Re(a));return!("abi"in t)||!t.abi?s:Un({abi:t.abi,logs:s,strict:n})}async function wc(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>Re(a));return t.abi?Un({abi:t.abi,logs:s,strict:n}):s}async function vc(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?k(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function zn(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){const o=r||"latest",i=n!==void 0?k(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,k(a)]}):(i||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,k(a)]})),!c)throw new zr({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(e.chain?.formatters?.transaction?.format||Ia)(c)}async function xc(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([C(e,lt,"getBlockNumber")({}),t?C(e,zn,"getBlockNumber")({hash:t}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}async function yn(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Dr({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||to)(n)}async function Ec(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function Ac(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[k(t)]})}async function Ic(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function Pc(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:k(t)}]}):await e.request({method:`${e.mode}_mine`,params:[k(t),k(n||0)]})}async function Bc(e,t){const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:a,multicallAddress:o,stateOverride:i}=t,c=t.contracts,u=r??(typeof e.batch?.multicall=="object"&&e.batch.multicall.batchSize||1024);let l=o;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=Ve({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let m=0,p=0;for(let h=0;h<c.length;h++){const{abi:b,address:g,args:w,functionName:x}=c[h];try{const E=Se({abi:b,args:w,functionName:x});p+=(E.length-2)/2,u>0&&p>u&&d[m].length>0&&(m++,p=(E.length-2)/2,d[m]=[]),d[m]=[...d[m],{allowFailure:!0,callData:E,target:g}]}catch(E){const v=tt(E,{abi:b,address:g,args:w,docsPath:"/docs/contract/multicall",functionName:x});if(!n)throw v;d[m]=[...d[m],{allowFailure:!0,callData:"0x",target:g}]}}const y=await Promise.allSettled(d.map(h=>C(e,ye,"readContract")({abi:cn,address:l,args:[h],blockNumber:s,blockTag:a,functionName:"aggregate3",stateOverride:i}))),f=[];for(let h=0;h<y.length;h++){const b=y[h];if(b.status==="rejected"){if(!n)throw b.reason;for(let w=0;w<d[h].length;w++)f.push({status:"failure",error:b.reason,result:void 0});continue}const g=b.value;for(let w=0;w<g.length;w++){const{returnData:x,success:E}=g[w],{callData:v}=d[h][w],{abi:A,address:I,functionName:_,args:T}=c[f.length];try{if(v==="0x")throw new _t;if(!E)throw new _n({data:x});const S=Ze({abi:A,args:T,data:x,functionName:_});f.push(n?{result:S,status:"success"}:S)}catch(S){const U=tt(S,{abi:A,address:I,args:T,docsPath:"/docs/contract/multicall",functionName:_});if(!n)throw U;f.push({error:U,result:void 0,status:"failure"})}}}if(f.length!==c.length)throw new $("multicall results mismatch");return f}const Yt=new Map,Er=new Map;let Sc=0;function Ee(e,t,n){const r=++Sc,s=()=>Yt.get(e)||[],a=()=>{const l=s();Yt.set(e,l.filter(d=>d.id!==r))},o=()=>{const l=Er.get(e);s().length===1&&l&&l(),a()},i=s();if(Yt.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const c={};for(const l in t)c[l]=(...d)=>{const m=s();if(m.length!==0)for(const p of m)p.fns[l]?.(...d)};const u=n(c);return typeof u=="function"&&Er.set(e,u),o}function ft(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const c=await n?.(i)??r;await on(c);const u=async()=>{s&&(await e({unpoll:a}),await on(r),u())};u()})(),a}function Tc(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const u=(()=>typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))(),l=o??!1;let d;return u?(()=>{const y=se(["watchBlocks",e.uid,t,n,r,l,c]);return Ee(y,{onBlock:s,onError:a},f=>ft(async()=>{try{const h=await C(e,xt,"getBlock")({blockTag:t,includeTransactions:l});if(h.number&&d?.number){if(h.number===d.number)return;if(h.number-d.number>1&&n)for(let b=d?.number+1n;b<h.number;b++){const g=await C(e,xt,"getBlock")({blockNumber:b,includeTransactions:l});f.onBlock(g,d),d=g}}(!d?.number||t==="pending"&&!h?.number||h.number&&h.number>d.number)&&(f.onBlock(h,d),d=h)}catch(h){f.onError?.(h)}},{emitOnBegin:r,interval:c}))})():(()=>{let y=!0,f=()=>y=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(w=>w.config.type==="webSocket");return g?g.value:e.transport}return e.transport})(),{unsubscribe:b}=await h.subscribe({params:["newHeads"],onData(g){if(!y)return;const x=(e.chain?.formatters?.block?.format||Pa)(g.result);s(x,d),d=x},onError(g){a?.(g)}});f=b,y||f()}catch(h){a?.(h)}})(),()=>f()})()}function Cs(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const i=(()=>typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))();let c;return i?(()=>{const d=se(["watchBlockNumber",e.uid,t,n,o]);return Ee(d,{onBlockNumber:r,onError:s},m=>ft(async()=>{try{const p=await C(e,lt,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let y=c+1n;y<p;y++)m.onBlockNumber(y,c),c=y}(!c||p>c)&&(m.onBlockNumber(p,c),c=p)}catch(p){m.onError?.(p)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=se(["watchBlockNumber",e.uid,t,n]);return Ee(d,{onBlockNumber:r,onError:s},m=>{let p=!0,y=()=>p=!1;return(async()=>{try{const f=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(g=>g.config.type==="webSocket");return b?b.value:e.transport}return e.transport})(),{unsubscribe:h}=await f.subscribe({params:["newHeads"],onData(b){if(!p)return;const g=q(b.result?.number);m.onBlockNumber(g,c),c=g},onError(b){m.onError?.(b)}});y=h,p||y()}catch(f){s?.(f)}})(),()=>y()})})()}async function Ut(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function kc(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:i,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:d}){const m=(()=>typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))(),p=d??!1;return m?(()=>{const h=se(["watchEvent",t,n,r,e.uid,s,l,o]);return Ee(h,{onLogs:c,onError:i},b=>{let g;o!==void 0&&(g=o-1n);let w,x=!1;const E=ft(async()=>{if(!x){try{w=await C(e,Ts,"createEventFilter")({address:t,args:n,event:s,events:a,strict:p,fromBlock:o})}catch{}x=!0;return}try{let v;if(w)v=await C(e,qt,"getFilterChanges")({filter:w});else{const A=await C(e,lt,"getBlockNumber")({});g&&g!==A?v=await C(e,jn,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:g+1n,toBlock:A}):v=[],g=A}if(v.length===0)return;if(r)b.onLogs(v);else for(const A of v)b.onLogs([A])}catch(v){w&&v instanceof Fr&&(x=!1),b.onError?.(v)}},{emitOnBegin:!0,interval:l});return async()=>{w&&await C(e,Ut,"uninstallFilter")({filter:w}),E()}})})():(()=>{let h=!0,b=()=>h=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(A=>A.config.type==="webSocket");return v?v.value:e.transport}return e.transport})(),w=a??(s?[s]:void 0);let x=[];w&&(x=[w.flatMap(v=>dt({abi:[v],eventName:v.name,args:n}))],s&&(x=x[0]));const{unsubscribe:E}=await g.subscribe({params:["logs",{address:t,topics:x}],onData(v){if(!h)return;const A=v.result;try{const{eventName:I,args:_}=qn({abi:w??[],data:A.data,topics:A.topics,strict:p}),T=Re(A,{args:_,eventName:I});c([T])}catch(I){let _,T;if(I instanceof Qe||I instanceof Nt){if(d)return;_=I.abiItem.name,T=I.abiItem.inputs?.some(U=>!("name"in U&&U.name))}const S=Re(A,{args:T?[]:{},eventName:_});c([S])}},onError(v){i?.(v)}});b=E,h||b()}catch(g){i?.(g)}})(),()=>b()})()}function $c(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=se(["watchPendingTransactions",e.uid,t,a]);return Ee(u,{onTransactions:r,onError:n},l=>{let d;const m=ft(async()=>{try{if(!d)try{d=await C(e,ks,"createPendingTransactionFilter")({});return}catch(y){throw m(),y}const p=await C(e,qt,"getFilterChanges")({filter:d});if(p.length===0)return;if(t)l.onTransactions(p);else for(const y of p)l.onTransactions([y])}catch(p){l.onError?.(p)}},{emitOnBegin:!0,interval:a});return async()=>{d&&await C(e,Ut,"uninstallFilter")({filter:d}),m()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!u)return;const p=m.result;r([p])},onError(m){n?.(m)}});l=d,u||l()}catch(d){n?.(d)}})(),()=>l()})()}async function Cc(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(n=>En(n))}async function _c(e){return await e.request({method:"wallet_getPermissions"})}class Nc extends ${constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:a,urls:o}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(i=>`    ${Hr(i)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class Rc extends ${constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Hr(n)}`,`Response: ${se(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class Oc extends ${constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function jt(e,t){if(!me(e,{strict:!1}))throw new ze({address:e});if(!me(t,{strict:!1}))throw new ze({address:t});return e.toLowerCase()===t.toLowerCase()}const Mc="0x556f1830",_s={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function qc(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=xs({data:r,abi:[_s]}),[o,i,c,u,l]=a,{ccipRead:d}=e,m=d&&typeof d?.request=="function"?d.request:Ns;try{if(!jt(s,o))throw new Oc({sender:o,to:s});const p=await m({data:c,sender:o,urls:i}),{data:y}=await ut(e,{blockNumber:t,blockTag:n,data:ce([u,Pe([{type:"bytes"},{type:"bytes"}],[p,l])]),to:s});return y}catch(p){throw new Nc({callbackSelector:u,cause:p,data:r,extraData:l,sender:o,urls:i})}}async function Ns({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const a=n[s],o=a.includes("{data}")?"GET":"POST",i=o==="POST"?{data:e,sender:t}:void 0;try{const c=await fetch(a.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(i),method:o});let u;if(c.headers.get("Content-Type")?.startsWith("application/json")?u=(await c.json()).data:u=await c.text(),!c.ok){r=new ir({body:i,details:u?.error?se(u.error):c.statusText,headers:c.headers,status:c.status,url:a});continue}if(!N(u)){r=new Rc({result:u,url:a});continue}return u}catch(c){r=new ir({body:i,details:c.message,url:a})}}throw r}const Uc=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Ns,offchainLookup:qc,offchainLookupAbiItem:_s,offchainLookupSignature:Mc},Symbol.toStringTag,{value:"Module"}));function yl({chains:e,id:t}){return e.find(n=>n.id===t)}const jc=/^(.*)\[([0-9]*)\]$/,Rs=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Os=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Jt=new Map;async function Lc(e){const{getSocket:t,key:n="socket",reconnect:r=!0,url:s}=e,{attempts:a=5,delay:o=2e3}=typeof r=="object"?r:{};let i=Jt.get(`${n}:${s}`);if(i)return i;let c=0;const{schedule:u}=jr({id:`${n}:${s}`,fn:async()=>{const m=new Map,p=new Map;let y,f;async function h(){return t({onError(b){y=b;for(const g of m.values())g.onError?.(y);for(const g of p.values())g.onError?.(y);m.clear(),p.clear(),r&&c<a&&setTimeout(async()=>{c++,f=await h().catch(console.error)},o)},onOpen(){y=void 0,c=0},onResponse(b){const g=b.method==="eth_subscription",w=g?b.params.subscription:b.id,x=g?p:m,E=x.get(w);E&&E.onResponse(b),g||x.delete(w)}})}return f=await h(),y=void 0,i={close(){f.close(),Jt.delete(`${n}:${s}`)},socket:f,request({body:b,onError:g,onResponse:w}){y&&g&&g(y);const x=b.id??Ba.take(),E=v=>{typeof v.id=="number"&&x!==v.id||(b.method==="eth_subscribe"&&typeof v.result=="string"&&p.set(v.result,{onResponse:E,onError:g}),b.method==="eth_unsubscribe"&&p.delete(b.params?.[0]),w(v))};m.set(x,{onResponse:E,onError:g});try{f.request({body:{jsonrpc:"2.0",id:x,...b}})}catch(v){g?.(v)}},requestAsync({body:b,timeout:g=1e4}){return Sa(()=>new Promise((w,x)=>this.request({body:b,onError:x,onResponse:w})),{errorInstance:new Ta({body:b,url:s}),timeout:g})},requests:m,subscriptions:p,url:s},Jt.set(`${n}:${s}`,i),[i]}}),[l,[d]]=await u();return d}async function wt(e,t={}){const{reconnect:n}=t;return Lc({async getSocket({onError:r,onOpen:s,onResponse:a}){const o=await In(()=>import("./native-fae38879.js"),[]).then(d=>d.WebSocket),i=new o(e);function c(){i.removeEventListener("close",c),i.removeEventListener("message",u),i.removeEventListener("error",r),i.removeEventListener("open",s)}function u({data:d}){a(JSON.parse(d))}i.addEventListener("close",c),i.addEventListener("message",u),i.addEventListener("error",r),i.addEventListener("open",s),i.readyState===o.CONNECTING&&await new Promise((d,m)=>{i&&(i.onopen=d,i.onerror=m)});const{close:l}=i;return Object.assign(i,{close(){l.bind(i)(),c()},request({body:d}){if(i.readyState===i.CLOSED||i.readyState===i.CLOSING)throw new ka({body:d,url:i.url,details:"Socket is closed."});return i.send(JSON.stringify(d))}})},reconnect:n,url:e})}async function zc(e){const t=await wt(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function Ms(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Dn({domain:t}),...e.types};Ds({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(qs({domain:t,types:s})),r!=="EIP712Domain"&&a.push(Us({data:n,primaryType:r,types:s})),F(ce(a))}function qs({domain:e,types:t}){return Us({data:e,primaryType:"EIP712Domain",types:t})}function Us({data:e,primaryType:t,types:n}){const r=js({data:e,primaryType:t,types:n});return F(r)}function js({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Dc({primaryType:t,types:n})];for(const a of n[t]){const[o,i]=zs({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(o),s.push(i)}return Pe(r,s)}function Dc({primaryType:e,types:t}){const n=fe(Fc({primaryType:e,types:t}));return F(n)}function Fc({primaryType:e,types:t}){let n="";const r=Ls({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return n}function Ls({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const a of t[s])Ls({primaryType:a.type,types:t},n);return n}function zs({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},F(js({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},F(r)];if(n==="string")return[{type:"bytes32"},F(fe(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(o=>zs({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},F(Pe(a.map(([o])=>o),a.map(([,o])=>o)))]}return[{type:n},r]}function Ds(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(o,i)=>{for(const c of o){const{name:u,type:l}=c,d=i[u],m=l.match(Os);if(m&&(typeof d=="number"||typeof d=="bigint")){const[f,h,b]=m;k(d,{signed:h==="int",size:Number.parseInt(b)/8})}if(l==="address"&&typeof d=="string"&&!me(d))throw new ze({address:d});const p=l.match(Rs);if(p){const[f,h]=p;if(h&&Y(d)!==Number.parseInt(h))throw new ts({expectedSize:Number.parseInt(h),givenSize:Y(d)})}const y=s[l];y&&a(y,d)}};if(s.EIP712Domain&&t&&a(s.EIP712Domain,t),r!=="EIP712Domain"){const o=s[r];a(o,n)}}function Dn({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},typeof e?.chainId=="number"&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function hl({domain:e}){return qs({domain:e,types:{EIP712Domain:Dn({domain:e})}})}function bl(e){const{abi:t,data:n}=e,r=Ne(n,0,4),s=t.find(a=>a.type==="function"&&r===ct(ue(a)));if(!s)throw new ho(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Ge(s.inputs,Ne(n,4)):void 0}}const Xt="/docs/contract/encodeErrorResult";function gl(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Me({abi:t,args:r,name:n});if(!c)throw new lr(n,{docsPath:Xt});s=c}if(s.type!=="error")throw new lr(void 0,{docsPath:Xt});const a=ue(s),o=ct(a);let i="0x";if(r&&r.length>0){if(!s.inputs)throw new mo(s.name,{docsPath:Xt});i=Pe(s.inputs,r)}return ot([o,i])}const Qt="/docs/contract/encodeFunctionResult";function wl(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=Me({abi:t,name:n});if(!o)throw new De(n,{docsPath:Qt});s=o}if(s.type!=="function")throw new De(void 0,{docsPath:Qt});if(!s.outputs)throw new es(s.name,{docsPath:Qt});let a=Array.isArray(r)?r:[r];return s.outputs.length===0&&!a[0]&&(a=[]),Pe(s.outputs,a)}function vl(e,t){if(e.length!==t.length)throw new Jr({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(Fs(s,a))}return ot(n)}function Fs(e,t,n=!1){if(e==="address"){const o=t;if(!me(o))throw new ze({address:o});return bt(o.toLowerCase(),{size:n?32:null})}if(e==="string")return vn(t);if(e==="bytes")return t;if(e==="bool")return bt(Rr(t),{size:n?32:1});const r=e.match(Os);if(r){const[o,i,c="256"]=r,u=Number.parseInt(c)/8;return k(t,{size:n?32:u,signed:i==="int"})}const s=e.match(Rs);if(s){const[o,i]=s;if(Number.parseInt(i)!==(t.length-2)/2)throw new ts({expectedSize:Number.parseInt(i),givenSize:(t.length-2)/2});return bt(t,{dir:"right",size:n?32:null})}const a=e.match(jc);if(a&&Array.isArray(t)){const[o,i]=a,c=[];for(let u=0;u<t.length;u++)c.push(Fs(i,t[u],!0));return c.length===0?"0x":ot(c)}throw new Eo(e)}function Hc(e){const t=F(`0x${e.substring(4)}`).substring(26);return En(`0x${t}`)}function Ar(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function xl(e){return e.opcode==="CREATE2"?Zc(e):Gc(e)}function Gc(e){const t=ne(_e(e.from));let n=ne(e.nonce);return n[0]===0&&(n=new Uint8Array([])),_e(`0x${F(no([t,n],"bytes")).slice(26)}`)}function Zc(e){const t=ne(_e(e.from)),n=bt(Ar(e.salt)?e.salt:ne(e.salt),{size:32}),r=(()=>"bytecodeHash"in e?Ar(e.bytecodeHash)?e.bytecodeHash:ne(e.bytecodeHash):F(e.bytecode,"bytes"))();return _e(Ne(F(ce([ne("0xff"),t,n,r])),12))}function Hs(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new $a(e);return at(e)}return e})(),r=vt(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return Gs(r,t)}function Gs(e,t="hex"){if(e.bytes.length===0)return t==="hex"?V(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const s=Ir(e,n,128),a=e.readBytes(s);return t==="hex"?V(a):a}const r=Ir(e,n,192);return Vc(e,r,t)}function Ir(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new $("Invalid RLP prefix")}function Vc(e,t,n){const r=e.position,s=[];for(;e.position-r<t;)s.push(Gs(e,n));return s}function Wc(e){return N(e)&&Y(e)===32}const Kc=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Zs=Uint8Array.from({length:16},(e,t)=>t),Yc=Zs.map(e=>(9*e+5)%16);let Fn=[Zs],Hn=[Yc];for(let e=0;e<4;e++)for(let t of[Fn,Hn])t.push(t[e].map(n=>Kc[n]));const Vs=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Jc=Fn.map((e,t)=>e.map(n=>Vs[t][n])),Xc=Hn.map((e,t)=>e.map(n=>Vs[t][n])),Qc=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),eu=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),mt=(e,t)=>e<<t|e>>>32-t;function Pr(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const yt=new Uint32Array(16);class tu extends _a{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:a}=this;return[t,n,r,s,a]}set(t,n,r,s,a){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=a|0}process(t,n){for(let p=0;p<16;p++,n+=4)yt[p]=t.getUint32(n,!0);let r=this.h0|0,s=r,a=this.h1|0,o=a,i=this.h2|0,c=i,u=this.h3|0,l=u,d=this.h4|0,m=d;for(let p=0;p<5;p++){const y=4-p,f=Qc[p],h=eu[p],b=Fn[p],g=Hn[p],w=Jc[p],x=Xc[p];for(let E=0;E<16;E++){const v=mt(r+Pr(p,a,i,u)+yt[b[E]]+f,w[E])+d|0;r=d,d=u,u=mt(i,10)|0,i=a,a=v}for(let E=0;E<16;E++){const v=mt(s+Pr(y,o,c,l)+yt[g[E]]+h,x[E])+m|0;s=m,m=l,l=mt(c,10)|0,c=o,o=v}}this.set(this.h1+i+l|0,this.h2+u+m|0,this.h3+d+s|0,this.h4+r+o|0,this.h0+a+c|0)}roundClean(){yt.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const nu=Ca(()=>new tu);function El(e,t){const n=t||"hex",r=nu(N(e,{strict:!1})?ne(e):e);return n==="bytes"?r:fe(r)}async function ru({hash:e,signature:t}){const n=N(e)?e:fe(e),{secp256k1:r}=await In(()=>Promise.resolve().then(()=>zd),void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:l,v:d,yParity:m}=t,p=Number(m??d),y=Br(p);return new r.Signature(q(u),q(l)).addRecoveryBit(y)}const o=N(t)?t:fe(t),i=J(`0x${o.slice(130)}`),c=Br(i);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Br(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Gn({hash:e,signature:t}){return Hc(await ru({hash:e,signature:t}))}const su=`Ethereum Signed Message:
`;function Zn(e,t){const n=(()=>typeof e=="string"?Ce(e):e.raw instanceof Uint8Array?e.raw:ne(e.raw))(),r=Ce(`${su}${n.length}`);return F(ce([r,n]),t)}async function au({message:e,signature:t}){return Gn({hash:Zn(e),signature:t})}async function ou(e){const{domain:t,message:n,primaryType:r,signature:s,types:a}=e;return Gn({hash:Ms({domain:t,message:n,primaryType:r,types:a}),signature:s})}async function Al({address:e,message:t,signature:n}){return jt(_e(e),await au({message:t,signature:n}))}async function Il(e){const{address:t,domain:n,message:r,primaryType:s,signature:a,types:o}=e;return jt(_e(t),await ou({domain:n,message:r,primaryType:s,signature:a,types:o}))}function iu(e){const t=ro(e,0,1);if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&J(t)>=192)return"legacy";throw new Na({serializedType:t})}function cu(e){const t=iu(e);return t==="eip1559"?du(e):t==="eip2930"?lu(e):t==="eip4844"?uu(e):fu(e)}function uu(e){const t=Vn(e),n=t.length===4,r=n?t[0]:t,s=n?t.slice(1):[],[a,o,i,c,u,l,d,m,p,y,f,h,b,g]=r,[w,x,E]=s;if(!(r.length===11||r.length===14))throw new $t({attributes:{chainId:a,nonce:o,maxPriorityFeePerGas:i,maxFeePerGas:c,gas:u,to:l,value:d,data:m,accessList:p,...r.length>9?{v:h,r:b,s:g}:{}},serializedTransaction:e,type:"eip4844"});const v={blobVersionedHashes:f,chainId:J(a),type:"eip4844"};return N(l)&&l!=="0x"&&(v.to=l),N(u)&&u!=="0x"&&(v.gas=q(u)),N(m)&&m!=="0x"&&(v.data=m),N(o)&&o!=="0x"&&(v.nonce=J(o)),N(d)&&d!=="0x"&&(v.value=q(d)),N(y)&&y!=="0x"&&(v.maxFeePerBlobGas=q(y)),N(c)&&c!=="0x"&&(v.maxFeePerGas=q(c)),N(i)&&i!=="0x"&&(v.maxPriorityFeePerGas=q(i)),p.length!==0&&p!=="0x"&&(v.accessList=Wn(p)),w&&x&&E&&(v.sidecars=Ra({blobs:w,commitments:x,proofs:E})),so(v),{...r.length===14?Kn(r):void 0,...v}}function du(e){const t=Vn(e),[n,r,s,a,o,i,c,u,l,d,m,p]=t;if(!(t.length===9||t.length===12))throw new $t({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:o,to:i,value:c,data:u,accessList:l,...t.length>9?{v:d,r:m,s:p}:{}},serializedTransaction:e,type:"eip1559"});const y={chainId:J(n),type:"eip1559"};return N(i)&&i!=="0x"&&(y.to=i),N(o)&&o!=="0x"&&(y.gas=q(o)),N(u)&&u!=="0x"&&(y.data=u),N(r)&&r!=="0x"&&(y.nonce=J(r)),N(c)&&c!=="0x"&&(y.value=q(c)),N(a)&&a!=="0x"&&(y.maxFeePerGas=q(a)),N(s)&&s!=="0x"&&(y.maxPriorityFeePerGas=q(s)),l.length!==0&&l!=="0x"&&(y.accessList=Wn(l)),ao(y),{...t.length===12?Kn(t):void 0,...y}}function lu(e){const t=Vn(e),[n,r,s,a,o,i,c,u,l,d,m]=t;if(!(t.length===8||t.length===11))throw new $t({attributes:{chainId:n,nonce:r,gasPrice:s,gas:a,to:o,value:i,data:c,accessList:u,...t.length>8?{v:l,r:d,s:m}:{}},serializedTransaction:e,type:"eip2930"});const p={chainId:J(n),type:"eip2930"};return N(o)&&o!=="0x"&&(p.to=o),N(a)&&a!=="0x"&&(p.gas=q(a)),N(c)&&c!=="0x"&&(p.data=c),N(r)&&r!=="0x"&&(p.nonce=J(r)),N(i)&&i!=="0x"&&(p.value=q(i)),N(s)&&s!=="0x"&&(p.gasPrice=q(s)),u.length!==0&&u!=="0x"&&(p.accessList=Wn(u)),oo(p),{...t.length===11?Kn(t):void 0,...p}}function fu(e){const t=Hs(e,"hex"),[n,r,s,a,o,i,c,u,l]=t;if(!(t.length===6||t.length===9))throw new $t({attributes:{nonce:n,gasPrice:r,gas:s,to:a,value:o,data:i,...t.length>6?{v:c,r:u,s:l}:{}},serializedTransaction:e,type:"legacy"});const d={type:"legacy"};if(N(a)&&a!=="0x"&&(d.to=a),N(s)&&s!=="0x"&&(d.gas=q(s)),N(i)&&i!=="0x"&&(d.data=i),N(n)&&n!=="0x"&&(d.nonce=J(n)),N(o)&&o!=="0x"&&(d.value=q(o)),N(r)&&r!=="0x"&&(d.gasPrice=q(r)),io(d),t.length===6)return d;const m=N(c)&&c!=="0x"?q(c):0n;if(l==="0x"&&u==="0x")return m>0&&(d.chainId=Number(m)),d;const p=m,y=Number((p-35n)/2n);if(y>0)d.chainId=y;else if(p!==27n&&p!==28n)throw new Oa({v:p});return d.v=p,d.s=l,d.r=u,d.yParity=p%2n===0n?1:0,d}function Vn(e){return Hs(`0x${e.slice(4)}`,"hex")}function Wn(e){const t=[];for(let n=0;n<e.length;n++){const[r,s]=e[n];if(!me(r,{strict:!1}))throw new ze({address:r});t.push({address:r,storageKeys:s.map(a=>Wc(a)?a:st(a))})}return t}function Kn(e){const t=e.slice(-3),n=t[0]==="0x"||q(t[0])===0n?27n:28n;return{r:pe(t[1],{size:32}),s:pe(t[2],{size:32}),v:n,yParity:n===27n?0:1}}function Pl(e,t="wei"){return Ma(e,qa[t])}function pu(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function mu(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?J(e.nonce):void 0,storageProof:e.storageProof?pu(e.storageProof):void 0}}async function yu(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?k(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,o||a]});return mu(i)}async function hu(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:a=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:i}){const c=se(["waitForTransactionReceipt",e.uid,n]);let u=0,l,d,m,p=!1;return new Promise((y,f)=>{i&&setTimeout(()=>f(new cr({hash:n})),i);const h=Ee(c,{onReplaced:r,resolve:y,reject:f},b=>{const g=C(e,Cs,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(w){const x=v=>{g(),v(),h()};let E=w;if(!p){u>a&&x(()=>b.reject(new cr({hash:n})));try{if(m){if(t>1&&(!m.blockNumber||E-m.blockNumber+1n<t))return;x(()=>b.resolve(m));return}if(l||(p=!0,await ur(async()=>{l=await C(e,zn,"getTransaction")({hash:n}),l.blockNumber&&(E=l.blockNumber)},{delay:o,retryCount:a}),p=!1),m=await C(e,yn,"getTransactionReceipt")({hash:n}),t>1&&(!m.blockNumber||E-m.blockNumber+1n<t))return;x(()=>b.resolve(m))}catch(v){if(v instanceof zr||v instanceof Dr){if(!l){p=!1;return}try{d=l,p=!0;const A=await ur(()=>C(e,xt,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:o,retryCount:a,shouldRetry:({error:T})=>T instanceof Ua});p=!1;const I=A.transactions.find(({from:T,nonce:S})=>T===d.from&&S===d.nonce);if(!I||(m=await C(e,yn,"getTransactionReceipt")({hash:I.hash}),t>1&&(!m.blockNumber||E-m.blockNumber+1n<t)))return;let _="replaced";I.to===d.to&&I.value===d.value?_="repriced":I.from===I.to&&I.value===0n&&(_="cancelled"),x(()=>{b.onReplaced?.({reason:_,replacedTransaction:d,transaction:I,transactionReceipt:m}),b.resolve(m)})}catch(A){x(()=>b.reject(A))}}else x(()=>b.reject(v))}finally{u++}}}})})})}async function bu(e){return(await e.request({method:"eth_requestAccounts"},{retryCount:0})).map(n=>_e(n))}async function gu(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function wu(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function vu(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function xu(e){return await e.request({method:"txpool_content"})}async function Eu(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:J(t),queued:J(n)}}async function Au(e){return await e.request({method:"txpool_inspect"})}async function Iu(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function Pu(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function Bu(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function Su(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Pn({docsPath:"/docs/actions/wallet/signTransaction"});const a=Oe(n);Mr({account:a,...t});const o=await C(e,Bn,"getChainId")({});r!==null&&ja({currentChainId:o,chain:r});const c=(r?.formatters||e.chain?.formatters)?.transactionRequest?.format||An;return a.type==="local"?a.signTransaction({...s,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:k(o),from:a.address}]},{retryCount:0})}async function Tu(e,t){const{accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:l,value:d,...m}=t,p=e.chain?.formatters?.transactionRequest?.format,f=(p||An)({...qr(m,{format:p}),accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:l,value:d});return await e.request({method:"eth_sendUnsignedTransaction",params:[f]})}async function ku(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,k(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,k(n)]})}async function $u(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function Cu(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[k(t)]})}async function _u(e,{interval:t}){const n=(()=>e.mode==="hardhat"?t*1e3:t)();await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function Nu(e,{address:t,bytecode:n}){await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function Ru(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function Ou(e,{interval:t}){const n=(()=>e.mode==="hardhat"?t*1e3:t)();await e.request({method:"evm_setIntervalMining",params:[n]})}async function Mu(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function qu(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[k(t)]})}async function Uu(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[k(t)]})}async function ju(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[k(t)]})}async function Lu(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,k(n)]})}async function zu(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function Du(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?k(n):n,r]})}async function Fu(e){return await e.request({method:"evm_snapshot"})}async function Hu(e,{account:t=e.account,message:n}){if(!t)throw new Pn({docsPath:"/docs/actions/wallet/signMessage"});const r=Oe(t);if(r.type==="local")return r.signMessage({message:n});const s=(()=>typeof n=="string"?vn(n):n.raw instanceof Uint8Array?fe(n.raw):n.raw)();return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Gu(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new Pn({docsPath:"/docs/actions/wallet/signTypedData"});const o=Oe(n),i={EIP712Domain:Dn({domain:r}),...t.types};if(Ds({domain:r,message:s,primaryType:a,types:i}),o.type==="local")return o.signTypedData({domain:r,message:s,primaryType:a,types:i});const c=se({domain:r??{},message:s,primaryType:a,types:i},(u,l)=>N(l)?l.toLowerCase():l);return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Ws(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=i.account?Oe(i.account):e.account,u=Se({abi:n,args:s,functionName:o});try{const{data:l}=await C(e,ut,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...i,account:c}),d=Ze({abi:n,args:s,functionName:o,data:l||"0x"}),m=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:d,request:{abi:m,address:r,args:s,dataSuffix:a,functionName:o,...i,account:c}}}catch(l){throw tt(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}async function Zu(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}async function Vu(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:k(t)}]},{retryCount:0})}const Wu="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ks=BigInt(0),Lt=BigInt(1),Ku=BigInt(2),zt=e=>e instanceof Uint8Array,Yu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fe(e){if(!zt(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Yu[e[n]];return t}function Ys(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Yn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function He(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const s=r*2,a=e.slice(s,s+2),o=Number.parseInt(a,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function K(e){return Yn(Fe(e))}function Jn(e){if(!zt(e))throw new Error("Uint8Array expected");return Yn(Fe(Uint8Array.from(e).reverse()))}function Ae(e,t){return He(e.toString(16).padStart(t*2,"0"))}function Xn(e,t){return Ae(e,t).reverse()}function Ju(e){return He(Ys(e))}function Z(e,t,n){let r;if(typeof t=="string")try{r=He(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(zt(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function ee(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!zt(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function Js(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Dt(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Xu(e){let t;for(t=0;e>Ks;e>>=Lt,t+=1);return t}function Qu(e,t){return e>>BigInt(t)&Lt}const ed=(e,t,n)=>e|(n?Lt:Ks)<<BigInt(t),Qn=e=>(Ku<<BigInt(e-1))-Lt,en=e=>new Uint8Array(e),Sr=e=>Uint8Array.from(e);function Xs(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=en(e),s=en(e),a=0;const o=()=>{r.fill(1),s.fill(0),a=0},i=(...d)=>n(s,r,...d),c=(d=en())=>{s=i(Sr([0]),d),r=i(),d.length!==0&&(s=i(Sr([1]),d),r=i())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const m=[];for(;d<t;){r=i();const p=r.slice();m.push(p),d+=r.length}return ee(...m)};return(d,m)=>{o(),c(d);let p;for(;!(p=m(u()));)c();return o(),p}}const td={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function We(e,t,n={}){const r=(s,a,o)=>{const i=td[a];if(typeof i!="function")throw new Error(`Invalid validator "${a}", expected function`);const c=e[s];if(!(o&&c===void 0)&&!i(c,e))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${a}`)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}const nd=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Qu,bitLen:Xu,bitMask:Qn,bitSet:ed,bytesToHex:Fe,bytesToNumberBE:K,bytesToNumberLE:Jn,concatBytes:ee,createHmacDrbg:Xs,ensureBytes:Z,equalBytes:Js,hexToBytes:He,hexToNumber:Yn,numberToBytesBE:Ae,numberToBytesLE:Xn,numberToHexUnpadded:Ys,numberToVarBytesBE:Ju,utf8ToBytes:Dt,validateObject:We},Symbol.toStringTag,{value:"Module"}));function rd(e,t){const n=N(e)?ne(e):e,r=N(t)?ne(t):t;return Js(n,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H=BigInt(0),L=BigInt(1),ke=BigInt(2),sd=BigInt(3),hn=BigInt(4),Tr=BigInt(5),kr=BigInt(8);BigInt(9);BigInt(16);function D(e,t){const n=e%t;return n>=H?n:t+n}function ad(e,t,n){if(n<=H||t<H)throw new Error("Expected power/modulo > 0");if(n===L)return H;let r=L;for(;t>H;)t&L&&(r=r*e%n),e=e*e%n,t>>=L;return r}function re(e,t,n){let r=e;for(;t-- >H;)r*=r,r%=n;return r}function bn(e,t){if(e===H||t<=H)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=D(e,t),r=t,s=H,a=L;for(;n!==H;){const i=r/n,c=r%n,u=s-a*i;r=n,n=c,s=a,a=u}if(r!==L)throw new Error("invert: does not exist");return D(s,t)}function od(e){const t=(e-L)/ke;let n,r,s;for(n=e-L,r=0;n%ke===H;n/=ke,r++);for(s=ke;s<e&&ad(s,t,e)!==e-L;s++);if(r===1){const o=(e+L)/hn;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const a=(n+L)/ke;return function(i,c){if(i.pow(c,t)===i.neg(i.ONE))throw new Error("Cannot find square root");let u=r,l=i.pow(i.mul(i.ONE,s),n),d=i.pow(c,a),m=i.pow(c,n);for(;!i.eql(m,i.ONE);){if(i.eql(m,i.ZERO))return i.ZERO;let p=1;for(let f=i.sqr(m);p<u&&!i.eql(f,i.ONE);p++)f=i.sqr(f);const y=i.pow(l,L<<BigInt(u-p-1));l=i.sqr(y),d=i.mul(d,y),m=i.mul(m,l),u=p}return d}}function id(e){if(e%hn===sd){const t=(e+L)/hn;return function(r,s){const a=r.pow(s,t);if(!r.eql(r.sqr(a),s))throw new Error("Cannot find square root");return a}}if(e%kr===Tr){const t=(e-Tr)/kr;return function(r,s){const a=r.mul(s,ke),o=r.pow(a,t),i=r.mul(s,o),c=r.mul(r.mul(i,ke),o),u=r.mul(i,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return od(e)}const cd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Qs(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=cd.reduce((r,s)=>(r[s]="function",r),t);return We(e,n)}function ud(e,t,n){if(n<H)throw new Error("Expected power > 0");if(n===H)return e.ONE;if(n===L)return t;let r=e.ONE,s=t;for(;n>H;)n&L&&(r=e.mul(r,s)),s=e.sqr(s),n>>=L;return r}function dd(e,t){const n=new Array(t.length),r=t.reduce((a,o,i)=>e.is0(o)?a:(n[i]=a,e.mul(a,o)),e.ONE),s=e.inv(r);return t.reduceRight((a,o,i)=>e.is0(o)?a:(n[i]=e.mul(a,n[i]),e.mul(a,o)),s),n}function ea(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ld(e,t,n=!1,r={}){if(e<=H)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:a}=ea(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=id(e),i=Object.freeze({ORDER:e,BITS:s,BYTES:a,MASK:Qn(s),ZERO:H,ONE:L,create:c=>D(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return H<=c&&c<e},is0:c=>c===H,isOdd:c=>(c&L)===L,neg:c=>D(-c,e),eql:(c,u)=>c===u,sqr:c=>D(c*c,e),add:(c,u)=>D(c+u,e),sub:(c,u)=>D(c-u,e),mul:(c,u)=>D(c*u,e),pow:(c,u)=>ud(i,c,u),div:(c,u)=>D(c*bn(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>bn(c,e),sqrt:r.sqrt||(c=>o(i,c)),invertBatch:c=>dd(i,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?Xn(c,a):Ae(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return n?Jn(c):K(c)}});return Object.freeze(i)}function ta(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function na(e){const t=ta(e);return t+Math.ceil(t/2)}function fd(e,t,n=!1){const r=e.length,s=ta(t),a=na(t);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const o=n?K(e):Jn(e),i=D(o,t-L)+L;return n?Xn(i,s):Ae(i,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pd=BigInt(0),tn=BigInt(1);function md(e,t){const n=(s,a)=>{const o=a.negate();return s?o:a},r=s=>{const a=Math.ceil(t/s)+1,o=2**(s-1);return{windows:a,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,a){let o=e.ZERO,i=s;for(;a>pd;)a&tn&&(o=o.add(i)),i=i.double(),a>>=tn;return o},precomputeWindow(s,a){const{windows:o,windowSize:i}=r(a),c=[];let u=s,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let m=1;m<i;m++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,a,o){const{windows:i,windowSize:c}=r(s);let u=e.ZERO,l=e.BASE;const d=BigInt(2**s-1),m=2**s,p=BigInt(s);for(let y=0;y<i;y++){const f=y*c;let h=Number(o&d);o>>=p,h>c&&(h-=m,o+=tn);const b=f,g=f+Math.abs(h)-1,w=y%2!==0,x=h<0;h===0?l=l.add(n(w,a[b])):u=u.add(n(x,a[g]))}return{p:u,f:l}},wNAFCached(s,a,o,i){const c=s._WINDOW_SIZE||1;let u=a.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&a.set(s,i(u))),this.wNAF(c,u,o)}}}function ra(e){return Qs(e.Fp),We(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ea(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yd(e){const t=ra(e);We(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:hd,hexToBytes:bd}=nd,$e={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=$e;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:hd(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=$e,n=typeof e=="string"?bd(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:a}=$e._parseInt(n.subarray(2)),{d:o,l:i}=$e._parseInt(a);if(i.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=t(n(e.s)),s=t(n(e.r)),a=r.length/2,o=s.length/2,i=n(a),c=n(o);return`30${n(o+a+4)}02${c}${s}02${i}${r}`}},ie=BigInt(0),j=BigInt(1),ve=BigInt(2),Pt=BigInt(3),$r=BigInt(4);function gd(e){const t=yd(e),{Fp:n}=t,r=t.toBytes||((y,f,h)=>{const b=f.toAffine();return ee(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),s=t.fromBytes||(y=>{const f=y.subarray(1),h=n.fromBytes(f.subarray(0,n.BYTES)),b=n.fromBytes(f.subarray(n.BYTES,2*n.BYTES));return{x:h,y:b}});function a(y){const{a:f,b:h}=t,b=n.sqr(y),g=n.mul(b,y);return n.add(n.add(g,n.mul(y,f)),h)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&ie<y&&y<t.n}function i(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(y){const{allowedPrivateKeyLengths:f,nByteLength:h,wrapPrivateKey:b,n:g}=t;if(f&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=Fe(y)),typeof y!="string"||!f.includes(y.length))throw new Error("Invalid key");y=y.padStart(h*2,"0")}let w;try{w=typeof y=="bigint"?y:K(Z("private key",y,h))}catch{throw new Error(`private key must be ${h} bytes, hex or bigint, not ${typeof y}`)}return b&&(w=D(w,g)),i(w),w}const u=new Map;function l(y){if(!(y instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(f,h,b){if(this.px=f,this.py=h,this.pz=b,f==null||!n.isValid(f))throw new Error("x required");if(h==null||!n.isValid(h))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required")}static fromAffine(f){const{x:h,y:b}=f||{};if(!f||!n.isValid(h)||!n.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const g=w=>n.eql(w,n.ZERO);return g(h)&&g(b)?d.ZERO:new d(h,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const h=n.invertBatch(f.map(b=>b.pz));return f.map((b,g)=>b.toAffine(h[g])).map(d.fromAffine)}static fromHex(f){const h=d.fromAffine(s(Z("pointHex",f)));return h.assertValidity(),h}static fromPrivateKey(f){return d.BASE.multiply(c(f))}_setWindowSize(f){this._WINDOW_SIZE=f,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:f,y:h}=this.toAffine();if(!n.isValid(f)||!n.isValid(h))throw new Error("bad point: x or y not FE");const b=n.sqr(h),g=a(f);if(!n.eql(b,g))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:f}=this.toAffine();if(n.isOdd)return!n.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){l(f);const{px:h,py:b,pz:g}=this,{px:w,py:x,pz:E}=f,v=n.eql(n.mul(h,E),n.mul(w,g)),A=n.eql(n.mul(b,E),n.mul(x,g));return v&&A}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:f,b:h}=t,b=n.mul(h,Pt),{px:g,py:w,pz:x}=this;let E=n.ZERO,v=n.ZERO,A=n.ZERO,I=n.mul(g,g),_=n.mul(w,w),T=n.mul(x,x),S=n.mul(g,w);return S=n.add(S,S),A=n.mul(g,x),A=n.add(A,A),E=n.mul(f,A),v=n.mul(b,T),v=n.add(E,v),E=n.sub(_,v),v=n.add(_,v),v=n.mul(E,v),E=n.mul(S,E),A=n.mul(b,A),T=n.mul(f,T),S=n.sub(I,T),S=n.mul(f,S),S=n.add(S,A),A=n.add(I,I),I=n.add(A,I),I=n.add(I,T),I=n.mul(I,S),v=n.add(v,I),T=n.mul(w,x),T=n.add(T,T),I=n.mul(T,S),E=n.sub(E,I),A=n.mul(T,_),A=n.add(A,A),A=n.add(A,A),new d(E,v,A)}add(f){l(f);const{px:h,py:b,pz:g}=this,{px:w,py:x,pz:E}=f;let v=n.ZERO,A=n.ZERO,I=n.ZERO;const _=t.a,T=n.mul(t.b,Pt);let S=n.mul(h,w),U=n.mul(b,x),W=n.mul(g,E),ae=n.add(h,b),P=n.add(w,x);ae=n.mul(ae,P),P=n.add(S,U),ae=n.sub(ae,P),P=n.add(h,g);let B=n.add(w,E);return P=n.mul(P,B),B=n.add(S,W),P=n.sub(P,B),B=n.add(b,g),v=n.add(x,E),B=n.mul(B,v),v=n.add(U,W),B=n.sub(B,v),I=n.mul(_,P),v=n.mul(T,W),I=n.add(v,I),v=n.sub(U,I),I=n.add(U,I),A=n.mul(v,I),U=n.add(S,S),U=n.add(U,S),W=n.mul(_,W),P=n.mul(T,P),U=n.add(U,W),W=n.sub(S,W),W=n.mul(_,W),P=n.add(P,W),S=n.mul(U,P),A=n.add(A,S),S=n.mul(B,P),v=n.mul(ae,v),v=n.sub(v,S),S=n.mul(ae,U),I=n.mul(B,I),I=n.add(I,S),new d(v,A,I)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return p.wNAFCached(this,u,f,h=>{const b=n.invertBatch(h.map(g=>g.pz));return h.map((g,w)=>g.toAffine(b[w])).map(d.fromAffine)})}multiplyUnsafe(f){const h=d.ZERO;if(f===ie)return h;if(i(f),f===j)return this;const{endo:b}=t;if(!b)return p.unsafeLadder(this,f);let{k1neg:g,k1:w,k2neg:x,k2:E}=b.splitScalar(f),v=h,A=h,I=this;for(;w>ie||E>ie;)w&j&&(v=v.add(I)),E&j&&(A=A.add(I)),I=I.double(),w>>=j,E>>=j;return g&&(v=v.negate()),x&&(A=A.negate()),A=new d(n.mul(A.px,b.beta),A.py,A.pz),v.add(A)}multiply(f){i(f);let h=f,b,g;const{endo:w}=t;if(w){const{k1neg:x,k1:E,k2neg:v,k2:A}=w.splitScalar(h);let{p:I,f:_}=this.wNAF(E),{p:T,f:S}=this.wNAF(A);I=p.constTimeNegate(x,I),T=p.constTimeNegate(v,T),T=new d(n.mul(T.px,w.beta),T.py,T.pz),b=I.add(T),g=_.add(S)}else{const{p:x,f:E}=this.wNAF(h);b=x,g=E}return d.normalizeZ([b,g])[0]}multiplyAndAddUnsafe(f,h,b){const g=d.BASE,w=(E,v)=>v===ie||v===j||!E.equals(g)?E.multiplyUnsafe(v):E.multiply(v),x=w(this,h).add(w(f,b));return x.is0()?void 0:x}toAffine(f){const{px:h,py:b,pz:g}=this,w=this.is0();f==null&&(f=w?n.ONE:n.inv(g));const x=n.mul(h,f),E=n.mul(b,f),v=n.mul(g,f);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(v,n.ONE))throw new Error("invZ was invalid");return{x,y:E}}isTorsionFree(){const{h:f,isTorsionFree:h}=t;if(f===j)return!0;if(h)return h(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:h}=t;return f===j?this:h?h(d,this):this.multiplyUnsafe(t.h)}toRawBytes(f=!0){return this.assertValidity(),r(d,this,f)}toHex(f=!0){return Fe(this.toRawBytes(f))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const m=t.nBitLength,p=md(d,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:o}}function wd(e){const t=ra(e);return We(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function vd(e){const t=wd(e),{Fp:n,n:r}=t,s=n.BYTES+1,a=2*n.BYTES+1;function o(P){return ie<P&&P<n.ORDER}function i(P){return D(P,r)}function c(P){return bn(P,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:m}=gd({...t,toBytes(P,B,R){const M=B.toAffine(),O=n.toBytes(M.x),z=ee;return R?z(Uint8Array.from([B.hasEvenY()?2:3]),O):z(Uint8Array.from([4]),O,n.toBytes(M.y))},fromBytes(P){const B=P.length,R=P[0],M=P.subarray(1);if(B===s&&(R===2||R===3)){const O=K(M);if(!o(O))throw new Error("Point is not on curve");const z=d(O);let X=n.sqrt(z);const Q=(X&j)===j;return(R&1)===1!==Q&&(X=n.neg(X)),{x:O,y:X}}else if(B===a&&R===4){const O=n.fromBytes(M.subarray(0,n.BYTES)),z=n.fromBytes(M.subarray(n.BYTES,2*n.BYTES));return{x:O,y:z}}else throw new Error(`Point of length ${B} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}}),p=P=>Fe(Ae(P,t.nByteLength));function y(P){const B=r>>j;return P>B}function f(P){return y(P)?i(-P):P}const h=(P,B,R)=>K(P.slice(B,R));class b{constructor(B,R,M){this.r=B,this.s=R,this.recovery=M,this.assertValidity()}static fromCompact(B){const R=t.nByteLength;return B=Z("compactSignature",B,R*2),new b(h(B,0,R),h(B,R,2*R))}static fromDER(B){const{r:R,s:M}=$e.toSig(Z("DER",B));return new b(R,M)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(B){return new b(this.r,this.s,B)}recoverPublicKey(B){const{r:R,s:M,recovery:O}=this,z=A(Z("msgHash",B));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");const X=O===2||O===3?R+t.n:R;if(X>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Q=O&1?"03":"02",be=u.fromHex(Q+p(X)),ge=c(X),qe=i(-z*ge),Ke=i(M*ge),we=u.BASE.multiplyAndAddUnsafe(be,qe,Ke);if(!we)throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return He(this.toDERHex())}toDERHex(){return $e.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return He(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const g={isValidPrivateKey(P){try{return l(P),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const P=na(t.n);return fd(t.randomBytes(P),t.n)},precompute(P=8,B=u.BASE){return B._setWindowSize(P),B.multiply(BigInt(3)),B}};function w(P,B=!0){return u.fromPrivateKey(P).toRawBytes(B)}function x(P){const B=P instanceof Uint8Array,R=typeof P=="string",M=(B||R)&&P.length;return B?M===s||M===a:R?M===2*s||M===2*a:P instanceof u}function E(P,B,R=!0){if(x(P))throw new Error("first arg must be private key");if(!x(B))throw new Error("second arg must be public key");return u.fromHex(B).multiply(l(P)).toRawBytes(R)}const v=t.bits2int||function(P){const B=K(P),R=P.length*8-t.nBitLength;return R>0?B>>BigInt(R):B},A=t.bits2int_modN||function(P){return i(v(P))},I=Qn(t.nBitLength);function _(P){if(typeof P!="bigint")throw new Error("bigint expected");if(!(ie<=P&&P<I))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ae(P,t.nByteLength)}function T(P,B,R=S){if(["recovered","canonical"].some(Te=>Te in R))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:O}=t;let{lowS:z,prehash:X,extraEntropy:Q}=R;z==null&&(z=!0),P=Z("msgHash",P),X&&(P=Z("prehashed msgHash",M(P)));const be=A(P),ge=l(B),qe=[_(ge),_(be)];if(Q!=null){const Te=Q===!0?O(n.BYTES):Q;qe.push(Z("extraEntropy",Te))}const Ke=ee(...qe),we=be;function Gt(Te){const Ue=v(Te);if(!m(Ue))return;const sr=c(Ue),de=u.BASE.multiply(Ue).toAffine(),je=i(de.x);if(je===ie)return;const pt=i(sr*i(we+je*ge));if(pt===ie)return;let ar=(de.x===je?0:2)|Number(de.y&j),or=pt;return z&&y(pt)&&(or=f(pt),ar^=1),new b(je,or,ar)}return{seed:Ke,k2sig:Gt}}const S={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function W(P,B,R=S){const{seed:M,k2sig:O}=T(P,B,R),z=t;return Xs(z.hash.outputLen,z.nByteLength,z.hmac)(M,O)}u.BASE._setWindowSize(8);function ae(P,B,R,M=U){const O=P;if(B=Z("msgHash",B),R=Z("publicKey",R),"strict"in M)throw new Error("options.strict was renamed to lowS");const{lowS:z,prehash:X}=M;let Q,be;try{if(typeof O=="string"||O instanceof Uint8Array)try{Q=b.fromDER(O)}catch(de){if(!(de instanceof $e.Err))throw de;Q=b.fromCompact(O)}else if(typeof O=="object"&&typeof O.r=="bigint"&&typeof O.s=="bigint"){const{r:de,s:je}=O;Q=new b(de,je)}else throw new Error("PARSE");be=u.fromHex(R)}catch(de){if(de.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(z&&Q.hasHighS())return!1;X&&(B=t.hash(B));const{r:ge,s:qe}=Q,Ke=A(B),we=c(qe),Gt=i(Ke*we),Te=i(ge*we),Ue=u.BASE.multiplyAndAddUnsafe(be,Gt,Te)?.toAffine();return Ue?i(Ue.x)===ge:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:E,sign:W,verify:ae,ProjectivePoint:u,Signature:b,utils:g}}function xd(e,t){const n=e.ORDER;let r=ie;for(let y=n-j;y%ve===ie;y/=ve)r+=j;const s=r,a=ve<<s-j-j,o=a*ve,i=(n-j)/o,c=(i-j)/ve,u=o-j,l=a,d=e.pow(t,i),m=e.pow(t,(i+j)/ve);let p=(y,f)=>{let h=d,b=e.pow(f,u),g=e.sqr(b);g=e.mul(g,f);let w=e.mul(y,g);w=e.pow(w,c),w=e.mul(w,b),b=e.mul(w,f),g=e.mul(w,y);let x=e.mul(g,b);w=e.pow(x,l);let E=e.eql(w,e.ONE);b=e.mul(g,m),w=e.mul(x,h),g=e.cmov(b,g,E),x=e.cmov(w,x,E);for(let v=s;v>j;v--){let A=v-ve;A=ve<<A-j;let I=e.pow(x,A);const _=e.eql(I,e.ONE);b=e.mul(g,h),h=e.mul(h,h),I=e.mul(x,h),g=e.cmov(b,g,_),x=e.cmov(I,x,_)}return{isValid:E,value:g}};if(e.ORDER%$r===Pt){const y=(e.ORDER-Pt)/$r,f=e.sqrt(e.neg(t));p=(h,b)=>{let g=e.sqr(b);const w=e.mul(h,b);g=e.mul(g,w);let x=e.pow(g,y);x=e.mul(x,w);const E=e.mul(x,f),v=e.mul(e.sqr(x),b),A=e.eql(v,h);let I=e.cmov(E,x,A);return{isValid:A,value:I}}}return p}function Ed(e,t){if(Qs(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=xd(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,a,o,i,c,u,l,d;s=e.sqr(r),s=e.mul(s,t.Z),a=e.sqr(s),a=e.add(a,s),o=e.add(a,e.ONE),o=e.mul(o,t.B),i=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),i=e.mul(i,t.A),a=e.sqr(o),u=e.sqr(i),c=e.mul(u,t.A),a=e.add(a,c),a=e.mul(a,o),u=e.mul(u,i),c=e.mul(u,t.B),a=e.add(a,c),l=e.mul(s,o);const{isValid:m,value:p}=n(a,u);d=e.mul(s,r),d=e.mul(d,p),l=e.cmov(l,o,m),d=e.cmov(d,p,m);const y=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,y),l=e.div(l,i),{x:l,y:d}}}function Ad(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return Dt(e);throw new Error("DST must be Uint8Array or string")}const Id=K;function xe(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function Pd(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function nt(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function er(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Bd(e,t,n,r){nt(e),nt(t),er(n),t.length>255&&(t=r(ee(Dt("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:a}=r,o=Math.ceil(n/s);if(o>255)throw new Error("Invalid xmd length");const i=ee(t,xe(t.length,1)),c=xe(0,a),u=xe(n,2),l=new Array(o),d=r(ee(c,e,u,xe(0,1),i));l[0]=r(ee(d,xe(1,1),i));for(let p=1;p<=o;p++){const y=[Pd(d,l[p-1]),xe(p+1,1),i];l[p]=r(ee(...y))}return ee(...l).slice(0,n)}function Sd(e,t,n,r,s){if(nt(e),nt(t),er(n),t.length>255){const a=Math.ceil(2*r/8);t=s.create({dkLen:a}).update(Dt("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(xe(n,2)).update(t).update(xe(t.length,1)).digest()}function Cr(e,t,n){We(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:a,hash:o,expand:i,DST:c}=n;nt(e),er(t);const u=Ad(c),l=r.toString(2).length,d=Math.ceil((l+s)/8),m=t*a*d;let p;if(i==="xmd")p=Bd(e,u,m,o);else if(i==="xof")p=Sd(e,u,m,s,o);else if(i==="_internal_pass")p=e;else throw new Error('expand must be "xmd" or "xof"');const y=new Array(t);for(let f=0;f<t;f++){const h=new Array(a);for(let b=0;b<a;b++){const g=d*(b+f*a),w=p.subarray(g,g+d);h[b]=D(Id(w),r)}y[f]=h}return y}function Td(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,s)=>{const[a,o,i,c]=n.map(u=>u.reduce((l,d)=>e.add(e.mul(l,r),d)));return r=e.div(a,o),s=e.mul(s,e.div(i,c)),{x:r,y:s}}}function kd(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const a=Cr(r,2,{...n,DST:n.DST,...s}),o=e.fromAffine(t(a[0])),i=e.fromAffine(t(a[1])),c=o.add(i).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,s){const a=Cr(r,1,{...n,DST:n.encodeDST,...s}),o=e.fromAffine(t(a[0])).clearCofactor();return o.assertValidity(),o}}}class sa extends La{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,za(t);const r=Da(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=t.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(t){return dr(this),this.iHash.update(t),this}digestInto(t){dr(this),Fa(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:o,outputLen:i}=this;return t=t,t.finished=s,t.destroyed=a,t.blockLen=o,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const aa=(e,t,n)=>new sa(e,t).update(n).digest();aa.create=(e,t)=>new sa(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $d(e){return{hash:e,hmac:(t,...n)=>aa(e,t,Ha(...n)),randomBytes:Gr}}function Cd(e,t){const n=r=>vd({...e,...$d(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ft=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Bt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),oa=BigInt(1),St=BigInt(2),_r=(e,t)=>(e+t/St)/t;function ia(e){const t=Ft,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=re(l,n,t)*l%t,m=re(d,n,t)*l%t,p=re(m,St,t)*u%t,y=re(p,s,t)*p%t,f=re(y,a,t)*y%t,h=re(f,i,t)*f%t,b=re(h,c,t)*h%t,g=re(b,i,t)*f%t,w=re(g,n,t)*l%t,x=re(w,o,t)*y%t,E=re(x,r,t)*u%t,v=re(E,St,t);if(!Ie.eql(Ie.sqr(v),e))throw new Error("Cannot find square root");return v}const Ie=ld(Ft,void 0,void 0,{sqrt:ia}),he=Cd({a:BigInt(0),b:BigInt(7),Fp:Ie,n:Bt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Bt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-oa*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),i=_r(a*e,t),c=_r(-r*e,t);let u=D(e-i*n-c*s,t),l=D(-i*r-c*a,t);const d=u>o,m=l>o;if(d&&(u=t-u),m&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:m,k2:l}}}},Et),Ht=BigInt(0),ca=e=>typeof e=="bigint"&&Ht<e&&e<Ft,_d=e=>typeof e=="bigint"&&Ht<e&&e<Bt,Nr={};function Tt(e,...t){let n=Nr[e];if(n===void 0){const r=Et(Uint8Array.from(e,s=>s.charCodeAt(0)));n=ee(r,r),Nr[e]=n}return Et(ee(n,...t))}const tr=e=>e.toRawBytes(!0).slice(1),gn=e=>Ae(e,32),nn=e=>D(e,Ft),rt=e=>D(e,Bt),nr=he.ProjectivePoint,Nd=(e,t,n)=>nr.BASE.multiplyAndAddUnsafe(e,t,n);function wn(e){let t=he.utils.normPrivateKeyToScalar(e),n=nr.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:rt(-t),bytes:tr(n)}}function ua(e){if(!ca(e))throw new Error("bad x: need 0 < x < p");const t=nn(e*e),n=nn(t*e+BigInt(7));let r=ia(n);r%St!==Ht&&(r=nn(-r));const s=new nr(e,r,oa);return s.assertValidity(),s}function da(...e){return rt(K(Tt("BIP0340/challenge",...e)))}function Rd(e){return wn(e).bytes}function Od(e,t,n=Gr(32)){const r=Z("message",e),{bytes:s,scalar:a}=wn(t),o=Z("auxRand",n,32),i=gn(a^K(Tt("BIP0340/aux",o))),c=Tt("BIP0340/nonce",i,s,r),u=rt(K(c));if(u===Ht)throw new Error("sign failed: k is zero");const{bytes:l,scalar:d}=wn(u),m=da(l,s,r),p=new Uint8Array(64);if(p.set(l,0),p.set(gn(rt(d+m*a)),32),!la(p,r,s))throw new Error("sign: Invalid signature produced");return p}function la(e,t,n){const r=Z("signature",e,64),s=Z("message",t),a=Z("publicKey",n,32);try{const o=ua(K(a)),i=K(r.subarray(0,32));if(!ca(i))return!1;const c=K(r.subarray(32,64));if(!_d(c))return!1;const u=da(gn(i),tr(o),s),l=Nd(o,c,rt(-u));return!(!l||!l.hasEvenY()||l.toAffine().x!==i)}catch{return!1}}const Md=(()=>({getPublicKey:Rd,sign:Od,verify:la,utils:{randomPrivateKey:he.utils.randomPrivateKey,lift_x:ua,pointToBytes:tr,numberToBytesBE:Ae,bytesToNumberBE:K,taggedHash:Tt,mod:D}}))(),qd=(()=>Td(Ie,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))))(),Ud=(()=>Ed(Ie,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Ie.create(BigInt("-11"))}))(),fa=(()=>kd(he.ProjectivePoint,e=>{const{x:t,y:n}=Ud(Ie.create(e[0]));return qd(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Ie.ORDER,m:1,k:128,expand:"xmd",hash:Et}))(),jd=(()=>fa.hashToCurve)(),Ld=(()=>fa.encodeToCurve)(),zd=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve:Ld,hashToCurve:jd,schnorr:Md,secp256k1:he},Symbol.toStringTag,{value:"Module"}));function Dd({r:e,s:t,v:n,yParity:r}){const s=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new he.Signature(q(e),q(t)).toCompactHex()}${s===0?"1b":"1c"}`}async function rr(e,{address:t,hash:n,signature:r,...s}){const a=(()=>N(r)?r:typeof r=="object"&&"r"in r&&"s"in r?Dd(r):V(r))();try{const{data:o}=await C(e,ut,"call")({data:ns({abi:No,args:[t,n,a],bytecode:Wu}),...s});return rd(o??"0x0","0x1")}catch(o){if(o instanceof As)return!1;throw o}}async function Fd(e,{address:t,message:n,signature:r,...s}){const a=Zn(n);return rr(e,{address:t,hash:a,signature:r,...s})}async function Hd(e,t){const{address:n,signature:r,message:s,primaryType:a,types:o,domain:i,...c}=t,u=Ms({message:s,primaryType:a,types:o,domain:i});return rr(e,{address:n,hash:u,signature:r,...c})}async function Gd(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function pa(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:i,onError:c,onLogs:u,poll:l,pollingInterval:d=e.pollingInterval,strict:m}=t;return(()=>typeof l<"u"?l:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))()?(()=>{const h=m??!1,b=se(["watchContractEvent",r,s,a,e.uid,o,d,h,i]);return Ee(b,{onLogs:u,onError:c},g=>{let w;i!==void 0&&(w=i-1n);let x,E=!1;const v=ft(async()=>{if(!E){try{x=await C(e,Mn,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:h,fromBlock:i})}catch{}E=!0;return}try{let A;if(x)A=await C(e,qt,"getFilterChanges")({filter:x});else{const I=await C(e,lt,"getBlockNumber")({});w&&w!==I?A=await C(e,Ln,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:w+1n,toBlock:I,strict:h}):A=[],w=I}if(A.length===0)return;if(a)g.onLogs(A);else for(const I of A)g.onLogs([I])}catch(A){x&&A instanceof Fr&&(E=!1),g.onError?.(A)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await C(e,Ut,"uninstallFilter")({filter:x}),v()}})})():(()=>{const h=m??!1,b=se(["watchContractEvent",r,s,a,e.uid,o,d,h]);let g=!0,w=()=>g=!1;return Ee(b,{onLogs:u,onError:c},x=>((async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(_=>_.config.type==="webSocket");return I?I.value:e.transport}return e.transport})(),v=o?dt({abi:n,eventName:o,args:s}):[],{unsubscribe:A}=await E.subscribe({params:["logs",{address:r,topics:v}],onData(I){if(!g)return;const _=I.result;try{const{eventName:T,args:S}=qn({abi:n,data:_.data,topics:_.topics,strict:m}),U=Re(_,{args:S,eventName:T});x.onLogs([U])}catch(T){let S,U;if(T instanceof Qe||T instanceof Nt){if(m)return;S=T.abiItem.name,U=T.abiItem.inputs?.some(ae=>!("name"in ae&&ae.name))}const W=Re(_,{args:U?[]:{},eventName:S});x.onLogs([W])}},onError(I){x.onError?.(I)}});w=A,g||w()}catch(E){c?.(E)}})(),()=>w()))})()}async function ma(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=Se({abi:n,args:s,functionName:o});return C(e,xn,"sendTransaction")({data:`${c}${a?a.replace("0x",""):""}`,to:r,...i})}function Sl({abi:e,address:t,client:n}){const r=n,[s,a]=(()=>r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0])(),o=s!=null,i=a!=null,c={};let u=!1,l=!1,d=!1;for(const m of e)if(m.type==="function"?m.stateMutability==="view"||m.stateMutability==="pure"?u=!0:l=!0:m.type==="event"&&(d=!0),u&&l&&d)break;return o&&(u&&(c.read=new Proxy({},{get(m,p){return(...y)=>{const{args:f,options:h}=ht(y);return C(s,ye,"readContract")({abi:e,address:t,functionName:p,args:f,...h})}}})),l&&(c.simulate=new Proxy({},{get(m,p){return(...y)=>{const{args:f,options:h}=ht(y);return C(s,Ws,"simulateContract")({abi:e,address:t,functionName:p,args:f,...h})}}})),d&&(c.createEventFilter=new Proxy({},{get(m,p){return(...y)=>{const f=e.find(g=>g.type==="event"&&g.name===p),{args:h,options:b}=rn(y,f);return C(s,Mn,"createContractEventFilter")({abi:e,address:t,eventName:p,args:h,...b})}}}),c.getEvents=new Proxy({},{get(m,p){return(...y)=>{const f=e.find(g=>g.type==="event"&&g.name===p),{args:h,options:b}=rn(y,f);return C(s,Ln,"getContractEvents")({abi:e,address:t,eventName:p,args:h,...b})}}}),c.watchEvent=new Proxy({},{get(m,p){return(...y)=>{const f=e.find(g=>g.type==="event"&&g.name===p),{args:h,options:b}=rn(y,f);return C(s,pa,"watchContractEvent")({abi:e,address:t,eventName:p,args:h,...b})}}}))),i&&l&&(c.write=new Proxy({},{get(m,p){return(...y)=>{const{args:f,options:h}=ht(y);return C(a,ma,"writeContract")({abi:e,address:t,functionName:p,args:f,...h})}}})),(o||i)&&l&&(c.estimateGas=new Proxy({},{get(m,p){return(...y)=>{const{args:f,options:h}=ht(y);return C(s??a,$s,"estimateContractGas")({abi:e,address:t,functionName:p,args:f,...h,account:h.account??a.account})}}})),c.address=t,c.abi=e,c}function ht(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function rn(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(a=>a.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}function Tl(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:a,retryDelay:o}=t;return({chain:i,pollingInterval:c=4e3,timeout:u,...l})=>{let d=e,m=()=>{};const p=Zr({key:n,name:r,async request({method:y,params:f}){const h=async(b=0)=>{const g=d[b]({...l,chain:i,retryCount:0,timeout:u});try{const w=await g.request({method:y,params:f});return m({method:y,params:f,response:w,transport:g,status:"success"}),w}catch(w){if(m({error:w,method:y,params:f,transport:g,status:"error"}),Zd(w)||b===d.length-1)throw w;return h(b+1)}};return h()},retryCount:a,retryDelay:o,type:"fallback"},{onResponse:y=>m=y,transports:d.map(y=>y({chain:i,retryCount:0}))});if(s){const y=typeof s=="object"?s:{};Vd({chain:i,interval:y.interval??c,onTransports:f=>d=f,sampleCount:y.sampleCount,timeout:y.timeout,transports:d,weights:y.weights})}return p}}function Zd(e){return"code"in e&&typeof e.code=="number"&&(e.code===Ga.code||e.code===Za.code||e.code===5e3)}function Vd({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:a,weights:o={}}){const{stability:i=.7,latency:c=.3}=o,u=[],l=async()=>{const d=await Promise.all(a.map(async y=>{const f=y({chain:e,retryCount:0,timeout:s}),h=Date.now();let b,g;try{await f.request({method:"net_listening"}),g=1}catch{g=0}finally{b=Date.now()}return{latency:b-h,success:g}}));u.push(d),u.length>r&&u.shift();const m=Math.max(...u.map(y=>Math.max(...y.map(({latency:f})=>f)))),p=a.map((y,f)=>{const h=u.map(E=>E[f].latency),g=1-h.reduce((E,v)=>E+v,0)/h.length/m,w=u.map(E=>E[f].success),x=w.reduce((E,v)=>E+v,0)/w.length;return x===0?[0,f]:[c*g+i*x,f]}).sort((y,f)=>f[0]-y[0]);n(p.map(([,y])=>a[y])),await on(t),l()};l()}function Wd(e){const{scheme:t,statement:n,...r}=e.match(Kd)?.groups??{},{chainId:s,expirationTime:a,issuedAt:o,notBefore:i,requestId:c,...u}=e.match(Yd)?.groups??{},l=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Kd=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Yd=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Jd(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||t&&!jt(r.address,t))return!1}catch{return!1}return!0}async function Xd(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:o,signature:i,time:c=new Date,...u}=t,l=Wd(s);if(!l.address||!Jd({address:n,domain:r,message:l,nonce:a,scheme:o,time:c}))return!1;const m=Zn(s);return rr(e,{address:l.address,hash:m,signature:i,...u})}function Qd(e){return{call:t=>ut(e,t),createBlockFilter:()=>sc(e),createContractEventFilter:t=>Mn(e,t),createEventFilter:t=>Ts(e,t),createPendingTransactionFilter:()=>ks(e),estimateContractGas:t=>$s(e,t),estimateGas:t=>Lr(e,t),getBalance:t=>ic(e,t),getBlobBaseFee:()=>cc(e),getBlock:t=>xt(e,t),getBlockNumber:t=>lt(e,t),getBlockTransactionCount:t=>mc(e,t),getBytecode:t=>yc(e,t),getChainId:()=>Bn(e),getContractEvents:t=>Ln(e,t),getEnsAddress:t=>Di(e,t),getEnsAvatar:t=>tc(e,t),getEnsName:t=>nc(e,t),getEnsResolver:t=>rc(e,t),getEnsText:t=>Ss(e,t),getFeeHistory:t=>gc(e,t),estimateFeesPerGas:t=>Va(e,t),getFilterChanges:t=>qt(e,t),getFilterLogs:t=>wc(e,t),getGasPrice:()=>Wa(e),getLogs:t=>jn(e,t),getProof:t=>yu(e,t),estimateMaxPriorityFeePerGas:t=>Ka(e,t),getStorageAt:t=>vc(e,t),getTransaction:t=>zn(e,t),getTransactionConfirmations:t=>xc(e,t),getTransactionCount:t=>Ya(e,t),getTransactionReceipt:t=>yn(e,t),multicall:t=>Bc(e,t),prepareTransactionRequest:t=>Vr(e,t),readContract:t=>ye(e,t),sendRawTransaction:t=>Wr(e,t),simulateContract:t=>Ws(e,t),verifyMessage:t=>Fd(e,t),verifySiweMessage:t=>Xd(e,t),verifyTypedData:t=>Hd(e,t),uninstallFilter:t=>Ut(e,t),waitForTransactionReceipt:t=>hu(e,t),watchBlocks:t=>Tc(e,t),watchBlockNumber:t=>Cs(e,t),watchContractEvent:t=>pa(e,t),watchEvent:t=>kc(e,t),watchPendingTransactions:t=>$c(e,t)}}function kl(e){const{key:t="public",name:n="Public Client"}=e;return Sn({...e,key:t,name:n,type:"publicClient"}).extend(Qd)}function el({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>wu(n,r),dumpState:()=>oc(n),getAutomine:()=>vu(n),getTxpoolContent:()=>xu(n),getTxpoolStatus:()=>Eu(n),impersonateAccount:r=>Ec(n,r),increaseTime:r=>Ac(n,r),inspectTxpool:()=>Au(n),loadState:r=>Ic(n,r),mine:r=>Pc(n,r),removeBlockTimestampInterval:()=>Iu(n),reset:r=>Pu(n,r),revert:r=>Bu(n,r),sendUnsignedTransaction:r=>Tu(n,r),setAutomine:r=>$u(n,r),setBalance:r=>ku(n,r),setBlockGasLimit:r=>Cu(n,r),setBlockTimestampInterval:r=>_u(n,r),setCode:r=>Nu(n,r),setCoinbase:r=>Ru(n,r),setIntervalMining:r=>Ou(n,r),setLoggingEnabled:r=>Mu(n,r),setMinGasPrice:r=>qu(n,r),setNextBlockBaseFeePerGas:r=>Uu(n,r),setNextBlockTimestamp:r=>ju(n,r),setNonce:r=>Lu(n,r),setRpcUrl:r=>zu(n,r),setStorageAt:r=>Du(n,r),snapshot:()=>Fu(n),stopImpersonatingAccount:r=>Zu(n,r)}}}function $l(e){const{key:t="test",name:n="Test Client",mode:r}=e;return Sn({...e,key:t,name:n,type:"testClient"}).extend(a=>({mode:r,...el({mode:r})(a)}))}function tl(e){return{addChain:t=>uo(e,t),deployContract:t=>Co(e,t),getAddresses:()=>Cc(e),getChainId:()=>Bn(e),getPermissions:()=>_c(e),prepareTransactionRequest:t=>Vr(e,t),requestAddresses:()=>bu(e),requestPermissions:t=>gu(e,t),sendRawTransaction:t=>Wr(e,t),sendTransaction:t=>xn(e,t),signMessage:t=>Hu(e,t),signTransaction:t=>Su(e,t),signTypedData:t=>Gu(e,t),switchChain:t=>Vu(e,t),watchAsset:t=>Gd(e,t),writeContract:t=>ma(e,t)}}function Cl(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Sn({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(tl)}function _l(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",reconnect:s,retryDelay:a}=t;return({chain:o,retryCount:i,timeout:c})=>{const u=t.retryCount??i,l=c??t.timeout??1e4,d=e||o?.rpcUrls.default.webSocket?.[0];if(!d)throw new Ja;return Zr({key:n,name:r,async request({method:m,params:p}){const y={method:m,params:p},f=await wt(d,{reconnect:s}),{error:h,result:b}=await f.requestAsync({body:y,timeout:l});if(h)throw new Xa({body:y,error:h,url:d});return b},retryCount:u,retryDelay:a,timeout:l,type:"webSocket"},{getSocket(){return zc(d)},getRpcClient(){return wt(d)},async subscribe({params:m,onData:p,onError:y}){const f=await wt(d),{result:h}=await new Promise((b,g)=>f.request({body:{method:"eth_subscribe",params:m},onResponse(w){if(w.error){g(w.error),y?.(w.error);return}if(typeof w.id=="number"){b(w);return}w.method==="eth_subscription"&&p(w.params)}}));return{subscriptionId:h,async unsubscribe(){return new Promise(b=>f.request({body:{method:"eth_unsubscribe",params:[h]},onResponse:b}))}}}})}}const Nl="0x0000000000000000000000000000000000000000",Rl="0x0000000000000000000000000000000000000000000000000000000000000000",sn="/docs/contract/decodeDeployData";function Ol(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Kr({docsPath:sn});if(!("inputs"in s))throw new At({docsPath:sn});if(!s.inputs||s.inputs.length===0)throw new At({docsPath:sn});return{args:Ge(s.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function Ml({r:e,yParityAndS:t}){const n=at(t),r=n[0]&128?1:0,s=n;return r===1&&(s[0]&=127),{r:e,s:V(s),yParity:r}}function ql(e){const{r:t,s:n}=he.Signature.fromCompact(e.slice(2,130));return{r:k(t,{size:32}),yParityAndS:k(n,{size:32})}}function Ul(e){const{r:t,s:n}=he.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:k(t,{size:32}),s:k(n,{size:32}),v:s,yParity:a}:{r:k(t,{size:32}),s:k(n,{size:32}),yParity:a}}async function jl(e){const{serializedTransaction:t,signature:n}=e,r=cu(t),s=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},a=co({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Gn({hash:F(a),signature:s})}function Ll(e){const{r:t,s:n,v:r,yParity:s}=e,a=Number(s??r-27n);let o=n;if(a===1){const i=at(n);i[0]|=128,o=V(i)}return{r:t,yParityAndS:o}}function zl({r:e,yParityAndS:t}){return`0x${new he.Signature(q(e),q(t)).toCompactHex()}`}function Dl(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(const{commitment:a}of t)s.push(Qa({commitment:a,to:r,version:n}));return s}function Fl(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(i=>at(i)):e.blobs,r=n.reduce((i,c)=>i+c.length,0),s=vt(new Uint8Array(r));let a=!0;for(const i of n){const c=vt(i);for(;a&&c.position<i.length;){c.incrementPosition(1);let u=31;i.length-c.position<31&&(u=i.length-c.position);for(const l in Array.from({length:u})){const d=c.readByte();if(d===128&&!c.inspectBytes(c.remaining).includes(128)){a=!1;break}s.pushByte(d)}}}const o=s.bytes.slice(0,s.position);return t==="hex"?V(o):o}function nl({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function Hl(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return nl(e)}export{Kr as AbiConstructorNotFoundError,At as AbiConstructorParamsNotFoundError,al as AbiDecodingDataSizeInvalidError,Yr as AbiDecodingDataSizeTooSmallError,_t as AbiDecodingZeroDataError,fo as AbiEncodingArrayLengthMismatchError,po as AbiEncodingBytesSizeMismatchError,Jr as AbiEncodingLengthMismatchError,mo as AbiErrorInputsNotFoundError,lr as AbiErrorNotFoundError,Xr as AbiErrorSignatureNotFoundError,fr as AbiEventNotFoundError,yo as AbiEventSignatureEmptyTopicsError,Qr as AbiEventSignatureNotFoundError,De as AbiFunctionNotFoundError,es as AbiFunctionOutputsNotFoundError,ho as AbiFunctionSignatureNotFoundError,Vl as AccountStateConflictError,$ as BaseError,Wl as BaseFeeScalarError,Ua as BlockNotFoundError,ts as BytesSizeMismatchError,As as CallExecutionError,Kl as ChainDisconnectedError,an as ChainDoesNotSupportContract,Yl as ChainMismatchError,Jl as ChainNotFoundError,bi as CircularReferenceError,Ur as ClientChainNotConfiguredError,_i as ContractFunctionExecutionError,mn as ContractFunctionRevertedError,Ni as ContractFunctionZeroDataError,Qe as DecodeLogDataMismatch,Nt as DecodeLogTopicsMismatch,Xl as Eip1559FeesNotSupportedError,Je as EnsAvatarInvalidNftUriError,Hi as EnsAvatarUnsupportedNamespaceError,Rn as EnsAvatarUriResolutionError,Ql as EstimateGasExecutionError,ef as ExecutionRevertedError,tf as FeeCapTooHighError,nf as FeeCapTooLowError,rf as FeeConflictError,ac as FilterTypeNotSupportedError,ir as HttpRequestError,sf as InsufficientFundsError,af as IntegerOutOfRangeError,wa as InternalRpcError,of as IntrinsicGasTooHighError,cf as IntrinsicGasTooLowError,wo as InvalidAbiDecodingTypeError,go as InvalidAbiEncodingTypeError,ai as InvalidAbiItemError,ci as InvalidAbiParameterError,ui as InvalidAbiParametersError,mi as InvalidAbiTypeParameterError,ze as InvalidAddressError,vo as InvalidArrayError,ya as InvalidBytesBooleanError,uf as InvalidChainIdError,xo as InvalidDefinitionTypeError,pi as InvalidFunctionModifierError,df as InvalidHexBooleanError,$a as InvalidHexValueError,Fr as InvalidInputRpcError,Oa as InvalidLegacyVError,fi as InvalidModifierError,di as InvalidParameterError,lf as InvalidParamsRpcError,gi as InvalidParenthesisError,ff as InvalidRequestRpcError,pf as InvalidSerializableTransactionError,$t as InvalidSerializedTransactionError,Na as InvalidSerializedTransactionTypeError,Xe as InvalidSignatureError,mf as InvalidStorageKeySizeError,hi as InvalidStructSignatureError,yf as JsonRpcVersionUnsupportedError,hf as LimitExceededRpcError,bf as MaxFeePerGasTooLowError,gf as MethodNotFoundRpcError,wf as MethodNotSupportedRpcError,vf as NonceMaxValueError,xf as NonceTooHighError,Ef as NonceTooLowError,Af as ParseRpcError,If as ProviderDisconnectedError,Pf as ProviderRpcError,_n as RawContractError,Bf as ResourceNotFoundRpcError,Sf as ResourceUnavailableRpcError,Tf as RpcError,Xa as RpcRequestError,kf as SizeExceedsPaddingSizeError,$f as SizeOverflowError,Cf as SliceOffsetOutOfBoundsError,li as SolidityProtectedKeywordError,_f as StateAssignmentConflictError,Nf as SwitchChainError,Ta as TimeoutError,Rf as TipAboveFeeCapError,Of as TransactionExecutionError,zr as TransactionNotFoundError,Dr as TransactionReceiptNotFoundError,Ga as TransactionRejectedRpcError,Mf as TransactionTypeNotSupportedError,qf as UnauthorizedProviderError,xa as UnknownNodeError,Uf as UnknownRpcError,yi as UnknownSignatureError,oi as UnknownTypeError,Eo as UnsupportedPackedAbiType,jf as UnsupportedProviderMethodError,Ja as UrlRequiredError,Za as UserRejectedRequestError,cr as WaitForTransactionReceiptTimeoutError,ka as WebSocketRequestError,ja as assertCurrentChain,Mr as assertRequest,ao as assertTransactionEIP1559,oo as assertTransactionEIP2930,io as assertTransactionLegacy,Lf as blobsToCommitments,zf as blobsToProofs,Df as boolToBytes,Rr as boolToHex,as as bytesToBigInt,os as bytesToBool,V as bytesToHex,le as bytesToNumber,lp as bytesToRlp,is as bytesToString,Ns as ccipFetch,Ns as ccipRequest,En as checksumAddress,Qa as commitmentToVersionedHash,Ff as commitmentsToVersionedHashes,zl as compactSignatureToHex,Ml as compactSignatureToSignature,ce as concat,fp as concatBytes,ot as concatHex,Sn as createClient,kl as createPublicClient,$l as createTestClient,Zr as createTransport,Cl as createWalletClient,Hf as custom,Ge as decodeAbiParameters,Ol as decodeDeployData,xs as decodeErrorResult,qn as decodeEventLog,bl as decodeFunctionData,Ze as decodeFunctionResult,Gf as defineBlock,pp as defineChain,nl as defineKzg,Zf as defineTransaction,mp as defineTransactionReceipt,Vf as defineTransactionRequest,hl as domainSeparator,Pe as encodeAbiParameters,ns as encodeDeployData,gl as encodeErrorResult,dt as encodeEventTopics,Se as encodeFunctionData,wl as encodeFunctionResult,vl as encodePacked,ol as erc20Abi,il as erc20Abi_bytes32,ul as erc4626Abi,cl as erc721Abi,Wf as etherUnits,yl as extractChain,Tl as fallback,Pa as formatBlock,ha as formatEther,Zt as formatGwei,Re as formatLog,Ia as formatTransaction,to as formatTransactionReceipt,An as formatTransactionRequest,Kf as formatUnits,Fl as fromBlobs,dl as fromBytes,Yf as fromHex,Hs as fromRlp,Me as getAbiItem,_e as getAddress,Ve as getChainContractAddress,Sl as getContract,xl as getContractAddress,tt as getContractError,Zc as getCreate2Address,Gc as getCreateAddress,Cn as getEventSelector,Ti as getEventSignature,ct as getFunctionSelector,Ti as getFunctionSignature,iu as getSerializedTransactionType,Jf as getTransactionType,Dn as getTypesForEIP712Domain,qa as gweiUnits,qs as hashDomain,Zn as hashMessage,Ms as hashTypedData,q as hexToBigInt,Xf as hexToBool,at as hexToBytes,ql as hexToCompactSignature,J as hexToNumber,yp as hexToRlp,Ul as hexToSignature,Qf as hexToString,ep as http,me as isAddress,jt as isAddressEqual,Ar as isBytes,Wc as isHash,N as isHex,F as keccak256,Oi as labelhash,hp as maxInt104,bp as maxInt112,gp as maxInt120,wp as maxInt128,vp as maxInt136,xp as maxInt144,Ep as maxInt152,Ap as maxInt16,Ip as maxInt160,Pp as maxInt168,Bp as maxInt176,Sp as maxInt184,Tp as maxInt192,kp as maxInt200,$p as maxInt208,Cp as maxInt216,_p as maxInt224,Np as maxInt232,Rp as maxInt24,Op as maxInt240,Mp as maxInt248,qp as maxInt256,Up as maxInt32,jp as maxInt40,Lp as maxInt48,zp as maxInt56,Dp as maxInt64,Fp as maxInt72,Hp as maxInt8,Gp as maxInt80,Zp as maxInt88,Vp as maxInt96,Wp as maxUint104,Kp as maxUint112,Yp as maxUint120,Jp as maxUint128,Xp as maxUint136,Qp as maxUint144,e0 as maxUint152,t0 as maxUint16,n0 as maxUint160,r0 as maxUint168,s0 as maxUint176,a0 as maxUint184,o0 as maxUint192,i0 as maxUint200,c0 as maxUint208,u0 as maxUint216,d0 as maxUint224,l0 as maxUint232,f0 as maxUint24,p0 as maxUint240,m0 as maxUint248,y0 as maxUint256,h0 as maxUint32,b0 as maxUint40,g0 as maxUint48,w0 as maxUint56,v0 as maxUint64,x0 as maxUint72,E0 as maxUint8,A0 as maxUint80,I0 as maxUint88,P0 as maxUint96,B0 as minInt104,S0 as minInt112,T0 as minInt120,k0 as minInt128,$0 as minInt136,C0 as minInt144,_0 as minInt152,N0 as minInt16,R0 as minInt160,O0 as minInt168,M0 as minInt176,q0 as minInt184,U0 as minInt192,j0 as minInt200,L0 as minInt208,z0 as minInt216,D0 as minInt224,F0 as minInt232,H0 as minInt24,G0 as minInt240,Z0 as minInt248,V0 as minInt256,W0 as minInt32,K0 as minInt40,Y0 as minInt48,J0 as minInt56,X0 as minInt64,Q0 as minInt72,em as minInt8,tm as minInt80,nm as minInt88,rm as minInt96,cn as multicall3Abi,gt as namehash,tp as numberToBytes,k as numberToHex,qc as offchainLookup,_s as offchainLookupAbiItem,Mc as offchainLookupSignature,bt as pad,np as padBytes,pe as padHex,ll as parseAbi,fl as parseAbiItem,pl as parseAbiParameter,ml as parseAbiParameters,ql as parseCompactSignature,rp as parseEther,Un as parseEventLogs,Pl as parseGwei,Ul as parseSignature,cu as parseTransaction,Ma as parseUnits,ki as prepareEncodeFunctionData,su as presignMessagePrefix,Qd as publicActions,Gn as recoverAddress,au as recoverMessageAddress,ru as recoverPublicKey,jl as recoverTransactionAddress,ou as recoverTypedDataAddress,El as ripemd160,sp as rpcSchema,ap as rpcTransactionType,sm as serializeAccessList,zl as serializeCompactSignature,Dd as serializeSignature,co as serializeTransaction,Hl as setupKzg,op as sha256,Dl as sidecarsToVersionedHashes,Ll as signatureToCompactSignature,Dd as signatureToHex,Y as size,Ne as slice,eo as sliceBytes,ro as sliceHex,Ce as stringToBytes,vn as stringToHex,se as stringify,el as testActions,Ra as toBlobSidecars,ip as toBlobs,ne as toBytes,gs as toEventHash,Cn as toEventSelector,Ti as toEventSignature,gs as toFunctionHash,ct as toFunctionSelector,Ti as toFunctionSignature,fe as toHex,no as toRlp,cp as transactionType,st as trim,Ds as validateTypedData,Al as verifyMessage,Il as verifyTypedData,tl as walletActions,_l as webSocket,up as weiUnits,ur as withRetry,Sa as withTimeout,Nl as zeroAddress,Rl as zeroHash};
